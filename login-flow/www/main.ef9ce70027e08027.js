var LJ=Object.defineProperty,FJ=(Lt,qe,R)=>qe in Lt?LJ(Lt,qe,{enumerable:!0,configurable:!0,writable:!0,value:R}):Lt[qe]=R,Zt=(Lt,qe,R)=>(FJ(Lt,"symbol"!=typeof qe?qe+"":qe,R),R);(self.webpackChunklogin_flow=self.webpackChunklogin_flow||[]).push([[179],{2011:(Lt,qe,R)=>{"use strict";R.d(qe,{Dh:()=>Ee,GT:()=>_e,cc:()=>Se,hO:()=>le,on:()=>se,pX:()=>Me,xv:()=>xe});var o=R(4650),de=R(9260),B=R(4976);Lt=R.hmd(Lt);const Oe=["ngOnDestroy"],Me=(ie,Ae,tt,Fe={})=>new Proxy(ie,{get:(ke,be)=>tt.runOutsideAngular(()=>{var Ke;if(ie[be])return!(null===(Ke=Fe?.spy)||void 0===Ke)&&Ke.get&&Fe.spy.get(be,ie[be]),ie[be];if(Oe.indexOf(be)>-1)return()=>{};const Y=Ae.toPromise().then(te=>{const U=te&&te[be];return"function"==typeof U?U.bind(te):U&&U.then?U.then(ue=>tt.run(()=>ue)):tt.run(()=>U)});return new Proxy(()=>{},{get:(te,U)=>Y[U],apply:(te,U,ue)=>Y.then(ne=>{var W;const ee=ne&&ne(...ue);return!(null===(W=Fe?.spy)||void 0===W)&&W.apply&&Fe.spy.apply(be,ue,ee),ee})})})}),_e=(ie,Ae)=>{Ae.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Fe=>{Object.defineProperty(ie.prototype,Fe,Object.getOwnPropertyDescriptor(tt.prototype||tt,Fe))})})};class X{constructor(Ae){return Ae}}const Ee=new o.OlP("angularfire2.app.options"),xe=new o.OlP("angularfire2.app.name");function se(ie,Ae,tt){const ke="object"==typeof tt&&tt||{};ke.name=ke.name||"string"==typeof tt&&tt||"[DEFAULT]";const Ke=de.Z.apps.filter(Y=>Y&&Y.name===ke.name)[0]||Ae.runOutsideAngular(()=>de.Z.initializeApp(ie,ke));try{JSON.stringify(ie)!==JSON.stringify(Ke.options)&&G("error",`${Ke.name} Firebase App already initialized with different options${Lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new X(Ke)}const G=(ie,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ie](...Ae)},re={provide:X,useFactory:se,deps:[Ee,o.R0b,[new o.FiY,xe]]};let le=(()=>{class ie{constructor(tt){de.Z.registerVersion("angularfire",B.q4.full,"core"),de.Z.registerVersion("angularfire",B.q4.full,"app-compat"),de.Z.registerVersion("angular",o.q4F.full,tt.toString())}static initializeApp(tt,Fe){return{ngModule:ie,providers:[{provide:Ee,useValue:tt},{provide:xe,useValue:Fe}]}}}return ie.\u0275fac=function(tt){return new(tt||ie)(o.LFG(o.Lbi))},ie.\u0275mod=o.oAB({type:ie}),ie.\u0275inj=o.cJS({providers:[re]}),ie})();function Se(ie,Ae,tt,Fe,ke){const[,be,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===ie)||[];if(be)return function ye(ie,Ae){try{return ie.toString()===Ae.toString()}catch{return ie===Ae}}(ke,Ke)||(oe("error",`${Ae} was already initialized on the ${tt} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:ke,was:Ke})),be;{const Y=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ie,Y,ke]),Y}}const Qe=!!Lt.hot,oe=(ie,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ie](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Lt,qe,R)=>{"use strict";R.d(qe,{q4:()=>Gl,iC:()=>Xc,HU:()=>gy,vb:()=>Zc,JM:()=>Nh});var o=R(4650),de=R(259),B=R(5861),Oe=R(6881),Me=R(2090),_e=R(4859),X=R(1877);let xe,se;const le=new WeakMap,Se=new WeakMap,ye=new WeakMap,Qe=new WeakMap,oe=new WeakMap;let tt={get(E,x,k){if(E instanceof IDBTransaction){if("done"===x)return Se.get(E);if("objectStoreNames"===x)return E.objectStoreNames||ye.get(E);if("store"===x)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Ke(E[x])},set:(E,x,k)=>(E[x]=k,!0),has:(E,x)=>E instanceof IDBTransaction&&("done"===x||"store"===x)||x in E};function be(E){return"function"==typeof E?function ke(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...x){return E.apply(Y(this),x),Ke(le.get(this))}:function(...x){return Ke(E.apply(Y(this),x))}:function(x,...k){const Z=E.call(Y(this),x,...k);return ye.set(Z,x.sort?x.sort():[x]),Ke(Z)}}(E):(E instanceof IDBTransaction&&function Ae(E){if(Se.has(E))return;const x=new Promise((k,Z)=>{const De=()=>{E.removeEventListener("complete",Ue),E.removeEventListener("error",at),E.removeEventListener("abort",at)},Ue=()=>{k(),De()},at=()=>{Z(E.error||new DOMException("AbortError","AbortError")),De()};E.addEventListener("complete",Ue),E.addEventListener("error",at),E.addEventListener("abort",at)});Se.set(E,x)}(E),((E,x)=>x.some(k=>E instanceof k))(E,function G(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,tt):E)}function Ke(E){if(E instanceof IDBRequest)return function ie(E){const x=new Promise((k,Z)=>{const De=()=>{E.removeEventListener("success",Ue),E.removeEventListener("error",at)},Ue=()=>{k(Ke(E.result)),De()},at=()=>{Z(E.error),De()};E.addEventListener("success",Ue),E.addEventListener("error",at)});return x.then(k=>{k instanceof IDBCursor&&le.set(k,E)}).catch(()=>{}),oe.set(x,E),x}(E);if(Qe.has(E))return Qe.get(E);const x=be(E);return x!==E&&(Qe.set(E,x),oe.set(x,E)),x}const Y=E=>oe.get(E),ue=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],W=new Map;function ee(E,x){if(!(E instanceof IDBDatabase)||x in E||"string"!=typeof x)return;if(W.get(x))return W.get(x);const k=x.replace(/FromIndex$/,""),Z=x!==k,De=ne.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!De&&!ue.includes(k))return;const Ue=function(){var at=(0,B.Z)(function*(jt,...$t){const pn=this.transaction(jt,De?"readwrite":"readonly");let gn=pn.store;return Z&&(gn=gn.index($t.shift())),(yield Promise.all([gn[k](...$t),De&&pn.done]))[0]});return function($t){return at.apply(this,arguments)}}();return W.set(x,Ue),Ue}!function Fe(E){tt=E(tt)}(E=>({...E,get:(x,k,Z)=>ee(x,k)||E.get(x,k,Z),has:(x,k)=>!!ee(x,k)||E.has(x,k)}));const ut="@firebase/installations",Ye="w:0.6.4",z="FIS_v2",_t=new Me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(E){return E instanceof Me.ZR&&E.code.includes("request-failed")}function Ct({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ut(E){return{token:E.token,requestStatus:2,expiresIn:nn(E.expiresIn),creationTime:Date.now()}}function Yt(E,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(E,x){const Z=(yield x.json()).error;return _t.create("request-failed",{requestName:E,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function rt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ot(E,{refreshToken:x}){const k=rt(E);return k.append("Authorization",function Ht(E){return`${z} ${E}`}(x)),k}function vt(E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,B.Z)(function*(E){const x=yield E();return x.status>=500&&x.status<600?E():x})).apply(this,arguments)}function nn(E){return Number(E.replace("s","000"))}function Tt(E,x){return dn.apply(this,arguments)}function dn(){return(dn=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:x},{fid:k}){const Z=Ct(E),De=rt(E),Ue=x.getImmediate({optional:!0});if(Ue){const pn=yield Ue.getHeartbeatsHeader();pn&&De.append("x-firebase-client",pn)}const jt={method:"POST",headers:De,body:JSON.stringify({fid:k,authVersion:z,appId:E.appId,sdkVersion:Ye})},$t=yield vt(()=>fetch(Z,jt));if($t.ok){const pn=yield $t.json();return{fid:pn.fid||k,registrationStatus:2,refreshToken:pn.refreshToken,authToken:Ut(pn.authToken)}}throw yield Yt("Create Installation",$t)})).apply(this,arguments)}function Un(E){return new Promise(x=>{setTimeout(x,E)})}const Zi=/^[cdef][\w-]{21}$/;function ui(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const k=function Yn(E){return function En(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Zi.test(k)?k:""}catch{return""}}function Ln(E){return`${E.appName}!${E.appId}`}const qt=new Map;function an(E,x){const k=Ln(E);Hn(k,x),function Kn(E,x){const k=function Qn(){return!rn&&"BroadcastChannel"in self&&(rn=new BroadcastChannel("[Firebase] FID Change"),rn.onmessage=E=>{Hn(E.data.key,E.data.fid)}),rn}();k&&k.postMessage({key:E,fid:x}),function Fn(){0===qt.size&&rn&&(rn.close(),rn=null)}()}(k,x)}function Hn(E,x){const k=qt.get(E);if(k)for(const Z of k)Z(x)}let rn=null;const Oi="firebase-installations-store";let Di=null;function Bi(){return Di||(Di=function te(E,x,{blocked:k,upgrade:Z,blocking:De,terminated:Ue}={}){const at=indexedDB.open(E,x),jt=Ke(at);return Z&&at.addEventListener("upgradeneeded",$t=>{Z(Ke(at.result),$t.oldVersion,$t.newVersion,Ke(at.transaction))}),k&&at.addEventListener("blocked",()=>k()),jt.then($t=>{Ue&&$t.addEventListener("close",()=>Ue()),De&&$t.addEventListener("versionchange",()=>De())}).catch(()=>{}),jt}("firebase-installations-database",1,{upgrade:(E,x)=>{0===x&&E.createObjectStore(Oi)}})),Di}function vi(E,x){return zi.apply(this,arguments)}function zi(){return(zi=(0,B.Z)(function*(E,x){const k=Ln(E),De=(yield Bi()).transaction(Oi,"readwrite"),Ue=De.objectStore(Oi),at=yield Ue.get(k);return yield Ue.put(x,k),yield De.done,(!at||at.fid!==x.fid)&&an(E,x.fid),x})).apply(this,arguments)}function kr(E){return ai.apply(this,arguments)}function ai(){return(ai=(0,B.Z)(function*(E){const x=Ln(E),Z=(yield Bi()).transaction(Oi,"readwrite");yield Z.objectStore(Oi).delete(x),yield Z.done})).apply(this,arguments)}function Qi(E,x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,B.Z)(function*(E,x){const k=Ln(E),De=(yield Bi()).transaction(Oi,"readwrite"),Ue=De.objectStore(Oi),at=yield Ue.get(k),jt=x(at);return void 0===jt?yield Ue.delete(k):yield Ue.put(jt,k),yield De.done,jt&&(!at||at.fid!==jt.fid)&&an(E,jt.fid),jt})).apply(this,arguments)}function pe(E){return ce.apply(this,arguments)}function ce(){return(ce=(0,B.Z)(function*(E){let x;const k=yield Qi(E.appConfig,Z=>{const De=Re(Z),Ue=et(E,De);return x=Ue.registrationPromise,Ue.installationEntry});return""===k.fid?{installationEntry:yield x}:{installationEntry:k,registrationPromise:x}})).apply(this,arguments)}function Re(E){return j(E||{fid:ui(),registrationStatus:0})}function et(E,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(_t.create("app-offline"))};const k={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},Z=function Ve(E,x){return Mt.apply(this,arguments)}(E,k);return{installationEntry:k,registrationPromise:Z}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:cn(E)}:{installationEntry:x}}function Mt(){return(Mt=(0,B.Z)(function*(E,x){try{const k=yield Tt(E,x);return vi(E.appConfig,k)}catch(k){throw kt(k)&&409===k.customData.serverCode?yield kr(E.appConfig):yield vi(E.appConfig,{fid:x.fid,registrationStatus:0}),k}})).apply(this,arguments)}function cn(E){return xn.apply(this,arguments)}function xn(){return(xn=(0,B.Z)(function*(E){let x=yield J(E.appConfig);for(;1===x.registrationStatus;)yield Un(100),x=yield J(E.appConfig);if(0===x.registrationStatus){const{installationEntry:k,registrationPromise:Z}=yield pe(E);return Z||k}return x})).apply(this,arguments)}function J(E){return Qi(E,x=>{if(!x)throw _t.create("installation-not-found");return j(x)})}function j(E){return function we(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ce(E,x){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:x},k){const Z=gt(E,k),De=ot(E,k),Ue=x.getImmediate({optional:!0});if(Ue){const pn=yield Ue.getHeartbeatsHeader();pn&&De.append("x-firebase-client",pn)}const jt={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:Ye,appId:E.appId}})},$t=yield vt(()=>fetch(Z,jt));if($t.ok)return Ut(yield $t.json());throw yield Yt("Generate Auth Token",$t)})).apply(this,arguments)}function gt(E,{fid:x}){return`${Ct(E)}/${x}/authTokens:generate`}function dt(E){return xt.apply(this,arguments)}function xt(){return(xt=(0,B.Z)(function*(E,x=!1){let k;const Z=yield Qi(E.appConfig,Ue=>{if(!Gt(Ue))throw _t.create("not-registered");const at=Ue.authToken;if(!x&&Tn(at))return Ue;if(1===at.requestStatus)return k=fe(E,x),Ue;{if(!navigator.onLine)throw _t.create("app-offline");const jt=Pn(Ue);return k=st(E,jt),jt}});return k?yield k:Z.authToken})).apply(this,arguments)}function fe(E,x){return me.apply(this,arguments)}function me(){return(me=(0,B.Z)(function*(E,x){let k=yield Je(E.appConfig);for(;1===k.authToken.requestStatus;)yield Un(100),k=yield Je(E.appConfig);const Z=k.authToken;return 0===Z.requestStatus?dt(E,x):Z})).apply(this,arguments)}function Je(E){return Qi(E,x=>{if(!Gt(x))throw _t.create("not-registered");return function di(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function st(E,x){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,B.Z)(function*(E,x){try{const k=yield Ce(E,x),Z=Object.assign(Object.assign({},x),{authToken:k});return yield vi(E.appConfig,Z),k}catch(k){if(!kt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const Z=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield vi(E.appConfig,Z)}else yield kr(E.appConfig);throw k}})).apply(this,arguments)}function Gt(E){return void 0!==E&&2===E.registrationStatus}function Tn(E){return 2===E.requestStatus&&!function Zn(E){const x=Date.now();return x<E.creationTime||E.creationTime+E.expiresIn<x+36e5}(E)}function Pn(E){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:x})}function ii(){return(ii=(0,B.Z)(function*(E){const x=E,{installationEntry:k,registrationPromise:Z}=yield pe(x);return Z?Z.catch(console.error):dt(x).catch(console.error),k.fid})).apply(this,arguments)}function mo(){return(mo=(0,B.Z)(function*(E,x=!1){const k=E;return yield Wn(k),(yield dt(k,x)).token})).apply(this,arguments)}function Wn(E){return ns.apply(this,arguments)}function ns(){return(ns=(0,B.Z)(function*(E){const{registrationPromise:x}=yield pe(E);x&&(yield x)})).apply(this,arguments)}function ki(E){return _t.create("missing-app-config-values",{valueName:E})}const L="installations",Le=E=>{const x=E.getProvider("app").getImmediate(),k=function $a(E){if(!E||!E.options)throw ki("App Configuration");if(!E.name)throw ki("App Name");const x=["projectId","apiKey","appId"];for(const k of x)if(!E.options[k])throw ki(k);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(x);return{app:x,appConfig:k,heartbeatServiceProvider:(0,Oe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Ne=E=>{const x=E.getProvider("app").getImmediate(),k=(0,Oe._getProvider)(x,L).getImmediate();return{getId:()=>function ji(E){return ii.apply(this,arguments)}(k),getToken:De=>function On(E){return mo.apply(this,arguments)}(k,De)}};(function K(){(0,Oe._registerComponent)(new _e.wA(L,Le,"PUBLIC")),(0,Oe._registerComponent)(new _e.wA("installations-internal",Ne,"PRIVATE"))})(),(0,Oe.registerVersion)(ut,"0.6.4"),(0,Oe.registerVersion)(ut,"0.6.4","esm2017");const ge="@firebase/remote-config",At=new Me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class As{constructor(x,k,Z,De){this.client=x,this.storage=k,this.storageCache=Z,this.logger=De}isCachedDataFresh(x,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-k,De=Z<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${De}.`),De}fetch(x){var k=this;return(0,B.Z)(function*(){const[Z,De]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(De&&k.isCachedDataFresh(x.cacheMaxAgeMillis,Z))return De;x.eTag=De&&De.eTag;const Ue=yield k.client.fetch(x),at=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&at.push(k.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(at),Ue})()}}function hc(E=navigator){return E.languages&&E.languages[0]||E.language}class Sl{constructor(x,k,Z,De,Ue,at){this.firebaseInstallations=x,this.sdkVersion=k,this.namespace=Z,this.projectId=De,this.apiKey=Ue,this.appId=at}fetch(x){var k=this;return(0,B.Z)(function*(){const[Z,De]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},$t={sdk_version:k.sdkVersion,app_instance_id:Z,app_instance_id_token:De,app_id:k.appId,language_code:hc()},pn={method:"POST",headers:jt,body:JSON.stringify($t)},gn=fetch(at,pn),Rn=new Promise((Ps,Mo)=>{x.signal.addEventListener(()=>{const pd=new Error("The operation was aborted.");pd.name="AbortError",Mo(pd)})});let rs;try{yield Promise.race([gn,Rn]),rs=yield gn}catch(Ps){let Mo="fetch-client-network";throw"AbortError"===Ps?.name&&(Mo="fetch-timeout"),At.create(Mo,{originalErrorMessage:Ps?.message})}let xi=rs.status;const Ki=rs.headers.get("ETag")||void 0;let Ao,Ea;if(200===rs.status){let Ps;try{Ps=yield rs.json()}catch(Mo){throw At.create("fetch-client-parse",{originalErrorMessage:Mo?.message})}Ao=Ps.entries,Ea=Ps.state}if("INSTANCE_STATE_UNSPECIFIED"===Ea?xi=500:"NO_CHANGE"===Ea?xi=304:("NO_TEMPLATE"===Ea||"EMPTY_CONFIG"===Ea)&&(Ao={}),304!==xi&&200!==xi)throw At.create("fetch-status",{httpStatus:xi});return{status:xi,eTag:Ki,config:Ao}})()}}class Sp{constructor(x,k){this.client=x,this.storage=k}fetch(x){var k=this;return(0,B.Z)(function*(){const Z=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(x,Z)})()}attemptFetch(x,{throttleEndTimeMillis:k,backoffCount:Z}){var De=this;return(0,B.Z)(function*(){yield function Bu(E,x){return new Promise((k,Z)=>{const De=Math.max(x-Date.now(),0),Ue=setTimeout(k,De);E.addEventListener(()=>{clearTimeout(Ue),Z(At.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,k);try{const Ue=yield De.client.fetch(x);return yield De.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function fc(E){if(!(E instanceof Me.ZR&&E.customData))return!1;const x=Number(E.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ue))throw Ue;const at={throttleEndTimeMillis:Date.now()+(0,Me.$s)(Z),backoffCount:Z+1};return yield De.storage.setThrottleMetadata(at),De.attemptFetch(x,at)}})()}}class Dp{constructor(x,k,Z,De,Ue){this.app=x,this._client=k,this._storageCache=Z,this._storage=De,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pr(E,x){const k=E.target.error||void 0;return At.create(x,{originalErrorMessage:k&&k?.message})}const Yr="app_namespace_store";class OC{constructor(x,k,Z,De=function mc(){return new Promise((E,x)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=Z=>{x(Pr(Z,"storage-open"))},k.onsuccess=Z=>{E(Z.target.result)},k.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(k){x(At.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=x,this.appName=k,this.namespace=Z,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var k=this;return(0,B.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((De,Ue)=>{const jt=Z.transaction([Yr],"readonly").objectStore(Yr),$t=k.createCompositeKey(x);try{const pn=jt.get($t);pn.onerror=gn=>{Ue(Pr(gn,"storage-get"))},pn.onsuccess=gn=>{const Rn=gn.target.result;De(Rn?Rn.value:void 0)}}catch(pn){Ue(At.create("storage-get",{originalErrorMessage:pn?.message}))}})})()}set(x,k){var Z=this;return(0,B.Z)(function*(){const De=yield Z.openDbPromise;return new Promise((Ue,at)=>{const $t=De.transaction([Yr],"readwrite").objectStore(Yr),pn=Z.createCompositeKey(x);try{const gn=$t.put({compositeKey:pn,value:k});gn.onerror=Rn=>{at(Pr(Rn,"storage-set"))},gn.onsuccess=()=>{Ue()}}catch(gn){at(At.create("storage-set",{originalErrorMessage:gn?.message}))}})})()}delete(x){var k=this;return(0,B.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((De,Ue)=>{const jt=Z.transaction([Yr],"readwrite").objectStore(Yr),$t=k.createCompositeKey(x);try{const pn=jt.delete($t);pn.onerror=gn=>{Ue(Pr(gn,"storage-delete"))},pn.onsuccess=()=>{De()}}catch(pn){Ue(At.create("storage-delete",{originalErrorMessage:pn?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Xi{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,B.Z)(function*(){const k=x.storage.getLastFetchStatus(),Z=x.storage.getLastSuccessfulFetchTimestampMillis(),De=x.storage.getActiveConfig(),Ue=yield k;Ue&&(x.lastFetchStatus=Ue);const at=yield Z;at&&(x.lastSuccessfulFetchTimestampMillis=at);const jt=yield De;jt&&(x.activeConfig=jt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function is(){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,B.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}let Ua,Ji;!function bo(){(0,Oe._registerComponent)(new _e.wA("remote-config",function E(x,{instanceIdentifier:k}){const Z=x.getProvider("app").getImmediate(),De=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw At.create("registration-window");if(!(0,Me.hl)())throw At.create("indexed-db-unavailable");const{projectId:Ue,apiKey:at,appId:jt}=Z.options;if(!Ue)throw At.create("registration-project-id");if(!at)throw At.create("registration-api-key");if(!jt)throw At.create("registration-app-id");const $t=new OC(jt,Z.name,k=k||"firebase"),pn=new Xi($t),gn=new X.Yd(ge);gn.logLevel=X.in.ERROR;const Rn=new Sl(De,Oe.SDK_VERSION,k,Ue,at,jt),rs=new Sp(Rn,$t),xi=new As(rs,$t,pn,gn),Ki=new Dp(Z,xi,pn,$t,gn);return function lh(E){const x=(0,Me.m9)(E);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ki),Ki},"PUBLIC").setMultipleInstances(!0)),(0,Oe.registerVersion)(ge,"0.4.4"),(0,Oe.registerVersion)(ge,"0.4.4","esm2017")}();const $u=new WeakMap,gs=new WeakMap,Uo=new WeakMap,Fr=new WeakMap,Sn=new WeakMap;let xl={get(E,x,k){if(E instanceof IDBTransaction){if("done"===x)return gs.get(E);if("objectStoreNames"===x)return E.objectStoreNames||Uo.get(E);if("store"===x)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return zs(E[x])},set:(E,x,k)=>(E[x]=k,!0),has:(E,x)=>E instanceof IDBTransaction&&("done"===x||"store"===x)||x in E};function gh(E){return"function"==typeof E?function ph(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ua(){return Ji||(Ji=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...x){return E.apply(_c(this),x),zs($u.get(this))}:function(...x){return zs(E.apply(_c(this),x))}:function(x,...k){const Z=E.call(_c(this),x,...k);return Uo.set(Z,x.sort?x.sort():[x]),zs(Z)}}(E):(E instanceof IDBTransaction&&function hh(E){if(gs.has(E))return;const x=new Promise((k,Z)=>{const De=()=>{E.removeEventListener("complete",Ue),E.removeEventListener("error",at),E.removeEventListener("abort",at)},Ue=()=>{k(),De()},at=()=>{Z(E.error||new DOMException("AbortError","AbortError")),De()};E.addEventListener("complete",Ue),E.addEventListener("error",at),E.addEventListener("abort",at)});gs.set(E,x)}(E),((E,x)=>x.some(k=>E instanceof k))(E,function ay(){return Ua||(Ua=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xl):E)}function zs(E){if(E instanceof IDBRequest)return function dh(E){const x=new Promise((k,Z)=>{const De=()=>{E.removeEventListener("success",Ue),E.removeEventListener("error",at)},Ue=()=>{k(zs(E.result)),De()},at=()=>{Z(E.error),De()};E.addEventListener("success",Ue),E.addEventListener("error",at)});return x.then(k=>{k instanceof IDBCursor&&$u.set(k,E)}).catch(()=>{}),Sn.set(x,E),x}(E);if(Fr.has(E))return Fr.get(E);const x=gh(E);return x!==E&&(Fr.set(E,x),Sn.set(x,E)),x}const _c=E=>Sn.get(E);function bt(E,x,{blocked:k,upgrade:Z,blocking:De,terminated:Ue}={}){const at=indexedDB.open(E,x),jt=zs(at);return Z&&at.addEventListener("upgradeneeded",$t=>{Z(zs(at.result),$t.oldVersion,$t.newVersion,zs(at.transaction))}),k&&at.addEventListener("blocked",()=>k()),jt.then($t=>{Ue&&$t.addEventListener("close",()=>Ue()),De&&$t.addEventListener("versionchange",()=>De())}).catch(()=>{}),jt}function qn(E,{blocked:x}={}){const k=indexedDB.deleteDatabase(E);return x&&k.addEventListener("blocked",()=>x()),zs(k).then(()=>{})}const vc=["get","getKey","getAll","getAllKeys","count"],Uu=["put","add","delete","clear"],Wi=new Map;function bc(E,x){if(!(E instanceof IDBDatabase)||x in E||"string"!=typeof x)return;if(Wi.get(x))return Wi.get(x);const k=x.replace(/FromIndex$/,""),Z=x!==k,De=Uu.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!De&&!vc.includes(k))return;const Ue=function(){var at=(0,B.Z)(function*(jt,...$t){const pn=this.transaction(jt,De?"readwrite":"readonly");let gn=pn.store;return Z&&(gn=gn.index($t.shift())),(yield Promise.all([gn[k](...$t),De&&pn.done]))[0]});return function($t){return at.apply(this,arguments)}}();return Wi.set(x,Ue),Ue}!function fh(E){xl=E(xl)}(E=>({...E,get:(x,k,Z)=>bc(x,k)||E.get(x,k,Z),has:(x,k)=>!!bc(x,k)||E.has(x,k)}));const da="/firebase-messaging-sw.js",ms="/firebase-cloud-messaging-push-scope",Ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zu="google.c.a.c_id",qi="google.c.a.c_l",xp="google.c.a.ts",Ap="google.c.a.e";var ys=(()=>{return(E=ys||(ys={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ys;var E})();function js(E){const x=new Uint8Array(E);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wo(E){const k=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(k),De=new Uint8Array(Z.length);for(let Ue=0;Ue<Z.length;++Ue)De[Ue]=Z.charCodeAt(Ue);return De}const _s="fcm_token_details_db",ha="fcm_token_object_Store";function ly(E){return za.apply(this,arguments)}function za(){return za=(0,B.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(_s))return null;let x=null;return(yield bt(_s,5,{upgrade:(Z=(0,B.Z)(function*(De,Ue,at,jt){var $t;if(Ue<2||!De.objectStoreNames.contains(ha))return;const pn=jt.objectStore(ha),gn=yield pn.index("fcmSenderId").get(E);if(yield pn.clear(),gn)if(2===Ue){const Rn=gn;if(!Rn.auth||!Rn.p256dh||!Rn.endpoint)return;x={token:Rn.fcmToken,createTime:null!==($t=Rn.createTime)&&void 0!==$t?$t:Date.now(),subscriptionOptions:{auth:Rn.auth,p256dh:Rn.p256dh,endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:"string"==typeof Rn.vapidKey?Rn.vapidKey:js(Rn.vapidKey)}}}else if(3===Ue){const Rn=gn;x={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:js(Rn.auth),p256dh:js(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:js(Rn.vapidKey)}}}else if(4===Ue){const Rn=gn;x={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:js(Rn.auth),p256dh:js(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:js(Rn.vapidKey)}}}}),function(Ue,at,jt,$t){return Z.apply(this,arguments)})})).close(),yield qn(_s),yield qn("fcm_vapid_details_db"),yield qn("undefined"),ju(x)?x:null;var Z}),za.apply(this,arguments)}function ju(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:x}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Zr="firebase-messaging-store";let Gu=null;function Ml(){return Gu||(Gu=bt("firebase-messaging-database",1,{upgrade:(E,x)=>{0===x&&E.createObjectStore(Zr)}})),Gu}function Ol(E){return fa.apply(this,arguments)}function fa(){return(fa=(0,B.Z)(function*(E){const x=Ic(E),Z=yield(yield Ml()).transaction(Zr).objectStore(Zr).get(x);if(Z)return Z;{const De=yield ly(E.appConfig.senderId);if(De)return yield Wu(E,De),De}})).apply(this,arguments)}function Wu(E,x){return kl.apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(E,x){const k=Ic(E),De=(yield Ml()).transaction(Zr,"readwrite");return yield De.objectStore(Zr).put(x,k),yield De.done,x})).apply(this,arguments)}function yh(E){return ja.apply(this,arguments)}function ja(){return(ja=(0,B.Z)(function*(E){const x=Ic(E),Z=(yield Ml()).transaction(Zr,"readwrite");yield Z.objectStore(Zr).delete(x),yield Z.done})).apply(this,arguments)}function Ic({appConfig:E}){return E.appId}const hi=new Me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Io(E,x){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,B.Z)(function*(E,x){const k=yield Yu(E),Z=Pl(x),De={method:"POST",headers:k,body:JSON.stringify(Z)};let Ue;try{Ue=yield(yield fetch(Cc(E.appConfig),De)).json()}catch(at){throw hi.create("token-subscribe-failed",{errorInfo:at?.toString()})}if(Ue.error)throw hi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw hi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function _h(E,x){return vh.apply(this,arguments)}function vh(){return(vh=(0,B.Z)(function*(E,x){const k=yield Yu(E),Z=Pl(x.subscriptionOptions),De={method:"PATCH",headers:k,body:JSON.stringify(Z)};let Ue;try{Ue=yield(yield fetch(`${Cc(E.appConfig)}/${x.token}`,De)).json()}catch(at){throw hi.create("token-update-failed",{errorInfo:at?.toString()})}if(Ue.error)throw hi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw hi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function qu(E,x){return bh.apply(this,arguments)}function bh(){return(bh=(0,B.Z)(function*(E,x){const Z={method:"DELETE",headers:yield Yu(E)};try{const Ue=yield(yield fetch(`${Cc(E.appConfig)}/${x}`,Z)).json();if(Ue.error)throw hi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(De){throw hi.create("token-unsubscribe-failed",{errorInfo:De?.toString()})}})).apply(this,arguments)}function Cc({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Yu(E){return pa.apply(this,arguments)}function pa(){return(pa=(0,B.Z)(function*({appConfig:E,installations:x}){const k=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Pl({p256dh:E,auth:x,endpoint:k,vapidKey:Z}){const De={web:{endpoint:k,auth:x,p256dh:E}};return Z!==Ha&&(De.web.applicationPubKey=Z),De}const Ga=6048e5;function wh(E){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,B.Z)(function*(E){const x=yield Ku(E.swRegistration,E.vapidKey),k={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:x.endpoint,auth:js(x.getKey("auth")),p256dh:js(x.getKey("p256dh"))},Z=yield Ol(E.firebaseDependencies);if(Z){if(kp(Z.subscriptionOptions,k))return Date.now()>=Z.createTime+Ga?Nl(E,{token:Z.token,createTime:Date.now(),subscriptionOptions:k}):Z.token;try{yield qu(E.firebaseDependencies,Z.token)}catch(De){console.warn(De)}return Op(E.firebaseDependencies,k)}return Op(E.firebaseDependencies,k)})).apply(this,arguments)}function Mp(E){return Co.apply(this,arguments)}function Co(){return(Co=(0,B.Z)(function*(E){const x=yield Ol(E.firebaseDependencies);x&&(yield qu(E.firebaseDependencies,x.token),yield yh(E.firebaseDependencies));const k=yield E.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Nl(E,x){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,B.Z)(function*(E,x){try{const k=yield _h(E.firebaseDependencies,x),Z=Object.assign(Object.assign({},x),{token:k,createTime:Date.now()});return yield Wu(E.firebaseDependencies,Z),k}catch(k){throw yield Mp(E),k}})).apply(this,arguments)}function Op(E,x){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,B.Z)(function*(E,x){const Z={token:yield Io(E,x),createTime:Date.now(),subscriptionOptions:x};return yield Wu(E,Z),Z.token})).apply(this,arguments)}function Ku(E,x){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,B.Z)(function*(E,x){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wo(x)})})).apply(this,arguments)}function kp(E,x){return x.vapidKey===E.vapidKey&&x.endpoint===E.endpoint&&x.auth===E.auth&&x.p256dh===E.p256dh}function Zu(E){const x={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Tc(E,x){if(!x.notification)return;E.notification={};const k=x.notification.title;k&&(E.notification.title=k);const Z=x.notification.body;Z&&(E.notification.body=Z);const De=x.notification.image;De&&(E.notification.image=De);const Ue=x.notification.icon;Ue&&(E.notification.icon=Ue)}(x,E),function Sc(E,x){!x.data||(E.data=x.data)}(x,E),function Dc(E,x){var k,Z,De,Ue,at;if(!(x.fcmOptions||null!==(k=x.notification)&&void 0!==k&&k.click_action))return;E.fcmOptions={};const jt=null!==(De=null===(Z=x.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==De?De:null===(Ue=x.notification)||void 0===Ue?void 0:Ue.click_action;jt&&(E.fcmOptions.link=jt);const $t=null===(at=x.fcmOptions)||void 0===at?void 0:at.analytics_label;$t&&(E.fcmOptions.analyticsLabel=$t)}(x,E),x}function Pp(E){return"object"==typeof E&&!!E&&zu in E}function Wa(E,x){const k=[];for(let Z=0;Z<E.length;Z++)k.push(E.charAt(Z)),Z<x.length&&k.push(x.charAt(Z));return k.join("")}function Qu(E){return hi.create("missing-app-config-values",{valueName:E})}Wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ll{constructor(x,k,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function Ch(E){if(!E||!E.options)throw Qu("App Configuration Object");if(!E.name)throw Qu("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:k}=E;for(const Z of x)if(!k[Z])throw Qu(Z);return{appName:E.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:De,installations:k,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function Rp(E){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(da,{scope:ms}),E.swRegistration.update().catch(()=>{})}catch(x){throw hi.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function Fl(E,x){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,B.Z)(function*(E,x){if(!x&&!E.swRegistration&&(yield Rp(E)),x||!E.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw hi.create("invalid-sw-registration");E.swRegistration=x}})).apply(this,arguments)}function ga(E,x){return Js.apply(this,arguments)}function Js(){return(Js=(0,B.Z)(function*(E,x){x?E.vapidKey=x:E.vapidKey||(E.vapidKey=Ha)})).apply(this,arguments)}function Bl(){return(Bl=(0,B.Z)(function*(E,x){if(!navigator)throw hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hi.create("permission-blocked");return yield ga(E,x?.vapidKey),yield Fl(E,x?.serviceWorkerRegistration),wh(E)})).apply(this,arguments)}function Os(E,x,k){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,B.Z)(function*(E,x,k){const Z=qa(x);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:k[zu],message_name:k[qi],message_time:k[xp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qa(E){switch(E){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ma(){return(ma=(0,B.Z)(function*(E,x){const k=x.data;if(!k.isFirebaseMessaging)return;E.onMessageHandler&&k.messageType===ys.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Zu(k)):E.onMessageHandler.next(Zu(k)));const Z=k.data;Pp(Z)&&"1"===Z[Ap]&&(yield Os(E,k.messageType,Z))})).apply(this,arguments)}const ya="@firebase/messaging",_a=E=>{const x=new Ll(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ju(E,x){return ma.apply(this,arguments)}(x,k)),x},Ac=E=>{const x=E.getProvider("messaging").getImmediate();return{getToken:Z=>function xc(E,x){return Bl.apply(this,arguments)}(x,Z)}};function Ya(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(){try{yield(0,Me.eu)()}catch{return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Np(){(0,Oe._registerComponent)(new _e.wA("messaging",_a,"PUBLIC")),(0,Oe._registerComponent)(new _e.wA("messaging-internal",Ac,"PRIVATE")),(0,Oe.registerVersion)(ya,"0.12.4"),(0,Oe.registerVersion)(ya,"0.12.4","esm2017")}();const Ri="analytics",ed="firebase_id",Oc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",To="https://www.googletagmanager.com/gtag/js",Yi=new X.Yd("@firebase/analytics"),Br=new Me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Za(E){if(!E.startsWith(To)){const x=Br.create("invalid-gtag-resource",{gtagURL:E});return Yi.warn(x.message),""}return E}function So(E){return Promise.all(E.map(x=>x.catch(k=>k)))}function Hl(E,x){const k=function kc(E,x){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(E,x)),k}("firebase-js-sdk-policy",{createScriptURL:Za}),Z=document.createElement("script"),De=`${To}?l=${E}&id=${x}`;Z.src=k?k?.createScriptURL(De):De,Z.async=!0,document.head.appendChild(Z)}function td(E,x,k,Z,De,Ue){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,B.Z)(function*(E,x,k,Z,De,Ue){const at=Z[De];try{if(at)yield x[at];else{const $t=(yield So(k)).find(pn=>pn.measurementId===De);$t&&(yield x[$t.appId])}}catch(jt){Yi.error(jt)}E("config",De,Ue)})).apply(this,arguments)}function Bp(E,x,k,Z,De){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,B.Z)(function*(E,x,k,Z,De){try{let Ue=[];if(De&&De.send_to){let at=De.send_to;Array.isArray(at)||(at=[at]);const jt=yield So(k);for(const $t of at){const pn=jt.find(Rn=>Rn.measurementId===$t),gn=pn&&x[pn.appId];if(!gn){Ue=[];break}Ue.push(gn)}}0===Ue.length&&(Ue=Object.values(x)),yield Promise.all(Ue),E("event",Z,De||{})}catch(Ue){Yi.error(Ue)}})).apply(this,arguments)}function Up(E){const x=window.document.getElementsByTagName("script");for(const k of Object.values(x))if(k.src&&k.src.includes(To)&&k.src.includes(E))return k;return null}const dr=new class Rc{constructor(x={},k=1e3){this.throttleMetadata=x,this.intervalMillis=k}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,k){this.throttleMetadata[x]=k}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Nc(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ks(E){return Th.apply(this,arguments)}function Th(){return(Th=(0,B.Z)(function*(E){var x;const{appId:k,apiKey:Z}=E,De={method:"GET",headers:Nc(Z)},Ue=Oc.replace("{app-id}",k),at=yield fetch(Ue,De);if(200!==at.status&&304!==at.status){let jt="";try{const $t=yield at.json();null!==(x=$t.error)&&void 0!==x&&x.message&&(jt=$t.error.message)}catch{}throw Br.create("config-fetch-failed",{httpStatus:at.status,responseMessage:jt})}return at.json()})).apply(this,arguments)}function Hp(E){return sr.apply(this,arguments)}function sr(){return(sr=(0,B.Z)(function*(E,x=dr,k){const{appId:Z,apiKey:De,measurementId:Ue}=E.options;if(!Z)throw Br.create("no-app-id");if(!De){if(Ue)return{measurementId:Ue,appId:Z};throw Br.create("no-api-key")}const at=x.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new Sh;return setTimeout((0,B.Z)(function*(){jt.abort()}),void 0!==k?k:6e4),Ws({appId:Z,apiKey:De,measurementId:Ue},at,jt,x)})).apply(this,arguments)}function Ws(E,x,k){return nd.apply(this,arguments)}function nd(){return(nd=(0,B.Z)(function*(E,{throttleEndTimeMillis:x,backoffCount:k},Z,De=dr){var Ue;const{appId:at,measurementId:jt}=E;try{yield id(Z,x)}catch($t){if(jt)return Yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:at,measurementId:jt};throw $t}try{const $t=yield ks(E);return De.deleteThrottleMetadata(at),$t}catch($t){const pn=$t;if(!Qa(pn)){if(De.deleteThrottleMetadata(at),jt)return Yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${pn?.message}]`),{appId:at,measurementId:jt};throw $t}const gn=503===Number(null===(Ue=pn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,Me.$s)(k,De.intervalMillis,30):(0,Me.$s)(k,De.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+gn,backoffCount:k+1};return De.setThrottleMetadata(at,Rn),Yi.debug(`Calling attemptFetch again in ${gn} millis`),Ws(E,Rn,Z,De)}})).apply(this,arguments)}function id(E,x){return new Promise((k,Z)=>{const De=Math.max(x-Date.now(),0),Ue=setTimeout(k,De);E.addEventListener(()=>{clearTimeout(Ue),Z(Br.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Qa(E){if(!(E instanceof Me.ZR&&E.customData))return!1;const x=Number(E.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Sh{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Dh,xh;function zp(){return(zp=(0,B.Z)(function*(E,x,k,Z,De){if(De&&De.global)E("event",k,Z);else{const Ue=yield x;E("event",k,Object.assign(Object.assign({},Z),{send_to:Ue}))}})).apply(this,arguments)}function $c(E){xh=E}function Uc(E){Dh=E}function no(){return fi.apply(this,arguments)}function fi(){return(fi=(0,B.Z)(function*(){if(!(0,Me.hl)())return Yi.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(E){return Yi.warn(Br.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function er(){return(er=(0,B.Z)(function*(E,x,k,Z,De,Ue,at){var jt;const $t=Hp(E);$t.then(xi=>{k[xi.measurementId]=xi.appId,E.options.measurementId&&xi.measurementId!==E.options.measurementId&&Yi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xi=>Yi.error(xi)),x.push($t);const pn=no().then(xi=>{if(xi)return Z.getId()}),[gn,Rn]=yield Promise.all([$t,pn]);Up(Ue)||Hl(Ue,gn.measurementId),xh&&(De("consent","default",xh),$c(void 0)),De("js",new Date);const rs=null!==(jt=at?.config)&&void 0!==jt?jt:{};return rs.origin="firebase",rs.update=!0,null!=Rn&&(rs[ed]=Rn),De("config",gn.measurementId,rs),Dh&&(De("set",Dh),Uc(void 0)),gn.measurementId})).apply(this,arguments)}class Ni{constructor(x){this.app=x}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},Do=[];const Vr={};let vn,$r,hr="dataLayer",Hc=!1;function zc(E,x,k){!function Gp(){const E=[];if((0,Me.ru)()&&E.push("This is a browser extension environment."),(0,Me.zI)()||E.push("Cookies are not available."),E.length>0){const x=E.map((Z,De)=>`(${De+1}) ${Z}`).join(" "),k=Br.create("invalid-analytics-context",{errorInfo:x});Yi.warn(k.message)}}();const Z=E.options.appId;if(!Z)throw Br.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Br.create("no-api-key");Yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[Z])throw Br.create("already-exists",{id:Z});if(!Hc){!function bi(E){let x=[];Array.isArray(window[E])?x=window[E]:window[E]=x}(hr);const{wrappedGtag:Ue,gtagCore:at}=function $p(E,x,k,Z,De){let Ue=function(...at){window[Z].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Ue=window[De]),window[De]=function Vp(E,x,k,Z){function Ue(){return(Ue=(0,B.Z)(function*(at,...jt){try{if("event"===at){const[$t,pn]=jt;yield Bp(E,x,k,$t,pn)}else if("config"===at){const[$t,pn]=jt;yield td(E,x,k,Z,$t,pn)}else if("consent"===at){const[$t]=jt;E("consent","update",$t)}else if("get"===at){const[$t,pn,gn]=jt;E("get",$t,pn,gn)}else if("set"===at){const[$t]=jt;E("set",$t)}else E(at,...jt)}catch($t){Yi.error($t)}})).apply(this,arguments)}return function De(at){return Ue.apply(this,arguments)}}(Ue,E,x,k),{gtagCore:Ue,wrappedGtag:window[De]}}(Li,Do,Vr,hr,"gtag");$r=Ue,vn=at,Hc=!0}return Li[Z]=function fn(E,x,k,Z,De,Ue,at){return er.apply(this,arguments)}(E,Do,Vr,x,vn,hr,k),new Ni(E)}function sd(){return jc.apply(this,arguments)}function jc(){return(jc=(0,B.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}const zo="@firebase/analytics";!function ld(){(0,Oe._registerComponent)(new _e.wA(Ri,(x,{options:k})=>zc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Oe._registerComponent)(new _e.wA("analytics-internal",function E(x){try{const k=x.getProvider(Ri).getImmediate();return{logEvent:(Z,De,Ue)=>function Ho(E,x,k,Z){E=(0,Me.m9)(E),function hy(E,x,k,Z,De){return zp.apply(this,arguments)}($r,Li[E.app.options.appId],x,k,Z).catch(De=>Yi.error(De))}(k,Z,De,Ue)}}catch(k){throw Br.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Oe.registerVersion)(zo,"0.10.0"),(0,Oe.registerVersion)(zo,"0.10.0","esm2017")}();var io=R(4408),Oh=R(7565);const el=new class Wc extends Oh.v{}(class jo extends io.o{constructor(x,k){super(x,k),this.scheduler=x,this.work=k}schedule(x,k=0){return k>0?super.schedule(x,k):(this.delay=k,this.state=x,this.scheduler.flush(this),this)}execute(x,k){return k>0||this.closed?super.execute(x,k):this._execute(x,k)}requestAsyncId(x,k,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(x,k,Z):(x.flush(this),0)}});var cd=R(4986),qp=R(8505),kh=R(9468),ud=R(5363);const Gl=new o.GfV("7.5.0"),qc="__angularfire_symbol__analyticsIsSupportedValue",Yc="__angularfire_symbol__analyticsIsSupported",dd="__angularfire_symbol__remoteConfigIsSupportedValue",Ph="__angularfire_symbol__remoteConfigIsSupported",Kc="__angularfire_symbol__messagingIsSupportedValue",Rh="__angularfire_symbol__messagingIsSupported";function Nh(E,x,k){if(x){if(1===x.length)return x[0];const Ue=x.filter(at=>at.app===k);if(1===Ue.length)return Ue[0]}return k.container.getProvider(E).getImmediate({optional:!0})}globalThis[Yc]||(globalThis[Yc]=sd().then(E=>globalThis[qc]=E).catch(()=>globalThis[qc]=!1)),globalThis[Rh]||(globalThis[Rh]=Ya().then(E=>globalThis[Kc]=E).catch(()=>globalThis[Kc]=!1)),globalThis[Ph]||(globalThis[Ph]=is().then(E=>globalThis[dd]=E).catch(()=>globalThis[dd]=!1));const Zc=(E,x)=>{const k=x?[x]:(0,de.C6)(),Z=[];return k.forEach(De=>{De.container.getProvider(E).instances.forEach(at=>{Z.includes(at)||Z.push(at)})}),Z};function Ca(){}class fd{constructor(x,k=el){this.zone=x,this.delegate=k}now(){return this.delegate.now()}schedule(x,k,Z){const De=this.zone;return this.delegate.schedule(function(at){De.runGuarded(()=>{x.apply(this,[at])})},k,Z)}}class py{constructor(x){this.zone=x,this.task=null}call(x,k){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),k.pipe((0,qp.b)({next:Z,complete:Z,error:Z})).subscribe(x).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gy=(()=>{class E{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new fd(Zone.current)),this.insideAngular=k.run(()=>new fd(Zone.current,cd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(k){return new(k||E)(o.LFG(o.R0b))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ql(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Xc(E){return ql(),function Lh(E){return function(k){return(k=k.lift(new py(E.ngZone))).pipe((0,kh.R)(E.outsideAngular),(0,ud.Q)(E.insideAngular))}}(ql())(E)}},2903:(Lt,qe,R)=>{"use strict";R.d(qe,{Y:()=>o});var o=(()=>{return(de=o||(o={})).Loaded="paymentSheetLoaded",de.FailedToLoad="paymentSheetFailedToLoad",de.Completed="paymentSheetCompleted",de.Canceled="paymentSheetCanceled",de.Failed="paymentSheetFailed",o;var de})()},7423:(Lt,qe,R)=>{"use strict";R.d(qe,{Uw:()=>oe,fo:()=>Se});var o=R(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Ee=(()=>{return(ne=Ee||(Ee={})).Unimplemented="UNIMPLEMENTED",ne.Unavailable="UNAVAILABLE",Ee;var ne})();class xe extends Error{constructor(W,ee,ut){super(W),this.message=W,this.code=ee,this.data=ut}}const G=ne=>{var W,ee,ut,It,Ot;const Ye=ne.CapacitorCustomPlatform||null,z=ne.Capacitor||{},H=z.Plugins=z.Plugins||{},he=ne.CapacitorPlatforms,Ge=(null===(W=he?.currentPlatform)||void 0===W?void 0:W.getPlatform)||(()=>null!==Ye?Ye.name:(ne=>{var W,ee;return ne?.androidBridge?"android":null!==(ee=null===(W=ne?.webkit)||void 0===W?void 0:W.messageHandlers)&&void 0!==ee&&ee.bridge?"ios":"web"})(ne)),_t=(null===(ee=he?.currentPlatform)||void 0===ee?void 0:ee.isNativePlatform)||(()=>"web"!==Ge()),Ct=(null===(ut=he?.currentPlatform)||void 0===ut?void 0:ut.isPluginAvailable)||(nn=>!(!ot.get(nn)?.platforms.has(Ge())&&!Yt(nn))),Yt=(null===(It=he?.currentPlatform)||void 0===It?void 0:It.getPluginHeader)||(nn=>{var Ht;return null===(Ht=z.PluginHeaders)||void 0===Ht?void 0:Ht.find(Tt=>Tt.name===nn)}),ot=new Map,Vt=(null===(Ot=he?.currentPlatform)||void 0===Ot?void 0:Ot.registerPlugin)||((nn,Ht={})=>{const Tt=ot.get(nn);if(Tt)return console.warn(`Capacitor plugin "${nn}" already registered. Cannot register plugins twice.`),Tt.proxy;const dn=Ge(),Un=Yt(nn);let En;const Zi=function(){var yn=(0,o.Z)(function*(){return!En&&dn in Ht?En=En="function"==typeof Ht[dn]?yield Ht[dn]():Ht[dn]:null!==Ye&&!En&&"web"in Ht&&(En=En="function"==typeof Ht.web?yield Ht.web():Ht.web),En});return function(){return yn.apply(this,arguments)}}(),ui=yn=>{let si;const Hn=(...Kn)=>{const rn=Zi().then(Qn=>{const Fn=((yn,si)=>{var Hn,Kn;if(!Un){if(yn)return null===(Kn=yn[si])||void 0===Kn?void 0:Kn.bind(yn);throw new xe(`"${nn}" plugin is not implemented on ${dn}`,Ee.Unimplemented)}{const rn=Un?.methods.find(Qn=>si===Qn.name);if(rn)return"promise"===rn.rtype?Qn=>z.nativePromise(nn,si.toString(),Qn):(Qn,Fn)=>z.nativeCallback(nn,si.toString(),Qn,Fn);if(yn)return null===(Hn=yn[si])||void 0===Hn?void 0:Hn.bind(yn)}})(Qn,yn);if(Fn){const Cr=Fn(...Kn);return si=Cr?.remove,Cr}throw new xe(`"${nn}.${yn}()" is not implemented on ${dn}`,Ee.Unimplemented)});return"addListener"===yn&&(rn.remove=(0,o.Z)(function*(){return si()})),rn};return Hn.toString=()=>`${yn.toString()}() { [capacitor code] }`,Object.defineProperty(Hn,"name",{value:yn,writable:!1,configurable:!1}),Hn},Yn=ui("addListener"),Ln=ui("removeListener"),qt=(yn,si)=>{const Hn=Yn({eventName:yn},si),Kn=function(){var Qn=(0,o.Z)(function*(){const Fn=yield Hn;Ln({eventName:yn,callbackId:Fn},si)});return function(){return Qn.apply(this,arguments)}}(),rn=new Promise(Qn=>Hn.then(()=>Qn({remove:Kn})));return rn.remove=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Kn()}),rn},an=new Proxy({},{get(yn,si){switch(si){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Un?qt:Yn;case"removeListener":return Ln;default:return ui(si)}}});return H[nn]=an,ot.set(nn,{name:nn,proxy:an,platforms:new Set([...Object.keys(Ht),...Un?[dn]:[]])}),an});return z.convertFileSrc||(z.convertFileSrc=nn=>nn),z.getPlatform=Ge,z.handleError=nn=>ne.console.error(nn),z.isNativePlatform=_t,z.isPluginAvailable=Ct,z.pluginMethodNoop=(nn,Ht,Tt)=>Promise.reject(`${Tt} does not have an implementation of "${Ht}".`),z.registerPlugin=Vt,z.Exception=xe,z.DEBUG=!!z.DEBUG,z.isLoggingEnabled=!!z.isLoggingEnabled,z.platform=z.getPlatform(),z.isNative=z.isNativePlatform(),z},le=(ne=>ne.Capacitor=G(ne))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Se=le.registerPlugin;class oe{constructor(W){this.listeners={},this.windowListeners={},W&&(console.warn(`Capacitor WebPlugin "${W.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=W)}addListener(W,ee){var ut=this;this.listeners[W]||(this.listeners[W]=[]),this.listeners[W].push(ee);const Ot=this.windowListeners[W];Ot&&!Ot.registered&&this.addWindowListener(Ot);const Ye=function(){var H=(0,o.Z)(function*(){return ut.removeListener(W,ee)});return function(){return H.apply(this,arguments)}}(),z=Promise.resolve({remove:Ye});return Object.defineProperty(z,"remove",{value:(H=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ye()}),function(){return H.apply(this,arguments)})}),z;var H}removeAllListeners(){var W=this;return(0,o.Z)(function*(){W.listeners={};for(const ee in W.windowListeners)W.removeWindowListener(W.windowListeners[ee]);W.windowListeners={}})()}notifyListeners(W,ee){const ut=this.listeners[W];ut&&ut.forEach(It=>It(ee))}hasListeners(W){return!!this.listeners[W].length}registerWindowListener(W,ee){this.windowListeners[ee]={registered:!1,windowEventName:W,pluginEventName:ee,handler:ut=>{this.notifyListeners(ee,ut)}}}unimplemented(W="not implemented"){return new le.Exception(W,Ee.Unimplemented)}unavailable(W="not available"){return new le.Exception(W,Ee.Unavailable)}removeListener(W,ee){var ut=this;return(0,o.Z)(function*(){const It=ut.listeners[W];if(!It)return;const Ot=It.indexOf(ee);ut.listeners[W].splice(Ot,1),ut.listeners[W].length||ut.removeWindowListener(ut.windowListeners[W])})()}addWindowListener(W){window.addEventListener(W.windowEventName,W.handler),W.registered=!0}removeWindowListener(W){!W||(window.removeEventListener(W.windowEventName,W.handler),W.registered=!1)}}const Ae=ne=>encodeURIComponent(ne).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tt=ne=>ne.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Fe extends oe{getCookies(){return(0,o.Z)(function*(){const W=document.cookie,ee={};return W.split(";").forEach(ut=>{if(ut.length<=0)return;let[It,Ot]=ut.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");It=tt(It).trim(),Ot=tt(Ot).trim(),ee[It]=Ot}),ee})()}setCookie(W){return(0,o.Z)(function*(){try{const ee=Ae(W.key),ut=Ae(W.value),It=`; expires=${(W.expires||"").replace("expires=","")}`,Ot=(W.path||"/").replace("path=",""),Ye=null!=W.url&&W.url.length>0?`domain=${W.url}`:"";document.cookie=`${ee}=${ut||""}${It}; path=${Ot}; ${Ye};`}catch(ee){return Promise.reject(ee)}})()}deleteCookie(W){return(0,o.Z)(function*(){try{document.cookie=`${W.key}=; Max-Age=0`}catch(ee){return Promise.reject(ee)}})()}clearCookies(){return(0,o.Z)(function*(){try{const W=document.cookie.split(";")||[];for(const ee of W)document.cookie=ee.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(W){return Promise.reject(W)}})()}clearAllCookies(){var W=this;return(0,o.Z)(function*(){try{yield W.clearCookies()}catch(ee){return Promise.reject(ee)}})()}}Se("CapacitorCookies",{web:()=>new Fe});const be=function(){var ne=(0,o.Z)(function*(W){return new Promise((ee,ut)=>{const It=new FileReader;It.onload=()=>{const Ot=It.result;ee(Ot.indexOf(",")>=0?Ot.split(",")[1]:Ot)},It.onerror=Ot=>ut(Ot),It.readAsDataURL(W)})});return function(ee){return ne.apply(this,arguments)}}();class U extends oe{request(W){return(0,o.Z)(function*(){const ee=((ne,W={})=>{const ee=Object.assign({method:ne.method||"GET",headers:ne.headers},W),It=((ne={})=>{const W=Object.keys(ne);return Object.keys(ne).map(It=>It.toLocaleLowerCase()).reduce((It,Ot,Ye)=>(It[Ot]=ne[W[Ye]],It),{})})(ne.headers)["content-type"]||"";if("string"==typeof ne.data)ee.body=ne.data;else if(It.includes("application/x-www-form-urlencoded")){const Ot=new URLSearchParams;for(const[Ye,z]of Object.entries(ne.data||{}))Ot.set(Ye,z);ee.body=Ot.toString()}else if(It.includes("multipart/form-data")){const Ot=new FormData;if(ne.data instanceof FormData)ne.data.forEach((z,H)=>{Ot.append(H,z)});else for(const z of Object.keys(ne.data))Ot.append(z,ne.data[z]);ee.body=Ot;const Ye=new Headers(ee.headers);Ye.delete("content-type"),ee.headers=Ye}else(It.includes("application/json")||"object"==typeof ne.data)&&(ee.body=JSON.stringify(ne.data));return ee})(W,W.webFetchExtra),ut=((ne,W=!0)=>ne?Object.entries(ne).reduce((ut,It)=>{const[Ot,Ye]=It;let z,H;return Array.isArray(Ye)?(H="",Ye.forEach(he=>{z=W?encodeURIComponent(he):he,H+=`${Ot}=${z}&`}),H.slice(0,-1)):(z=W?encodeURIComponent(Ye):Ye,H=`${Ot}=${z}`),`${ut}&${H}`},"").substr(1):null)(W.params,W.shouldEncodeUrlParams),It=ut?`${W.url}?${ut}`:W.url,Ot=yield fetch(It,ee),Ye=Ot.headers.get("content-type")||"";let H,he,{responseType:z="text"}=Ot.ok?W:{};switch(Ye.includes("application/json")&&(z="json"),z){case"arraybuffer":case"blob":he=yield Ot.blob(),H=yield be(he);break;case"json":H=yield Ot.json();break;default:H=yield Ot.text()}const Be={};return Ot.headers.forEach((Ge,Pe)=>{Be[Pe]=Ge}),{data:H,headers:Be,status:Ot.status,url:Ot.url}})()}get(W){var ee=this;return(0,o.Z)(function*(){return ee.request(Object.assign(Object.assign({},W),{method:"GET"}))})()}post(W){var ee=this;return(0,o.Z)(function*(){return ee.request(Object.assign(Object.assign({},W),{method:"POST"}))})()}put(W){var ee=this;return(0,o.Z)(function*(){return ee.request(Object.assign(Object.assign({},W),{method:"PUT"}))})()}patch(W){var ee=this;return(0,o.Z)(function*(){return ee.request(Object.assign(Object.assign({},W),{method:"PATCH"}))})()}delete(W){var ee=this;return(0,o.Z)(function*(){return ee.request(Object.assign(Object.assign({},W),{method:"DELETE"}))})()}}Se("CapacitorHttp",{web:()=>new U})},2090:(Lt,qe,R)=>{"use strict";R.d(qe,{$s:()=>kr,BH:()=>be,G6:()=>Ye,L:()=>xe,LL:()=>Pe,Pz:()=>ke,Sg:()=>Ke,UG:()=>U,US:()=>_e,ZB:()=>re,ZR:()=>Ge,aH:()=>Fe,b$:()=>W,eu:()=>H,hl:()=>z,jU:()=>ue,m9:()=>Ei,ne:()=>Ln,pd:()=>ui,r3:()=>Vt,ru:()=>ne,tV:()=>se,uI:()=>te,vZ:()=>dn,w1:()=>ut,xO:()=>Zi,xb:()=>Ht,z$:()=>Y,zI:()=>he,zd:()=>ci});const Oe=function(pe){const ce=[];let Re=0;for(let et=0;et<pe.length;et++){let Ve=pe.charCodeAt(et);Ve<128?ce[Re++]=Ve:Ve<2048?(ce[Re++]=Ve>>6|192,ce[Re++]=63&Ve|128):55296==(64512&Ve)&&et+1<pe.length&&56320==(64512&pe.charCodeAt(et+1))?(Ve=65536+((1023&Ve)<<10)+(1023&pe.charCodeAt(++et)),ce[Re++]=Ve>>18|240,ce[Re++]=Ve>>12&63|128,ce[Re++]=Ve>>6&63|128,ce[Re++]=63&Ve|128):(ce[Re++]=Ve>>12|224,ce[Re++]=Ve>>6&63|128,ce[Re++]=63&Ve|128)}return ce},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ce){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Re=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,et=[];for(let Ve=0;Ve<pe.length;Ve+=3){const Mt=pe[Ve],cn=Ve+1<pe.length,xn=cn?pe[Ve+1]:0,J=Ve+2<pe.length,j=J?pe[Ve+2]:0;let Xe=(15&xn)<<2|j>>6,gt=63&j;J||(gt=64,cn||(Xe=64)),et.push(Re[Mt>>2],Re[(3&Mt)<<4|xn>>4],Re[Xe],Re[gt])}return et.join("")},encodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(pe):this.encodeByteArray(Oe(pe),ce)},decodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(pe):function(pe){const ce=[];let Re=0,et=0;for(;Re<pe.length;){const Ve=pe[Re++];if(Ve<128)ce[et++]=String.fromCharCode(Ve);else if(Ve>191&&Ve<224){const Mt=pe[Re++];ce[et++]=String.fromCharCode((31&Ve)<<6|63&Mt)}else if(Ve>239&&Ve<365){const J=((7&Ve)<<18|(63&pe[Re++])<<12|(63&pe[Re++])<<6|63&pe[Re++])-65536;ce[et++]=String.fromCharCode(55296+(J>>10)),ce[et++]=String.fromCharCode(56320+(1023&J))}else{const Mt=pe[Re++],cn=pe[Re++];ce[et++]=String.fromCharCode((15&Ve)<<12|(63&Mt)<<6|63&cn)}}return ce.join("")}(this.decodeStringToByteArray(pe,ce))},decodeStringToByteArray(pe,ce){this.init_();const Re=ce?this.charToByteMapWebSafe_:this.charToByteMap_,et=[];for(let Ve=0;Ve<pe.length;){const Mt=Re[pe.charAt(Ve++)],xn=Ve<pe.length?Re[pe.charAt(Ve)]:0;++Ve;const j=Ve<pe.length?Re[pe.charAt(Ve)]:64;++Ve;const Ce=Ve<pe.length?Re[pe.charAt(Ve)]:64;if(++Ve,null==Mt||null==xn||null==j||null==Ce)throw new X;et.push(Mt<<2|xn>>4),64!==j&&(et.push(xn<<4&240|j>>2),64!==Ce&&et.push(j<<6&192|Ce))}return et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class X extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(pe){return function(pe){const ce=Oe(pe);return _e.encodeByteArray(ce,!0)}(pe).replace(/\./g,"")},se=function(pe){try{return _e.decodeString(pe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function re(pe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ce}for(const Re in ce)!ce.hasOwnProperty(Re)||!le(Re)||(pe[Re]=re(pe[Re],ce[Re]));return pe}function le(pe){return"__proto__"!==pe}const ie=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=pe&&se(pe[1]);return ce&&JSON.parse(ce)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},Fe=()=>{var pe;return null===(pe=ie())||void 0===pe?void 0:pe.config},ke=pe=>{var ce;return null===(ce=ie())||void 0===ce?void 0:ce[`_${pe}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Re)=>{this.resolve=ce,this.reject=Re})}wrapCallback(ce){return(Re,et)=>{Re?this.reject(Re):this.resolve(et),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Re):ce(Re,et))}}}function Ke(pe,ce){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const et=ce||"demo-project",Ve=pe.iat||0,Mt=pe.sub||pe.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const cn=Object.assign({iss:`https://securetoken.google.com/${et}`,aud:et,iat:Ve,exp:Ve+3600,auth_time:Ve,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(cn)),""].join(".")}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function U(){var pe;const ce=null===(pe=ie())||void 0===pe?void 0:pe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ue(){return"object"==typeof self&&self.self===self}function ne(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function W(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const pe=Y();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function Ye(){return!U()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((pe,ce)=>{try{let Re=!0;const et="validate-browser-context-for-indexeddb-analytics-module",Ve=self.indexedDB.open(et);Ve.onsuccess=()=>{Ve.result.close(),Re||self.indexedDB.deleteDatabase(et),pe(!0)},Ve.onupgradeneeded=()=>{Re=!1},Ve.onerror=()=>{var Mt;ce((null===(Mt=Ve.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(Re){ce(Re)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ge extends Error{constructor(ce,Re,et){super(Re),this.code=ce,this.customData=et,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(ce,Re,et){this.service=ce,this.serviceName=Re,this.errors=et}create(ce,...Re){const et=Re[0]||{},Ve=`${this.service}/${ce}`,Mt=this.errors[ce],cn=Mt?function _t(pe,ce){return pe.replace(kt,(Re,et)=>{const Ve=ce[et];return null!=Ve?String(Ve):`<${et}?>`})}(Mt,et):"Error";return new Ge(Ve,`${this.serviceName}: ${cn} (${Ve}).`,et)}}const kt=/\{\$([^}]+)}/g;function Vt(pe,ce){return Object.prototype.hasOwnProperty.call(pe,ce)}function Ht(pe){for(const ce in pe)if(Object.prototype.hasOwnProperty.call(pe,ce))return!1;return!0}function dn(pe,ce){if(pe===ce)return!0;const Re=Object.keys(pe),et=Object.keys(ce);for(const Ve of Re){if(!et.includes(Ve))return!1;const Mt=pe[Ve],cn=ce[Ve];if(Un(Mt)&&Un(cn)){if(!dn(Mt,cn))return!1}else if(Mt!==cn)return!1}for(const Ve of et)if(!Re.includes(Ve))return!1;return!0}function Un(pe){return null!==pe&&"object"==typeof pe}function Zi(pe){const ce=[];for(const[Re,et]of Object.entries(pe))Array.isArray(et)?et.forEach(Ve=>{ce.push(encodeURIComponent(Re)+"="+encodeURIComponent(Ve))}):ce.push(encodeURIComponent(Re)+"="+encodeURIComponent(et));return ce.length?"&"+ce.join("&"):""}function ci(pe){const ce={};return pe.replace(/^\?/,"").split("&").forEach(et=>{if(et){const[Ve,Mt]=et.split("=");ce[decodeURIComponent(Ve)]=decodeURIComponent(Mt)}}),ce}function ui(pe){const ce=pe.indexOf("?");if(!ce)return"";const Re=pe.indexOf("#",ce);return pe.substring(ce,Re>0?Re:void 0)}function Ln(pe,ce){const Re=new qt(pe,ce);return Re.subscribe.bind(Re)}class qt{constructor(ce,Re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Re,this.task.then(()=>{ce(this)}).catch(et=>{this.error(et)})}next(ce){this.forEachObserver(Re=>{Re.next(ce)})}error(ce){this.forEachObserver(Re=>{Re.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Re,et){let Ve;if(void 0===ce&&void 0===Re&&void 0===et)throw new Error("Missing Observer.");Ve=function yn(pe,ce){if("object"!=typeof pe||null===pe)return!1;for(const Re of ce)if(Re in pe&&"function"==typeof pe[Re])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Re,complete:et},void 0===Ve.next&&(Ve.next=si),void 0===Ve.error&&(Ve.error=si),void 0===Ve.complete&&(Ve.complete=si);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ve.error(this.finalError):Ve.complete()}catch{}}),this.observers.push(Ve),Mt}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Re=0;Re<this.observers.length;Re++)this.sendOne(Re,ce)}sendOne(ce,Re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Re(this.observers[ce])}catch(et){typeof console<"u"&&console.error&&console.error(et)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}function kr(pe,ce=1e3,Re=2){const et=ce*Math.pow(Re,pe),Ve=Math.round(.5*et*(Math.random()-.5)*2);return Math.min(144e5,et+Ve)}function Ei(pe){return pe&&pe._delegate?pe._delegate:pe}},9804:(Lt,qe,R)=>{"use strict";R.d(qe,{c:()=>B,r:()=>G});const B=(Y,te)=>{Y.componentOnReady?Y.componentOnReady().then(U=>te(U)):G(()=>te(Y))},G=Y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Y):"function"==typeof requestAnimationFrame?requestAnimationFrame(Y):setTimeout(Y)},3435:(Lt,qe,R)=>{"use strict";R.d(qe,{L:()=>o,a:()=>de,b:()=>B,c:()=>Oe,d:()=>Me,g:()=>Y});const o="ionViewWillEnter",de="ionViewDidEnter",B="ionViewWillLeave",Oe="ionViewDidLeave",Me="ionViewWillUnload",Y=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},886:(Lt,qe,R)=>{"use strict";R.d(qe,{c:()=>Qe});var o=R(7693),de=R(2674);let B;const Me=oe=>oe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=oe=>{if(void 0===B){const Ae=void 0!==oe.style.webkitAnimationName;B=void 0===oe.style.animationName&&Ae?"-webkit-":""}return B},X=(oe,ie,Ae)=>{const tt=ie.startsWith("animation")?_e(oe):"";oe.style.setProperty(tt+ie,Ae)},Ee=(oe,ie)=>{const Ae=ie.startsWith("animation")?_e(oe):"";oe.style.removeProperty(Ae+ie)},G=[],ye=(oe=[],ie)=>{if(void 0!==ie){const Ae=Array.isArray(ie)?ie:[ie];return[...oe,...Ae]}return oe},Qe=oe=>{let ie,Ae,tt,Fe,ke,be,ue,z,H,he,Be,kt,Ct,Ke=[],Y=[],te=[],U=!1,ne={},W=[],ee=[],ut={},It=0,Ot=!1,Ye=!1,Ge=!0,Pe=!1,_t=!0,Ut=!1;const Yt=oe,yt=[],rt=[],ot=[],vt=[],Vt=[],nn=[],Ht=[],Tt=[],dn=[],Un=[],En=[],Zi="function"==typeof AnimationEffect||void 0!==o.w&&"function"==typeof o.w.AnimationEffect,ci="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zi,Yn=()=>En,si=(K,ge)=>{const $e=ge.findIndex(ct=>ct.c===K);$e>-1&&ge.splice($e,1)},Kn=(K,ge)=>((ge?.oneTimeCallback?rt:yt).push({c:K,o:ge}),Ct),Qn=()=>{if(ci)En.forEach(K=>{K.cancel()}),En.length=0;else{const K=vt.slice();(0,de.r)(()=>{K.forEach(ge=>{Ee(ge,"animation-name"),Ee(ge,"animation-duration"),Ee(ge,"animation-timing-function"),Ee(ge,"animation-iteration-count"),Ee(ge,"animation-delay"),Ee(ge,"animation-play-state"),Ee(ge,"animation-fill-mode"),Ee(ge,"animation-direction")})})}},Fn=()=>{nn.forEach(K=>{K?.parentNode&&K.parentNode.removeChild(K)}),nn.length=0},ce=()=>void 0!==ke?ke:ue?ue.getFill():"both",Re=()=>void 0!==H?H:void 0!==be?be:ue?ue.getDirection():"normal",et=()=>Ot?"linear":void 0!==tt?tt:ue?ue.getEasing():"linear",Ve=()=>Ye?0:void 0!==he?he:void 0!==Ae?Ae:ue?ue.getDuration():0,Mt=()=>void 0!==Fe?Fe:ue?ue.getIterations():1,cn=()=>void 0!==Be?Be:void 0!==ie?ie:ue?ue.getDelay():0,Gt=()=>{0!==It&&(It--,0===It&&((()=>{Xn(),dn.forEach(it=>it()),Un.forEach(it=>it());const K=Ge?1:0,ge=W,$e=ee,ct=ut;vt.forEach(it=>{const ft=it.classList;ge.forEach(At=>ft.add(At)),$e.forEach(At=>ft.remove(At));for(const At in ct)ct.hasOwnProperty(At)&&X(it,At,ct[At])}),yt.forEach(it=>it.c(K,Ct)),rt.forEach(it=>it.c(K,Ct)),rt.length=0,_t=!0,Ge&&(Pe=!0),Ge=!0})(),ue&&ue.animationFinish()))},Tn=(K=!0)=>{Fn();const ge=(oe=>(oe.forEach(ie=>{for(const Ae in ie)if(ie.hasOwnProperty(Ae)){const tt=ie[Ae];if("easing"===Ae)ie["animation-timing-function"]=tt,delete ie[Ae];else{const Fe=Me(Ae);Fe!==Ae&&(ie[Fe]=tt,delete ie[Ae])}}}),oe))(Ke);vt.forEach($e=>{if(ge.length>0){const ct=((oe=[])=>oe.map(ie=>{const Ae=ie.offset,tt=[];for(const Fe in ie)ie.hasOwnProperty(Fe)&&"offset"!==Fe&&tt.push(`${Fe}: ${ie[Fe]};`);return`${100*Ae}% { ${tt.join(" ")} }`}).join(" "))(ge);kt=void 0!==oe?oe:(oe=>{let ie=G.indexOf(oe);return ie<0&&(ie=G.push(oe)-1),`ion-animation-${ie}`})(ct);const it=((oe,ie,Ae)=>{var tt;const Fe=(oe=>{const ie=void 0!==oe.getRootNode?oe.getRootNode():oe;return ie.head||ie})(Ae),ke=_e(Ae),be=Fe.querySelector("#"+oe);if(be)return be;const Ke=(null!==(tt=Ae.ownerDocument)&&void 0!==tt?tt:document).createElement("style");return Ke.id=oe,Ke.textContent=`@${ke}keyframes ${oe} { ${ie} } @${ke}keyframes ${oe}-alt { ${ie} }`,Fe.appendChild(Ke),Ke})(kt,ct,$e);nn.push(it),X($e,"animation-duration",`${Ve()}ms`),X($e,"animation-timing-function",et()),X($e,"animation-delay",`${cn()}ms`),X($e,"animation-fill-mode",ce()),X($e,"animation-direction",Re());const ft=Mt()===1/0?"infinite":Mt().toString();X($e,"animation-iteration-count",ft),X($e,"animation-play-state","paused"),K&&X($e,"animation-name",`${it.id}-alt`),(0,de.r)(()=>{X($e,"animation-name",it.id||null)})}})},Pn=(K=!0)=>{(()=>{Ht.forEach(ct=>ct()),Tt.forEach(ct=>ct());const K=Y,ge=te,$e=ne;vt.forEach(ct=>{const it=ct.classList;K.forEach(ft=>it.add(ft)),ge.forEach(ft=>it.remove(ft));for(const ft in $e)$e.hasOwnProperty(ft)&&X(ct,ft,$e[ft])})})(),Ke.length>0&&(ci?(vt.forEach(K=>{const ge=K.animate(Ke,{id:Yt,delay:cn(),duration:Ve(),easing:et(),iterations:Mt(),fill:ce(),direction:Re()});ge.pause(),En.push(ge)}),En.length>0&&(En[0].onfinish=()=>{Gt()})):Tn(K)),U=!0},di=K=>{if(K=Math.min(Math.max(K,0),.9999),ci)En.forEach(ge=>{ge.currentTime=ge.effect.getComputedTiming().delay+Ve()*K,ge.pause()});else{const ge=`-${Ve()*K}ms`;vt.forEach($e=>{Ke.length>0&&(X($e,"animation-delay",ge),X($e,"animation-play-state","paused"))})}},ji=K=>{En.forEach(ge=>{ge.effect.updateTiming({delay:cn(),duration:Ve(),easing:et(),iterations:Mt(),fill:ce(),direction:Re()})}),void 0!==K&&di(K)},ii=(K=!0,ge)=>{(0,de.r)(()=>{vt.forEach($e=>{X($e,"animation-name",kt||null),X($e,"animation-duration",`${Ve()}ms`),X($e,"animation-timing-function",et()),X($e,"animation-delay",void 0!==ge?`-${ge*Ve()}ms`:`${cn()}ms`),X($e,"animation-fill-mode",ce()||null),X($e,"animation-direction",Re()||null);const ct=Mt()===1/0?"infinite":Mt().toString();X($e,"animation-iteration-count",ct),K&&X($e,"animation-name",`${kt}-alt`),(0,de.r)(()=>{X($e,"animation-name",kt||null)})})})},On=(K=!1,ge=!0,$e)=>(K&&Vt.forEach(ct=>{ct.update(K,ge,$e)}),ci?ji($e):ii(ge,$e),Ct),yo=()=>{U&&(ci?En.forEach(K=>{K.pause()}):vt.forEach(K=>{X(K,"animation-play-state","paused")}),Ut=!0)},$o=()=>{z=void 0,Gt()},Xn=()=>{z&&clearTimeout(z)},ki=K=>new Promise(ge=>{K?.sync&&(Ye=!0,Kn(()=>Ye=!1,{oneTimeCallback:!0})),U||Pn(),Pe&&(ci?(di(0),ji()):ii(),Pe=!1),_t&&(It=Vt.length+1,_t=!1);const $e=()=>{si(ct,rt),ge()},ct=()=>{si($e,ot),ge()};Kn(ct,{oneTimeCallback:!0}),((K,ge)=>{ot.push({c:K,o:{oneTimeCallback:!0}})})($e),Vt.forEach(it=>{it.play()}),ci?(En.forEach(K=>{K.play()}),(0===Ke.length||0===vt.length)&&Gt()):(()=>{if(Xn(),(0,de.r)(()=>{vt.forEach(K=>{Ke.length>0&&X(K,"animation-play-state","running")})}),0===Ke.length||0===vt.length)Gt();else{const K=cn()||0,ge=Ve()||0,$e=Mt()||1;isFinite($e)&&(z=setTimeout($o,K+ge*$e+100)),((oe,ie)=>{let Ae;const tt={passive:!0},ke=be=>{oe===be.target&&(Ae&&Ae(),Xn(),(0,de.r)(()=>{vt.forEach(K=>{Ee(K,"animation-duration"),Ee(K,"animation-delay"),Ee(K,"animation-play-state")}),(0,de.r)(Gt)}))};oe&&(oe.addEventListener("webkitAnimationEnd",ke,tt),oe.addEventListener("animationend",ke,tt),Ae=()=>{oe.removeEventListener("webkitAnimationEnd",ke,tt),oe.removeEventListener("animationend",ke,tt)})})(vt[0])}})(),Ut=!1}),q=(K,ge)=>{const $e=Ke[0];return void 0===$e||void 0!==$e.offset&&0!==$e.offset?Ke=[{offset:0,[K]:ge},...Ke]:$e[K]=ge,Ct};return Ct={parentAnimation:ue,elements:vt,childAnimations:Vt,id:Yt,animationFinish:Gt,from:q,to:(K,ge)=>{const $e=Ke[Ke.length-1];return void 0===$e||void 0!==$e.offset&&1!==$e.offset?Ke=[...Ke,{offset:1,[K]:ge}]:$e[K]=ge,Ct},fromTo:(K,ge,$e)=>q(K,ge).to(K,$e),parent:K=>(ue=K,Ct),play:ki,pause:()=>(Vt.forEach(K=>{K.pause()}),yo(),Ct),stop:()=>{Vt.forEach(K=>{K.stop()}),U&&(Qn(),U=!1),Ot=!1,Ye=!1,_t=!0,H=void 0,he=void 0,Be=void 0,It=0,Pe=!1,Ge=!0,Ut=!1,ot.forEach(K=>K.c(0,Ct)),ot.length=0},destroy:K=>(Vt.forEach(ge=>{ge.destroy(K)}),(K=>{Qn(),K&&Fn()})(K),vt.length=0,Vt.length=0,Ke.length=0,yt.length=0,rt.length=0,U=!1,_t=!0,Ct),keyframes:K=>{const ge=Ke!==K;return Ke=K,ge&&(K=>{ci?Yn().forEach(ge=>{const $e=ge.effect;if($e.setKeyframes)$e.setKeyframes(K);else{const ct=new KeyframeEffect($e.target,K,$e.getTiming());ge.effect=ct}}):Tn()})(Ke),Ct},addAnimation:K=>{if(null!=K)if(Array.isArray(K))for(const ge of K)ge.parent(Ct),Vt.push(ge);else K.parent(Ct),Vt.push(K);return Ct},addElement:K=>{if(null!=K)if(1===K.nodeType)vt.push(K);else if(K.length>=0)for(let ge=0;ge<K.length;ge++)vt.push(K[ge]);else console.error("Invalid addElement value");return Ct},update:On,fill:K=>(ke=K,On(!0),Ct),direction:K=>(be=K,On(!0),Ct),iterations:K=>(Fe=K,On(!0),Ct),duration:K=>(!ci&&0===K&&(K=1),Ae=K,On(!0),Ct),easing:K=>(tt=K,On(!0),Ct),delay:K=>(ie=K,On(!0),Ct),getWebAnimations:Yn,getKeyframes:()=>Ke,getFill:ce,getDirection:Re,getDelay:cn,getIterations:Mt,getEasing:et,getDuration:Ve,afterAddRead:K=>(dn.push(K),Ct),afterAddWrite:K=>(Un.push(K),Ct),afterClearStyles:(K=[])=>{for(const ge of K)ut[ge]="";return Ct},afterStyles:(K={})=>(ut=K,Ct),afterRemoveClass:K=>(ee=ye(ee,K),Ct),afterAddClass:K=>(W=ye(W,K),Ct),beforeAddRead:K=>(Ht.push(K),Ct),beforeAddWrite:K=>(Tt.push(K),Ct),beforeClearStyles:(K=[])=>{for(const ge of K)ne[ge]="";return Ct},beforeStyles:(K={})=>(ne=K,Ct),beforeRemoveClass:K=>(te=ye(te,K),Ct),beforeAddClass:K=>(Y=ye(Y,K),Ct),onFinish:Kn,isRunning:()=>0!==It&&!Ut,progressStart:(K=!1,ge)=>(Vt.forEach($e=>{$e.progressStart(K,ge)}),yo(),Ot=K,U||Pn(),On(!1,!0,ge),Ct),progressStep:K=>(Vt.forEach(ge=>{ge.progressStep(K)}),di(K),Ct),progressEnd:(K,ge,$e)=>(Ot=!1,Vt.forEach(ct=>{ct.progressEnd(K,ge,$e)}),void 0!==$e&&(he=$e),Pe=!1,Ge=!0,0===K?(H="reverse"===Re()?"normal":"reverse","reverse"===H&&(Ge=!1),ci?(On(),di(1-ge)):(Be=(1-ge)*Ve()*-1,On(!1,!1))):1===K&&(ci?(On(),di(ge)):(Be=ge*Ve()*-1,On(!1,!1))),void 0!==K&&(Kn(()=>{he=void 0,H=void 0,Be=void 0},{oneTimeCallback:!0}),ue||ki()),Ct)}}},1180:(Lt,qe,R)=>{"use strict";R.d(qe,{E:()=>se,a:()=>o,s:()=>Ee});const o=G=>{try{if(G instanceof class X{constructor(re){this.value=re}})return G.value;if(!Oe()||"string"!=typeof G||""===G)return G;if(G.includes("onload="))return"";const re=document.createDocumentFragment(),le=document.createElement("div");re.appendChild(le),le.innerHTML=G,_e.forEach(oe=>{const ie=re.querySelectorAll(oe);for(let Ae=ie.length-1;Ae>=0;Ae--){const tt=ie[Ae];tt.parentNode?tt.parentNode.removeChild(tt):re.removeChild(tt);const Fe=B(tt);for(let ke=0;ke<Fe.length;ke++)de(Fe[ke])}});const Se=B(re);for(let oe=0;oe<Se.length;oe++)de(Se[oe]);const ye=document.createElement("div");ye.appendChild(re);const Qe=ye.querySelector("div");return null!==Qe?Qe.innerHTML:ye.innerHTML}catch(re){return console.error(re),""}},de=G=>{if(G.nodeType&&1!==G.nodeType)return;if(typeof NamedNodeMap<"u"&&!(G.attributes instanceof NamedNodeMap))return void G.remove();for(let le=G.attributes.length-1;le>=0;le--){const Se=G.attributes.item(le),ye=Se.name;if(!Me.includes(ye.toLowerCase())){G.removeAttribute(ye);continue}const Qe=Se.value,oe=G[ye];(null!=Qe&&Qe.toLowerCase().includes("javascript:")||null!=oe&&oe.toLowerCase().includes("javascript:"))&&G.removeAttribute(ye)}const re=B(G);for(let le=0;le<re.length;le++)de(re[le])},B=G=>null!=G.children?G.children:G.childNodes,Oe=()=>{var G;const le=null===(G=window?.Ionic)||void 0===G?void 0:G.config;return!le||(le.get?le.get("sanitizerEnabled",!0):!0===le.sanitizerEnabled||void 0===le.sanitizerEnabled)},Me=["class","id","href","src","name","slot"],_e=["script","style","iframe","meta","link","object","embed"],Ee=G=>{const re=window,le=re.Ionic;if(!le||!le.config||"Object"===le.config.constructor.name)return re.Ionic=re.Ionic||{},re.Ionic.config=Object.assign(Object.assign({},re.Ionic.config),G),re.Ionic.config},se=!1},8826:(Lt,qe,R)=>{"use strict";R.d(qe,{C:()=>Me,a:()=>B,d:()=>Oe});var o=R(5861),de=R(2674);const B=function(){var _e=(0,o.Z)(function*(X,Ee,xe,se,G,re){var le;if(X)return X.attachViewToDom(Ee,xe,G,se);if(!(re||"string"==typeof xe||xe instanceof HTMLElement))throw new Error("framework delegate is missing");const Se="string"==typeof xe?null===(le=Ee.ownerDocument)||void 0===le?void 0:le.createElement(xe):xe;return se&&se.forEach(ye=>Se.classList.add(ye)),G&&Object.assign(Se,G),Ee.appendChild(Se),yield new Promise(ye=>(0,de.c)(Se,ye)),Se});return function(Ee,xe,se,G,re,le){return _e.apply(this,arguments)}}(),Oe=(_e,X)=>{if(X){if(_e)return _e.removeViewFromDom(X.parentElement,X);X.remove()}return Promise.resolve()},Me=()=>{let _e,X;return{attachViewToDom:function(){var se=(0,o.Z)(function*(G,re,le={},Se=[]){var ye,Qe;let oe;if(_e=G,re){const Ae="string"==typeof re?null===(ye=_e.ownerDocument)||void 0===ye?void 0:ye.createElement(re):re;Se.forEach(tt=>Ae.classList.add(tt)),Object.assign(Ae,le),_e.appendChild(Ae),oe=Ae,yield new Promise(tt=>(0,de.c)(Ae,tt))}else if(_e.children.length>0&&("ION-MODAL"===_e.tagName||"ION-POPOVER"===_e.tagName)&&!(oe=_e.children[0]).classList.contains("ion-delegate-host")){const tt=null===(Qe=_e.ownerDocument)||void 0===Qe?void 0:Qe.createElement("div");tt.classList.add("ion-delegate-host"),Se.forEach(Fe=>tt.classList.add(Fe)),tt.append(..._e.children),_e.appendChild(tt),oe=tt}const ie=document.querySelector("ion-app")||document.body;return X=document.createComment("ionic teleport"),_e.parentNode.insertBefore(X,_e),ie.appendChild(_e),oe??_e});return function(re,le){return se.apply(this,arguments)}}(),removeViewFromDom:()=>(_e&&X&&(X.parentNode.insertBefore(_e,X),X.remove()),Promise.resolve())}}},6412:(Lt,qe,R)=>{"use strict";R.d(qe,{G:()=>Me});class de{constructor(X,Ee,xe,se,G){this.id=Ee,this.name=xe,this.disableScroll=G,this.priority=1e6*se+Ee,this.ctrl=X}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const X=this.ctrl.capture(this.name,this.id,this.priority);return X&&this.disableScroll&&this.ctrl.disableScroll(this.id),X}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(X,Ee,xe,se){this.id=Ee,this.disable=xe,this.disableScroll=se,this.ctrl=X}block(){if(this.ctrl){if(this.disable)for(const X of this.disable)this.ctrl.disableGesture(X,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const X of this.disable)this.ctrl.enableGesture(X,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Oe="backdrop-no-scroll",Me=new class o{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(X){var Ee;return new de(this,this.newID(),X.name,null!==(Ee=X.priority)&&void 0!==Ee?Ee:0,!!X.disableScroll)}createBlocker(X={}){return new B(this,this.newID(),X.disable,!!X.disableScroll)}start(X,Ee,xe){return this.canStart(X)?(this.requestedStart.set(Ee,xe),!0):(this.requestedStart.delete(Ee),!1)}capture(X,Ee,xe){if(!this.start(X,Ee,xe))return!1;const se=this.requestedStart;let G=-1e4;if(se.forEach(re=>{G=Math.max(G,re)}),G===xe){this.capturedId=Ee,se.clear();const re=new CustomEvent("ionGestureCaptured",{detail:{gestureName:X}});return document.dispatchEvent(re),!0}return se.delete(Ee),!1}release(X){this.requestedStart.delete(X),this.capturedId===X&&(this.capturedId=void 0)}disableGesture(X,Ee){let xe=this.disabledGestures.get(X);void 0===xe&&(xe=new Set,this.disabledGestures.set(X,xe)),xe.add(Ee)}enableGesture(X,Ee){const xe=this.disabledGestures.get(X);void 0!==xe&&xe.delete(Ee)}disableScroll(X){this.disabledScroll.add(X),1===this.disabledScroll.size&&document.body.classList.add(Oe)}enableScroll(X){this.disabledScroll.delete(X),0===this.disabledScroll.size&&document.body.classList.remove(Oe)}canStart(X){return!(void 0!==this.capturedId||this.isDisabled(X))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(X){const Ee=this.disabledGestures.get(X);return!!(Ee&&Ee.size>0)}newID(){return this.gestureId++,this.gestureId}}},245:(Lt,qe,R)=>{"use strict";R.r(qe),R.d(qe,{MENU_BACK_BUTTON_PRIORITY:()=>Me,OVERLAY_BACK_BUTTON_PRIORITY:()=>Oe,blockHardwareBackButton:()=>de,startHardwareBackButton:()=>B});var o=R(5861);const de=()=>{document.addEventListener("backbutton",()=>{})},B=()=>{const _e=document;let X=!1;_e.addEventListener("backbutton",()=>{if(X)return;let Ee=0,xe=[];const se=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(le,Se){xe.push({priority:le,handler:Se,id:Ee++})}}});_e.dispatchEvent(se);const G=function(){var le=(0,o.Z)(function*(Se){try{if(Se?.handler){const ye=Se.handler(re);null!=ye&&(yield ye)}}catch(ye){console.error(ye)}});return function(ye){return le.apply(this,arguments)}}(),re=()=>{if(xe.length>0){let le={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};xe.forEach(Se=>{Se.priority>=le.priority&&(le=Se)}),X=!0,xe=xe.filter(Se=>Se.id!==le.id),G(le).then(()=>X=!1)}};re()})},Oe=100,Me=99},2674:(Lt,qe,R)=>{"use strict";R.d(qe,{a:()=>Ee,b:()=>xe,c:()=>B,d:()=>Qe,e:()=>ye,f:()=>Se,g:()=>se,h:()=>le,i:()=>X,j:()=>ke,k:()=>Me,l:()=>oe,m:()=>Oe,n:()=>re,o:()=>ie,p:()=>Fe,q:()=>be,r:()=>G,s:()=>Ke,t:()=>o,u:()=>Ae,v:()=>tt});const o=(Y,te=0)=>new Promise(U=>{de(Y,te,U)}),de=(Y,te=0,U)=>{let ue,ne;const W={passive:!0},ut=()=>{ue&&ue()},It=Ot=>{(void 0===Ot||Y===Ot.target)&&(ut(),U(Ot))};return Y&&(Y.addEventListener("webkitTransitionEnd",It,W),Y.addEventListener("transitionend",It,W),ne=setTimeout(It,te+500),ue=()=>{ne&&(clearTimeout(ne),ne=void 0),Y.removeEventListener("webkitTransitionEnd",It,W),Y.removeEventListener("transitionend",It,W)}),ut},B=(Y,te)=>{Y.componentOnReady?Y.componentOnReady().then(U=>te(U)):G(()=>te(Y))},Oe=Y=>void 0!==Y.componentOnReady,Me=(Y,te=[])=>{const U={};return te.forEach(ue=>{Y.hasAttribute(ue)&&(null!==Y.getAttribute(ue)&&(U[ue]=Y.getAttribute(ue)),Y.removeAttribute(ue))}),U},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(Y,te)=>{let U=_e;return te&&te.length>0&&(U=U.filter(ue=>!te.includes(ue))),Me(Y,U)},Ee=(Y,te,U,ue)=>{var ne;if(typeof window<"u"){const ee=null===(ne=window?.Ionic)||void 0===ne?void 0:ne.config;if(ee){const ut=ee.get("_ael");if(ut)return ut(Y,te,U,ue);if(ee._ael)return ee._ael(Y,te,U,ue)}}return Y.addEventListener(te,U,ue)},xe=(Y,te,U,ue)=>{var ne;if(typeof window<"u"){const ee=null===(ne=window?.Ionic)||void 0===ne?void 0:ne.config;if(ee){const ut=ee.get("_rel");if(ut)return ut(Y,te,U,ue);if(ee._rel)return ee._rel(Y,te,U,ue)}}return Y.removeEventListener(te,U,ue)},se=(Y,te=Y)=>Y.shadowRoot||te,G=Y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Y):"function"==typeof requestAnimationFrame?requestAnimationFrame(Y):setTimeout(Y),re=Y=>!!Y.shadowRoot&&!!Y.attachShadow,le=Y=>{const te=Y.closest("ion-item");return te?te.querySelector("ion-label"):null},Se=Y=>{if(Y.focus(),Y.classList.contains("ion-focusable")){const te=Y.closest("ion-app");te&&te.setFocus([Y])}},ye=(Y,te)=>{let U;const ue=Y.getAttribute("aria-labelledby"),ne=Y.id;let W=null!==ue&&""!==ue.trim()?ue:te+"-lbl",ee=null!==ue&&""!==ue.trim()?document.getElementById(ue):le(Y);return ee?(null===ue&&(ee.id=W),U=ee.textContent,ee.setAttribute("aria-hidden","true")):""!==ne.trim()&&(ee=document.querySelector(`label[for="${ne}"]`),ee&&(""!==ee.id?W=ee.id:ee.id=W=`${ne}-lbl`,U=ee.textContent)),{label:ee,labelId:W,labelText:U}},Qe=(Y,te,U,ue,ne)=>{if(Y||re(te)){let W=te.querySelector("input.aux-input");W||(W=te.ownerDocument.createElement("input"),W.type="hidden",W.classList.add("aux-input"),te.appendChild(W)),W.disabled=ne,W.name=U,W.value=ue||""}},oe=(Y,te,U)=>Math.max(Y,Math.min(te,U)),ie=(Y,te)=>{if(!Y){const U="ASSERT: "+te;throw console.error(U),new Error(U)}},Ae=Y=>Y.timeStamp||Date.now(),tt=Y=>{if(Y){const te=Y.changedTouches;if(te&&te.length>0){const U=te[0];return{x:U.clientX,y:U.clientY}}if(void 0!==Y.pageX)return{x:Y.pageX,y:Y.pageY}}return{x:0,y:0}},Fe=Y=>{const te="rtl"===document.dir;switch(Y){case"start":return te;case"end":return!te;default:throw new Error(`"${Y}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ke=(Y,te)=>{const U=Y._original||Y;return{_original:Y,emit:be(U.emit.bind(U),te)}},be=(Y,te=0)=>{let U;return(...ue)=>{clearTimeout(U),U=setTimeout(Y,te,...ue)}},Ke=(Y,te)=>{if(Y??(Y={}),te??(te={}),Y===te)return!0;const U=Object.keys(Y);if(U.length!==Object.keys(te).length)return!1;for(const ue of U)if(!(ue in te)||Y[ue]!==te[ue])return!1;return!0}},3357:(Lt,qe,R)=>{"use strict";R.d(qe,{a:()=>de,b:()=>B,p:()=>o});const o=(Oe,...Me)=>console.warn(`[Ionic Warning]: ${Oe}`,...Me),de=(Oe,...Me)=>console.error(`[Ionic Error]: ${Oe}`,...Me),B=(Oe,...Me)=>console.error(`<${Oe.tagName.toLowerCase()}> must be used inside ${Me.join(" or ")}.`)},7693:(Lt,qe,R)=>{"use strict";R.d(qe,{d:()=>de,w:()=>o});const o=typeof window<"u"?window:void 0,de=typeof document<"u"?document:void 0},2533:(Lt,qe,R)=>{"use strict";R.d(qe,{m:()=>re});var o=R(5861),de=R(3357),B=R(245),Oe=R(2674),Me=R(27),_e=R(886);const X=le=>(0,_e.c)().duration(le?400:300),Ee=le=>{let Se,ye;const Qe=le.width+8,oe=(0,_e.c)(),ie=(0,_e.c)();le.isEndSide?(Se=Qe+"px",ye="0px"):(Se=-Qe+"px",ye="0px"),oe.addElement(le.menuInnerEl).fromTo("transform",`translateX(${Se})`,`translateX(${ye})`);const tt="ios"===(0,Me.b)(le),Fe=tt?.2:.25;return ie.addElement(le.backdropEl).fromTo("opacity",.01,Fe),X(tt).addAnimation([oe,ie])},xe=le=>{let Se,ye;const Qe=(0,Me.b)(le),oe=le.width;le.isEndSide?(Se=-oe+"px",ye=oe+"px"):(Se=oe+"px",ye=-oe+"px");const ie=(0,_e.c)().addElement(le.menuInnerEl).fromTo("transform",`translateX(${ye})`,"translateX(0px)"),Ae=(0,_e.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${Se})`),tt=(0,_e.c)().addElement(le.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Qe).addAnimation([ie,Ae,tt])},se=le=>{const Se=(0,Me.b)(le),ye=le.width*(le.isEndSide?-1:1)+"px",Qe=(0,_e.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${ye})`);return X("ios"===Se).addAnimation(Qe)},re=(()=>{const le=new Map,Se=[],ye=function(){var z=(0,o.Z)(function*(H){const he=yield ke(H,!0);return!!he&&he.open()});return function(he){return z.apply(this,arguments)}}(),Qe=function(){var z=(0,o.Z)(function*(H){const he=yield void 0!==H?ke(H,!0):be();return void 0!==he&&he.close()});return function(he){return z.apply(this,arguments)}}(),oe=function(){var z=(0,o.Z)(function*(H){const he=yield ke(H,!0);return!!he&&he.toggle()});return function(he){return z.apply(this,arguments)}}(),ie=function(){var z=(0,o.Z)(function*(H,he){const Be=yield ke(he);return Be&&(Be.disabled=!H),Be});return function(he,Be){return z.apply(this,arguments)}}(),Ae=function(){var z=(0,o.Z)(function*(H,he){const Be=yield ke(he);return Be&&(Be.swipeGesture=H),Be});return function(he,Be){return z.apply(this,arguments)}}(),tt=function(){var z=(0,o.Z)(function*(H){if(null!=H){const he=yield ke(H);return void 0!==he&&he.isOpen()}return void 0!==(yield be())});return function(he){return z.apply(this,arguments)}}(),Fe=function(){var z=(0,o.Z)(function*(H){const he=yield ke(H);return!!he&&!he.disabled});return function(he){return z.apply(this,arguments)}}(),ke=function(){var z=(0,o.Z)(function*(H,he=!1){if(yield Ye(),"start"===H||"end"===H){const Ge=Se.filter(_t=>_t.side===H&&!_t.disabled);if(Ge.length>=1)return Ge.length>1&&he&&(0,de.p)(`menuController queried for a menu on the "${H}" side, but ${Ge.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ge.map(_t=>_t.el)),Ge[0].el;const Pe=Se.filter(_t=>_t.side===H);if(Pe.length>=1)return Pe.length>1&&he&&(0,de.p)(`menuController queried for a menu on the "${H}" side, but ${Pe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Pe.map(_t=>_t.el)),Pe[0].el}else if(null!=H)return Ot(Ge=>Ge.menuId===H);return Ot(Ge=>!Ge.disabled)||(Se.length>0?Se[0].el:void 0)});return function(he){return z.apply(this,arguments)}}(),be=function(){var z=(0,o.Z)(function*(){return yield Ye(),ee()});return function(){return z.apply(this,arguments)}}(),Ke=function(){var z=(0,o.Z)(function*(){return yield Ye(),ut()});return function(){return z.apply(this,arguments)}}(),Y=function(){var z=(0,o.Z)(function*(){return yield Ye(),It()});return function(){return z.apply(this,arguments)}}(),te=(z,H)=>{le.set(z,H)},ne=function(){var z=(0,o.Z)(function*(H,he,Be){if(It())return!1;if(he){const Ge=yield be();Ge&&H.el!==Ge&&(yield Ge.setOpen(!1,!1))}return H._setOpen(he,Be)});return function(he,Be,Ge){return z.apply(this,arguments)}}(),ee=()=>Ot(z=>z._isOpen),ut=()=>Se.map(z=>z.el),It=()=>Se.some(z=>z.isAnimating),Ot=z=>{const H=Se.find(z);if(void 0!==H)return H.el},Ye=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(z=>new Promise(H=>(0,Oe.c)(z,H))));return te("reveal",se),te("push",xe),te("overlay",Ee),typeof document<"u"&&document.addEventListener("ionBackButton",z=>{const H=ee();H&&z.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>H.close())}),{registerAnimation:te,get:ke,getMenus:Ke,getOpen:be,isEnabled:Fe,swipeGesture:Ae,isAnimating:Y,isOpen:tt,enable:ie,toggle:oe,close:Qe,open:ye,_getOpenSync:ee,_createAnimation:(z,H)=>{const he=le.get(z);if(!he)throw new Error("animation not registered");return he(H)},_register:z=>{Se.indexOf(z)<0&&Se.push(z)},_unregister:z=>{const H=Se.indexOf(z);H>-1&&Se.splice(H,1)},_setOpen:ne}})()},3419:(Lt,qe,R)=>{"use strict";R.d(qe,{B:()=>G,H:()=>ut,a:()=>mo,b:()=>we,c:()=>Pe,d:()=>Ut,e:()=>$a,f:()=>Ct,g:()=>_t,h:()=>W,i:()=>ai,j:()=>re,r:()=>Je,w:()=>ki});var o=R(5861);let B,Oe,Me,_e=!1,X=!1,Ee=!1,xe=!1,se=!1;const G={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},re=L=>{const q=new URL(L,On.$resourcesUrl$);return q.origin!==ji.location.origin?q.href:q.pathname},Ae="s-id",tt="sty-id",be="http://www.w3.org/1999/xlink",Ke={},ue=L=>"object"==(L=typeof L)||"function"===L;function ne(L){var q,Le,Ne;return null!==(Ne=null===(Le=null===(q=L.head)||void 0===q?void 0:q.querySelector('meta[name="csp-nonce"]'))||void 0===Le?void 0:Le.getAttribute("content"))&&void 0!==Ne?Ne:void 0}const W=(L,q,...Le)=>{let Ne=null,K=null,ge=null,$e=!1,ct=!1;const it=[],ft=In=>{for(let An=0;An<In.length;An++)Ne=In[An],Array.isArray(Ne)?ft(Ne):null!=Ne&&"boolean"!=typeof Ne&&(($e="function"!=typeof L&&!ue(Ne))&&(Ne=String(Ne)),$e&&ct?it[it.length-1].$text$+=Ne:it.push($e?ee(null,Ne):Ne),ct=$e)};if(ft(Le),q){q.key&&(K=q.key),q.name&&(ge=q.name);{const In=q.className||q.class;In&&(q.class="object"!=typeof In?In:Object.keys(In).filter(An=>In[An]).join(" "))}}if("function"==typeof L)return L(null===q?{}:q,it,Ot);const At=ee(L,null);return At.$attrs$=q,it.length>0&&(At.$children$=it),At.$key$=K,At.$name$=ge,At},ee=(L,q)=>({$flags$:0,$tag$:L,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ut={},Ot={forEach:(L,q)=>L.map(Ye).forEach(q),map:(L,q)=>L.map(Ye).map(q).map(z)},Ye=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),z=L=>{if("function"==typeof L.vtag){const Le=Object.assign({},L.vattrs);return L.vkey&&(Le.key=L.vkey),L.vname&&(Le.name=L.vname),W(L.vtag,Le,...L.vchildren||[])}const q=ee(L.vtag,L.vtext);return q.$attrs$=L.vattrs,q.$children$=L.vchildren,q.$key$=L.vkey,q.$name$=L.vname,q},he=(L,q,Le,Ne,K,ge,$e)=>{let ct,it,ft,At;if(1===ge.nodeType){for(ct=ge.getAttribute("c-id"),ct&&(it=ct.split("."),(it[0]===$e||"0"===it[0])&&(ft={$flags$:0,$hostId$:it[0],$nodeId$:it[1],$depth$:it[2],$index$:it[3],$tag$:ge.tagName.toLowerCase(),$elm$:ge,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(ft),ge.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[ft.$index$]=ft,L=ft,Ne&&"0"===ft.$depth$&&(Ne[ft.$index$]=ft.$elm$))),At=ge.childNodes.length-1;At>=0;At--)he(L,q,Le,Ne,K,ge.childNodes[At],$e);if(ge.shadowRoot)for(At=ge.shadowRoot.childNodes.length-1;At>=0;At--)he(L,q,Le,Ne,K,ge.shadowRoot.childNodes[At],$e)}else if(8===ge.nodeType)it=ge.nodeValue.split("."),(it[1]===$e||"0"===it[1])&&(ct=it[0],ft={$flags$:0,$hostId$:it[1],$nodeId$:it[2],$depth$:it[3],$index$:it[4],$elm$:ge,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ct?(ft.$elm$=ge.nextSibling,ft.$elm$&&3===ft.$elm$.nodeType&&(ft.$text$=ft.$elm$.textContent,q.push(ft),ge.remove(),L.$children$||(L.$children$=[]),L.$children$[ft.$index$]=ft,Ne&&"0"===ft.$depth$&&(Ne[ft.$index$]=ft.$elm$))):ft.$hostId$===$e&&("s"===ct?(ft.$tag$="slot",ge["s-sn"]=it[5]?ft.$name$=it[5]:"",ge["s-sr"]=!0,Ne&&(ft.$elm$=ii.createElement(ft.$tag$),ft.$name$&&ft.$elm$.setAttribute("name",ft.$name$),ge.parentNode.insertBefore(ft.$elm$,ge),ge.remove(),"0"===ft.$depth$&&(Ne[ft.$index$]=ft.$elm$)),Le.push(ft),L.$children$||(L.$children$=[]),L.$children$[ft.$index$]=ft):"r"===ct&&(Ne?ge.remove():(K["s-cr"]=ge,ge["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const In=ee(null,ge.textContent);In.$elm$=ge,In.$index$="0",L.$children$=[In]}},Be=(L,q)=>{if(1===L.nodeType){let Le=0;for(;Le<L.childNodes.length;Le++)Be(L.childNodes[Le],q);if(L.shadowRoot)for(Le=0;Le<L.shadowRoot.childNodes.length;Le++)Be(L.shadowRoot.childNodes[Le],q)}else if(8===L.nodeType){const Le=L.nodeValue.split(".");"o"===Le[0]&&(q.set(Le[1]+"."+Le[2],L),L.nodeValue="",L["s-en"]=Le[3])}},Pe=L=>di.push(L),_t=L=>me(L).$modeName$,Ct=L=>me(L).$hostElement$,Ut=(L,q,Le)=>{const Ne=Ct(L);return{emit:K=>Yt(Ne,q,{bubbles:!!(4&Le),composed:!!(2&Le),cancelable:!!(1&Le),detail:K})}},Yt=(L,q,Le)=>{const Ne=On.ce(q,Le);return L.dispatchEvent(Ne),Ne},yt=new WeakMap,rt=(L,q,Le)=>{let Ne=Pn.get(L);yo&&Le?(Ne=Ne||new CSSStyleSheet,"string"==typeof Ne?Ne=q:Ne.replaceSync(q)):Ne=q,Pn.set(L,Ne)},ot=(L,q,Le)=>{var Ne;const K=Vt(q,Le),ge=Pn.get(K);if(L=11===L.nodeType?L:ii,ge)if("string"==typeof ge){let ct,$e=yt.get(L=L.head||L);if($e||yt.set(L,$e=new Set),!$e.has(K)){if(L.host&&(ct=L.querySelector(`[${tt}="${K}"]`)))ct.innerHTML=ge;else{ct=ii.createElement("style"),ct.innerHTML=ge;const it=null!==(Ne=On.$nonce$)&&void 0!==Ne?Ne:ne(ii);null!=it&&ct.setAttribute("nonce",it),L.insertBefore(ct,L.querySelector("link"))}$e&&$e.add(K)}}else L.adoptedStyleSheets.includes(ge)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,ge]);return K},Vt=(L,q)=>"sc-"+(q&&32&L.$flags$?L.$tagName$+"-"+q:L.$tagName$),nn=L=>L.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ht=(L,q,Le,Ne,K,ge)=>{if(Le!==Ne){let $e=Rt(L,q),ct=q.toLowerCase();if("class"===q){const it=L.classList,ft=dn(Le),At=dn(Ne);it.remove(...ft.filter(In=>In&&!At.includes(In))),it.add(...At.filter(In=>In&&!ft.includes(In)))}else if("style"===q){for(const it in Le)(!Ne||null==Ne[it])&&(it.includes("-")?L.style.removeProperty(it):L.style[it]="");for(const it in Ne)(!Le||Ne[it]!==Le[it])&&(it.includes("-")?L.style.setProperty(it,Ne[it]):L.style[it]=Ne[it])}else if("key"!==q)if("ref"===q)Ne&&Ne(L);else if($e||"o"!==q[0]||"n"!==q[1]){const it=ue(Ne);if(($e||it&&null!==Ne)&&!K)try{if(L.tagName.includes("-"))L[q]=Ne;else{const At=Ne??"";"list"===q?$e=!1:(null==Le||L[q]!=At)&&(L[q]=At)}}catch{}let ft=!1;ct!==(ct=ct.replace(/^xlink\:?/,""))&&(q=ct,ft=!0),null==Ne||!1===Ne?(!1!==Ne||""===L.getAttribute(q))&&(ft?L.removeAttributeNS(be,q):L.removeAttribute(q)):(!$e||4&ge||K)&&!it&&(Ne=!0===Ne?"":Ne,ft?L.setAttributeNS(be,q,Ne):L.setAttribute(q,Ne))}else q="-"===q[2]?q.slice(3):Rt(ji,ct)?ct.slice(2):ct[2]+q.slice(3),Le&&On.rel(L,q,Le,!1),Ne&&On.ael(L,q,Ne,!1)}},Tt=/\s/,dn=L=>L?L.split(Tt):[],Un=(L,q,Le,Ne)=>{const K=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,ge=L&&L.$attrs$||Ke,$e=q.$attrs$||Ke;for(Ne in ge)Ne in $e||Ht(K,Ne,ge[Ne],void 0,Le,q.$flags$);for(Ne in $e)Ht(K,Ne,ge[Ne],$e[Ne],Le,q.$flags$)},En=(L,q,Le,Ne)=>{const K=q.$children$[Le];let $e,ct,it,ge=0;if(_e||(Ee=!0,"slot"===K.$tag$&&(B&&Ne.classList.add(B+"-s"),K.$flags$|=K.$children$?2:1)),null!==K.$text$)$e=K.$elm$=ii.createTextNode(K.$text$);else if(1&K.$flags$)$e=K.$elm$=ii.createTextNode("");else{if(xe||(xe="svg"===K.$tag$),$e=K.$elm$=ii.createElementNS(xe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&K.$flags$?"slot-fb":K.$tag$),xe&&"foreignObject"===K.$tag$&&(xe=!1),Un(null,K,xe),(L=>null!=L)(B)&&$e["s-si"]!==B&&$e.classList.add($e["s-si"]=B),K.$children$)for(ge=0;ge<K.$children$.length;++ge)ct=En(L,K,ge,$e),ct&&$e.appendChild(ct);"svg"===K.$tag$?xe=!1:"foreignObject"===$e.tagName&&(xe=!0)}return $e["s-hn"]=Me,3&K.$flags$&&($e["s-sr"]=!0,$e["s-cr"]=Oe,$e["s-sn"]=K.$name$||"",it=L&&L.$children$&&L.$children$[Le],it&&it.$tag$===K.$tag$&&L.$elm$&&Zi(L.$elm$,!1)),$e},Zi=(L,q)=>{On.$flags$|=1;const Le=L.childNodes;for(let Ne=Le.length-1;Ne>=0;Ne--){const K=Le[Ne];K["s-hn"]!==Me&&K["s-ol"]&&(an(K).insertBefore(K,qt(K)),K["s-ol"].remove(),K["s-ol"]=void 0,Ee=!0),q&&Zi(K,q)}On.$flags$&=-2},ci=(L,q,Le,Ne,K,ge)=>{let ct,$e=L["s-cr"]&&L["s-cr"].parentNode||L;for($e.shadowRoot&&$e.tagName===Me&&($e=$e.shadowRoot);K<=ge;++K)Ne[K]&&(ct=En(null,Le,K,L),ct&&(Ne[K].$elm$=ct,$e.insertBefore(ct,qt(q))))},ui=(L,q,Le)=>{for(let Ne=q;Ne<=Le;++Ne){const K=L[Ne];if(K){const ge=K.$elm$;Qn(K),ge&&(X=!0,ge["s-ol"]?ge["s-ol"].remove():Zi(ge,!0),ge.remove())}}},Ln=(L,q)=>L.$tag$===q.$tag$&&("slot"===L.$tag$?L.$name$===q.$name$:L.$key$===q.$key$),qt=L=>L&&L["s-ol"]||L,an=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,yn=(L,q)=>{const Le=q.$elm$=L.$elm$,Ne=L.$children$,K=q.$children$,ge=q.$tag$,$e=q.$text$;let ct;null===$e?(xe="svg"===ge||"foreignObject"!==ge&&xe,"slot"===ge||Un(L,q,xe),null!==Ne&&null!==K?((L,q,Le,Ne)=>{let Lr,Er,K=0,ge=0,$e=0,ct=0,it=q.length-1,ft=q[0],At=q[it],In=Ne.length-1,An=Ne[0],Jn=Ne[In];for(;K<=it&&ge<=In;)if(null==ft)ft=q[++K];else if(null==At)At=q[--it];else if(null==An)An=Ne[++ge];else if(null==Jn)Jn=Ne[--In];else if(Ln(ft,An))yn(ft,An),ft=q[++K],An=Ne[++ge];else if(Ln(At,Jn))yn(At,Jn),At=q[--it],Jn=Ne[--In];else if(Ln(ft,Jn))("slot"===ft.$tag$||"slot"===Jn.$tag$)&&Zi(ft.$elm$.parentNode,!1),yn(ft,Jn),L.insertBefore(ft.$elm$,At.$elm$.nextSibling),ft=q[++K],Jn=Ne[--In];else if(Ln(At,An))("slot"===ft.$tag$||"slot"===Jn.$tag$)&&Zi(At.$elm$.parentNode,!1),yn(At,An),L.insertBefore(At.$elm$,ft.$elm$),At=q[--it],An=Ne[++ge];else{for($e=-1,ct=K;ct<=it;++ct)if(q[ct]&&null!==q[ct].$key$&&q[ct].$key$===An.$key$){$e=ct;break}$e>=0?(Er=q[$e],Er.$tag$!==An.$tag$?Lr=En(q&&q[ge],Le,$e,L):(yn(Er,An),q[$e]=void 0,Lr=Er.$elm$),An=Ne[++ge]):(Lr=En(q&&q[ge],Le,ge,L),An=Ne[++ge]),Lr&&an(ft.$elm$).insertBefore(Lr,qt(ft.$elm$))}K>it?ci(L,null==Ne[In+1]?null:Ne[In+1].$elm$,Le,Ne,ge,In):ge>In&&ui(q,K,it)})(Le,Ne,q,K):null!==K?(null!==L.$text$&&(Le.textContent=""),ci(Le,null,q,K,0,K.length-1)):null!==Ne&&ui(Ne,0,Ne.length-1),xe&&"svg"===ge&&(xe=!1)):(ct=Le["s-cr"])?ct.parentNode.textContent=$e:L.$text$!==$e&&(Le.data=$e)},si=L=>{const q=L.childNodes;for(const Le of q)if(1===Le.nodeType){if(Le["s-sr"]){const Ne=Le["s-sn"];Le.hidden=!1;for(const K of q)if(K["s-hn"]!==Le["s-hn"]||""!==Ne){if(1===K.nodeType&&Ne===K.getAttribute("slot")){Le.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){Le.hidden=!0;break}}si(Le)}},Hn=[],Kn=L=>{let q,Le,Ne;for(const K of L.childNodes){if(K["s-sr"]&&(q=K["s-cr"])&&q.parentNode){Le=q.parentNode.childNodes;const ge=K["s-sn"];for(Ne=Le.length-1;Ne>=0;Ne--)if(q=Le[Ne],!q["s-cn"]&&!q["s-nr"]&&q["s-hn"]!==K["s-hn"])if(rn(q,ge)){let $e=Hn.find(ct=>ct.$nodeToRelocate$===q);X=!0,q["s-sn"]=q["s-sn"]||ge,$e?$e.$slotRefNode$=K:Hn.push({$slotRefNode$:K,$nodeToRelocate$:q}),q["s-sr"]&&Hn.map(ct=>{rn(ct.$nodeToRelocate$,q["s-sn"])&&($e=Hn.find(it=>it.$nodeToRelocate$===q),$e&&!ct.$slotRefNode$&&(ct.$slotRefNode$=$e.$slotRefNode$))})}else Hn.some($e=>$e.$nodeToRelocate$===q)||Hn.push({$nodeToRelocate$:q})}1===K.nodeType&&Kn(K)}},rn=(L,q)=>1===L.nodeType?null===L.getAttribute("slot")&&""===q||L.getAttribute("slot")===q:L["s-sn"]===q||""===q,Qn=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(Qn)},Cr=(L,q)=>{q&&!L.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(Le=>L.$onRenderResolve$=Le))},zn=(L,q)=>{if(L.$flags$|=16,!(4&L.$flags$))return Cr(L,L.$ancestorComponent$),ki(()=>Oi(L,q));L.$flags$|=512},Oi=(L,q)=>{const Ne=L.$lazyInstance$;let K;return q&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([ge,$e])=>Ei(Ne,ge,$e)),L.$queuedListeners$=void 0),K=Ei(Ne,"componentWillLoad")),K=Di(K,()=>Ei(Ne,"componentWillRender")),Di(K,()=>vi(L,Ne,q))},Di=(L,q)=>Bi(L)?L.then(q):q(),Bi=L=>L instanceof Promise||L&&L.then&&"function"==typeof L.then,vi=function(){var L=(0,o.Z)(function*(q,Le,Ne){var K;const ge=q.$hostElement$,ct=ge["s-rc"];Ne&&(L=>{const q=L.$cmpMeta$,Le=L.$hostElement$,Ne=q.$flags$,ge=ot(Le.shadowRoot?Le.shadowRoot:Le.getRootNode(),q,L.$modeName$);10&Ne&&(Le["s-sc"]=ge,Le.classList.add(ge+"-h"),2&Ne&&Le.classList.add(ge+"-s"))})(q);zi(q,Le,ge,Ne),ct&&(ct.map(ft=>ft()),ge["s-rc"]=void 0);{const ft=null!==(K=ge["s-p"])&&void 0!==K?K:[],At=()=>kr(q);0===ft.length?At():(Promise.all(ft).then(At),q.$flags$|=4,ft.length=0)}});return function(Le,Ne,K){return L.apply(this,arguments)}}(),zi=(L,q,Le,Ne)=>{try{q=q.render&&q.render(),L.$flags$&=-17,L.$flags$|=2,((L,q,Le=!1)=>{const Ne=L.$hostElement$,K=L.$cmpMeta$,ge=L.$vnode$||ee(null,null),$e=(L=>L&&L.$tag$===ut)(q)?q:W(null,null,q);if(Me=Ne.tagName,K.$attrsToReflect$&&($e.$attrs$=$e.$attrs$||{},K.$attrsToReflect$.map(([ct,it])=>$e.$attrs$[it]=Ne[ct])),Le&&$e.$attrs$)for(const ct of Object.keys($e.$attrs$))Ne.hasAttribute(ct)&&!["key","ref","style","class"].includes(ct)&&($e.$attrs$[ct]=Ne[ct]);if($e.$tag$=null,$e.$flags$|=4,L.$vnode$=$e,$e.$elm$=ge.$elm$=Ne.shadowRoot||Ne,B=Ne["s-sc"],Oe=Ne["s-cr"],_e=0!=(1&K.$flags$),X=!1,yn(ge,$e),On.$flags$|=1,Ee){Kn($e.$elm$);let ct,it,ft,At,In,An,Jn=0;for(;Jn<Hn.length;Jn++)ct=Hn[Jn],it=ct.$nodeToRelocate$,it["s-ol"]||(ft=ii.createTextNode(""),ft["s-nr"]=it,it.parentNode.insertBefore(it["s-ol"]=ft,it));for(Jn=0;Jn<Hn.length;Jn++)if(ct=Hn[Jn],it=ct.$nodeToRelocate$,ct.$slotRefNode$){for(At=ct.$slotRefNode$.parentNode,In=ct.$slotRefNode$.nextSibling,ft=it["s-ol"];ft=ft.previousSibling;)if(An=ft["s-nr"],An&&An["s-sn"]===it["s-sn"]&&At===An.parentNode&&(An=An.nextSibling,!An||!An["s-nr"])){In=An;break}(!In&&At!==it.parentNode||it.nextSibling!==In)&&it!==In&&(!it["s-hn"]&&it["s-ol"]&&(it["s-hn"]=it["s-ol"].parentNode.nodeName),At.insertBefore(it,In))}else 1===it.nodeType&&(it.hidden=!0)}X&&si($e.$elm$),On.$flags$&=-2,Hn.length=0})(L,q,Ne)}catch(K){Gt(K,L.$hostElement$)}return null},kr=L=>{const Le=L.$hostElement$,K=L.$lazyInstance$,ge=L.$ancestorComponent$;Ei(K,"componentDidRender"),64&L.$flags$?Ei(K,"componentDidUpdate"):(L.$flags$|=64,pe(Le),Ei(K,"componentDidLoad"),L.$onReadyResolve$(Le),ge||Qi()),L.$onInstanceResolve$(Le),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&li(()=>zn(L,!1)),L.$flags$&=-517},ai=L=>{{const q=me(L),Le=q.$hostElement$.isConnected;return Le&&2==(18&q.$flags$)&&zn(q,!1),Le}},Qi=L=>{pe(ii.documentElement),li(()=>Yt(ji,"appload",{detail:{namespace:"ionic"}}))},Ei=(L,q,Le)=>{if(L&&L[q])try{return L[q](Le)}catch(Ne){Gt(Ne)}},pe=L=>L.classList.add("hydrated"),et=(L,q,Le)=>{var Ne;if(q.$members$){L.watchers&&(q.$watchers$=L.watchers);const K=Object.entries(q.$members$),ge=L.prototype;if(K.map(([$e,[ct]])=>{31&ct||2&Le&&32&ct?Object.defineProperty(ge,$e,{get(){return((L,q)=>me(this).$instanceValues$.get(q))(0,$e)},set(it){((L,q,Le,Ne)=>{const K=me(L),ge=K.$hostElement$,$e=K.$instanceValues$.get(q),ct=K.$flags$,it=K.$lazyInstance$;Le=((L,q)=>null==L||ue(L)?L:4&q?"false"!==L&&(""===L||!!L):2&q?parseFloat(L):1&q?String(L):L)(Le,Ne.$members$[q][0]);const ft=Number.isNaN($e)&&Number.isNaN(Le);if((!(8&ct)||void 0===$e)&&Le!==$e&&!ft&&(K.$instanceValues$.set(q,Le),it)){if(Ne.$watchers$&&128&ct){const In=Ne.$watchers$[q];In&&In.map(An=>{try{it[An](Le,$e,q)}catch(Jn){Gt(Jn,ge)}})}2==(18&ct)&&zn(K,!1)}})(this,$e,it,q)},configurable:!0,enumerable:!0}):1&Le&&64&ct&&Object.defineProperty(ge,$e,{value(...it){const ft=me(this);return ft.$onInstancePromise$.then(()=>ft.$lazyInstance$[$e](...it))}})}),1&Le){const $e=new Map;ge.attributeChangedCallback=function(ct,it,ft){On.jmp(()=>{const At=$e.get(ct);if(this.hasOwnProperty(At))ft=this[At],delete this[At];else{if(ge.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==ft)return;if(null==At){const In=me(this),An=In?.$flags$;if(!(8&An)&&128&An&&ft!==it){const Jn=In.$lazyInstance$;q.$watchers$[ct]?.forEach(Er=>{null!=Jn[Er]&&Jn[Er].call(Jn,ft,it,ct)})}return}}this[At]=(null!==ft||"boolean"!=typeof this[At])&&ft})},L.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ne=q.$watchers$)&&void 0!==Ne?Ne:{}),...K.filter(([ct,it])=>15&it[0]).map(([ct,it])=>{const ft=it[1]||ct;return $e.set(ft,ct),512&it[0]&&q.$attrsToReflect$.push([ct,ft]),ft})]))}}return L},Ve=function(){var L=(0,o.Z)(function*(q,Le,Ne,K){let ge;if(0==(32&Le.$flags$)){Le.$flags$|=32;{if(ge=Zn(Ne),ge.then){const ft=()=>{};ge=yield ge,ft()}ge.isProxied||(Ne.$watchers$=ge.watchers,et(ge,Ne,2),ge.isProxied=!0);const it=()=>{};Le.$flags$|=8;try{new ge(Le)}catch(ft){Gt(ft)}Le.$flags$&=-9,Le.$flags$|=128,it(),Mt(Le.$lazyInstance$)}if(ge.style){let it=ge.style;"string"!=typeof it&&(it=it[Le.$modeName$=(L=>di.map(q=>q(L)).find(q=>!!q))(q)]);const ft=Vt(Ne,Le.$modeName$);if(!Pn.has(ft)){const At=()=>{};rt(ft,it,!!(1&Ne.$flags$)),At()}}}const $e=Le.$ancestorComponent$,ct=()=>zn(Le,!0);$e&&$e["s-rc"]?$e["s-rc"].push(ct):ct()});return function(Le,Ne,K,ge){return L.apply(this,arguments)}}(),Mt=L=>{Ei(L,"connectedCallback")},xn=L=>{const q=L["s-cr"]=ii.createComment("");q["s-cn"]=!0,L.insertBefore(q,L.firstChild)},J=L=>{Ei(L,"disconnectedCallback")},j=function(){var L=(0,o.Z)(function*(q){if(0==(1&On.$flags$)){const Le=me(q);Le.$rmListeners$&&(Le.$rmListeners$.map(Ne=>Ne()),Le.$rmListeners$=void 0),Le?.$lazyInstance$?J(Le.$lazyInstance$):Le?.$onReadyPromise$&&Le.$onReadyPromise$.then(()=>J(Le.$lazyInstance$))}});return function(Le){return L.apply(this,arguments)}}(),we=(L,q={})=>{var Le;const K=[],ge=q.exclude||[],$e=ji.customElements,ct=ii.head,it=ct.querySelector("meta[charset]"),ft=ii.createElement("style"),At=[],In=ii.querySelectorAll(`[${tt}]`);let An,Jn=!0,Lr=0;for(Object.assign(On,q),On.$resourcesUrl$=new URL(q.resourcesUrl||"./",ii.baseURI).href,On.$flags$|=2;Lr<In.length;Lr++)rt(In[Lr].getAttribute(tt),nn(In[Lr].innerHTML),!0);L.map(Er=>{Er[1].map(xs=>{var Tl;const ps={$flags$:xs[0],$tagName$:xs[1],$members$:xs[2],$listeners$:xs[3]};ps.$members$=xs[2],ps.$listeners$=xs[3],ps.$attrsToReflect$=[],ps.$watchers$=null!==(Tl=xs[4])&&void 0!==Tl?Tl:{};const _o=ps.$tagName$,lh=class extends HTMLElement{constructor(ca){super(ca),st(ca=this,ps),1&ps.$flags$&&ca.attachShadow({mode:"open",delegatesFocus:!!(16&ps.$flags$)})}connectedCallback(){An&&(clearTimeout(An),An=null),Jn?At.push(this):On.jmp(()=>(L=>{if(0==(1&On.$flags$)){const q=me(L),Le=q.$cmpMeta$,Ne=()=>{};if(1&q.$flags$)Ce(L,q,Le.$listeners$),q?.$lazyInstance$?Mt(q.$lazyInstance$):q?.$onReadyPromise$&&q.$onReadyPromise$.then(()=>Mt(q.$lazyInstance$));else{let K;if(q.$flags$|=1,K=L.getAttribute(Ae),K){if(1&Le.$flags$){const ge=ot(L.shadowRoot,Le,L.getAttribute("s-mode"));L.classList.remove(ge+"-h",ge+"-s")}((L,q,Le,Ne)=>{const ge=L.shadowRoot,$e=[],it=ge?[]:null,ft=Ne.$vnode$=ee(q,null);On.$orgLocNodes$||Be(ii.body,On.$orgLocNodes$=new Map),L[Ae]=Le,L.removeAttribute(Ae),he(ft,$e,[],it,L,L,Le),$e.map(At=>{const In=At.$hostId$+"."+At.$nodeId$,An=On.$orgLocNodes$.get(In),Jn=At.$elm$;An&&Wn&&""===An["s-en"]&&An.parentNode.insertBefore(Jn,An.nextSibling),ge||(Jn["s-hn"]=q,An&&(Jn["s-ol"]=An,Jn["s-ol"]["s-nr"]=Jn)),On.$orgLocNodes$.delete(In)}),ge&&it.map(At=>{At&&ge.appendChild(At)})})(L,Le.$tagName$,K,q)}K||12&Le.$flags$&&xn(L);{let ge=L;for(;ge=ge.parentNode||ge.host;)if(1===ge.nodeType&&ge.hasAttribute("s-id")&&ge["s-p"]||ge["s-p"]){Cr(q,q.$ancestorComponent$=ge);break}}Le.$members$&&Object.entries(Le.$members$).map(([ge,[$e]])=>{if(31&$e&&L.hasOwnProperty(ge)){const ct=L[ge];delete L[ge],L[ge]=ct}}),Ve(L,q,Le)}Ne()}})(this))}disconnectedCallback(){On.jmp(()=>j(this))}componentOnReady(){return me(this).$onReadyPromise$}};ps.$lazyBundleId$=Er[0],!ge.includes(_o)&&!$e.get(_o)&&(K.push(_o),$e.define(_o,et(lh,ps,1)))})});{ft.innerHTML=K+"{visibility:hidden}.hydrated{visibility:inherit}",ft.setAttribute("data-styles","");const Er=null!==(Le=On.$nonce$)&&void 0!==Le?Le:ne(ii);null!=Er&&ft.setAttribute("nonce",Er),ct.insertBefore(ft,it?it.nextSibling:ct.firstChild)}Jn=!1,At.length?At.map(Er=>Er.connectedCallback()):On.jmp(()=>An=setTimeout(Qi,30))},Ce=(L,q,Le,Ne)=>{Le&&Le.map(([K,ge,$e])=>{const ct=gt(L,K),it=Xe(q,$e),ft=dt(K);On.ael(ct,ge,it,ft),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>On.rel(ct,ge,it,ft))})},Xe=(L,q)=>Le=>{try{256&L.$flags$?L.$lazyInstance$[q](Le):(L.$queuedListeners$=L.$queuedListeners$||[]).push([q,Le])}catch(Ne){Gt(Ne)}},gt=(L,q)=>4&q?ii:8&q?ji:16&q?ii.body:L,dt=L=>0!=(2&L),fe=new WeakMap,me=L=>fe.get(L),Je=(L,q)=>fe.set(q.$lazyInstance$=L,q),st=(L,q)=>{const Le={$flags$:0,$hostElement$:L,$cmpMeta$:q,$instanceValues$:new Map};return Le.$onInstancePromise$=new Promise(Ne=>Le.$onInstanceResolve$=Ne),Le.$onReadyPromise$=new Promise(Ne=>Le.$onReadyResolve$=Ne),L["s-p"]=[],L["s-rc"]=[],Ce(L,Le,q.$listeners$),fe.set(L,Le)},Rt=(L,q)=>q in L,Gt=(L,q)=>(0,console.error)(L,q),Tn=new Map,Zn=(L,q,Le)=>{const Ne=L.$tagName$.replace(/-/g,"_"),K=L.$lazyBundleId$,ge=Tn.get(K);return ge?ge[Ne]:R(863)(`./${K}.entry.js`).then($e=>(Tn.set(K,$e),$e[Ne]),Gt)},Pn=new Map,di=[],ji=typeof window<"u"?window:{},ii=ji.document||{head:{}},On={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,q,Le,Ne)=>L.addEventListener(q,Le,Ne),rel:(L,q,Le,Ne)=>L.removeEventListener(q,Le,Ne),ce:(L,q)=>new CustomEvent(L,q)},mo=L=>{Object.assign(On,L)},Wn=!0,yo=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),hs=[],$o=[],Xn=(L,q)=>Le=>{L.push(Le),se||(se=!0,q&&4&On.$flags$?li(Ds):On.raf(Ds))},fs=L=>{for(let q=0;q<L.length;q++)try{L[q](performance.now())}catch(Le){Gt(Le)}L.length=0},Ds=()=>{fs(hs),fs($o),(se=hs.length>0)&&On.raf(Ds)},li=L=>Promise.resolve(void 0).then(L),$a=Xn(hs,!1),ki=Xn($o,!0)},143:(Lt,qe,R)=>{"use strict";R.d(qe,{b:()=>_e,c:()=>X,d:()=>Ee,e:()=>Y,g:()=>ue,l:()=>be,s:()=>te,t:()=>G,w:()=>Ke});var o=R(5861),de=R(3419),B=R(2674);const _e="ionViewWillLeave",X="ionViewDidLeave",Ee="ionViewWillUnload",G=ne=>new Promise((W,ee)=>{(0,de.w)(()=>{re(ne),le(ne).then(ut=>{ut.animation&&ut.animation.destroy(),Se(ne),W(ut)},ut=>{Se(ne),ee(ut)})})}),re=ne=>{const W=ne.enteringEl,ee=ne.leavingEl;U(W,ee,ne.direction),ne.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),te(W,!1),W.style.setProperty("pointer-events","none"),ee&&(te(ee,!1),ee.style.setProperty("pointer-events","none"))},le=function(){var ne=(0,o.Z)(function*(W){const ee=yield ye(W);return ee&&de.B.isBrowser?Qe(ee,W):oe(W)});return function(ee){return ne.apply(this,arguments)}}(),Se=ne=>{const W=ne.enteringEl,ee=ne.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==ee&&(ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"))},ye=function(){var ne=(0,o.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(R.bind(R,963))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,462))).mdTransitionAnimation:void 0});return function(ee){return ne.apply(this,arguments)}}(),Qe=function(){var ne=(0,o.Z)(function*(W,ee){yield ie(ee,!0);const ut=W(ee.baseEl,ee);Fe(ee.enteringEl,ee.leavingEl);const It=yield tt(ut,ee);return ee.progressCallback&&ee.progressCallback(void 0),It&&ke(ee.enteringEl,ee.leavingEl),{hasCompleted:It,animation:ut}});return function(ee,ut){return ne.apply(this,arguments)}}(),oe=function(){var ne=(0,o.Z)(function*(W){const ee=W.enteringEl,ut=W.leavingEl;return yield ie(W,!1),Fe(ee,ut),ke(ee,ut),{hasCompleted:!0}});return function(ee){return ne.apply(this,arguments)}}(),ie=function(){var ne=(0,o.Z)(function*(W,ee){(void 0!==W.deepWait?W.deepWait:ee)&&(yield Promise.all([Y(W.enteringEl),Y(W.leavingEl)])),yield Ae(W.viewIsReady,W.enteringEl)});return function(ee,ut){return ne.apply(this,arguments)}}(),Ae=function(){var ne=(0,o.Z)(function*(W,ee){W&&(yield W(ee))});return function(ee,ut){return ne.apply(this,arguments)}}(),tt=(ne,W)=>{const ee=W.progressCallback,ut=new Promise(It=>{ne.onFinish(Ot=>It(1===Ot))});return ee?(ne.progressStart(!0),ee(ne)):ne.play(),ut},Fe=(ne,W)=>{be(W,_e),be(ne,"ionViewWillEnter")},ke=(ne,W)=>{be(ne,"ionViewDidEnter"),be(W,X)},be=(ne,W)=>{if(ne){const ee=new CustomEvent(W,{bubbles:!1,cancelable:!1});ne.dispatchEvent(ee)}},Ke=()=>new Promise(ne=>(0,B.r)(()=>(0,B.r)(()=>ne()))),Y=function(){var ne=(0,o.Z)(function*(W){const ee=W;if(ee){if(null!=ee.componentOnReady){if(null!=(yield ee.componentOnReady()))return}else if(null!=ee.__registerHost)return void(yield new Promise(It=>(0,B.r)(It)));yield Promise.all(Array.from(ee.children).map(Y))}});return function(ee){return ne.apply(this,arguments)}}(),te=(ne,W)=>{W?(ne.setAttribute("aria-hidden","true"),ne.classList.add("ion-page-hidden")):(ne.hidden=!1,ne.removeAttribute("aria-hidden"),ne.classList.remove("ion-page-hidden"))},U=(ne,W,ee)=>{void 0!==ne&&(ne.style.zIndex="back"===ee?"99":"101"),void 0!==W&&(W.style.zIndex="100")},ue=ne=>ne.classList.contains("ion-page")?ne:ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ne},9531:(Lt,qe,R)=>{"use strict";R.r(qe),R.d(qe,{GESTURE_CONTROLLER:()=>o.G,createGesture:()=>xe});var o=R(6412);const de=(le,Se,ye,Qe)=>{const oe=B(le)?{capture:!!Qe.capture,passive:!!Qe.passive}:!!Qe.capture;let ie,Ae;return le.__zone_symbol__addEventListener?(ie="__zone_symbol__addEventListener",Ae="__zone_symbol__removeEventListener"):(ie="addEventListener",Ae="removeEventListener"),le[ie](Se,ye,oe),()=>{le[Ae](Se,ye,oe)}},B=le=>{if(void 0===Oe)try{const Se=Object.defineProperty({},"passive",{get:()=>{Oe=!0}});le.addEventListener("optsTest",()=>{},Se)}catch{Oe=!1}return!!Oe};let Oe;const X=le=>le instanceof Document?le:le.ownerDocument,xe=le=>{let Se=!1,ye=!1,Qe=!0,oe=!1;const ie=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},le),Ae=ie.canStart,tt=ie.onWillStart,Fe=ie.onStart,ke=ie.onEnd,be=ie.notCaptured,Ke=ie.onMove,Y=ie.threshold,te=ie.passive,U=ie.blurOnStart,ue={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ne=((le,Se,ye)=>{const Qe=ye*(Math.PI/180),oe="x"===le,ie=Math.cos(Qe),Ae=Se*Se;let tt=0,Fe=0,ke=!1,be=0;return{start(Ke,Y){tt=Ke,Fe=Y,be=0,ke=!0},detect(Ke,Y){if(!ke)return!1;const te=Ke-tt,U=Y-Fe,ue=te*te+U*U;if(ue<Ae)return!1;const ne=Math.sqrt(ue),W=(oe?te:U)/ne;return be=W>ie?1:W<-ie?-1:0,ke=!1,!0},isGesture:()=>0!==be,getDirection:()=>be}})(ie.direction,ie.threshold,ie.maxAngle),W=o.G.createGesture({name:le.gestureName,priority:le.gesturePriority,disableScroll:le.disableScroll}),It=()=>{!Se||(oe=!1,Ke&&Ke(ue))},Ot=()=>!!W.capture()&&(Se=!0,Qe=!1,ue.startX=ue.currentX,ue.startY=ue.currentY,ue.startTime=ue.currentTime,tt?tt(ue).then(z):z(),!0),z=()=>{U&&(()=>{if(typeof document<"u"){const Pe=document.activeElement;Pe?.blur&&Pe.blur()}})(),Fe&&Fe(ue),Qe=!0},H=()=>{Se=!1,ye=!1,oe=!1,Qe=!0,W.release()},he=Pe=>{const _t=Se,kt=Qe;if(H(),kt){if(se(ue,Pe),_t)return void(ke&&ke(ue));be&&be(ue)}},Be=((le,Se,ye,Qe,oe)=>{let ie,Ae,tt,Fe,ke,be,Ke,Y=0;const te=Ye=>{Y=Date.now()+2e3,Se(Ye)&&(!Ae&&ye&&(Ae=de(le,"touchmove",ye,oe)),tt||(tt=de(Ye.target,"touchend",ue,oe)),Fe||(Fe=de(Ye.target,"touchcancel",ue,oe)))},U=Ye=>{Y>Date.now()||!Se(Ye)||(!be&&ye&&(be=de(X(le),"mousemove",ye,oe)),Ke||(Ke=de(X(le),"mouseup",ne,oe)))},ue=Ye=>{W(),Qe&&Qe(Ye)},ne=Ye=>{ee(),Qe&&Qe(Ye)},W=()=>{Ae&&Ae(),tt&&tt(),Fe&&Fe(),Ae=tt=Fe=void 0},ee=()=>{be&&be(),Ke&&Ke(),be=Ke=void 0},ut=()=>{W(),ee()},It=(Ye=!0)=>{Ye?(ie||(ie=de(le,"touchstart",te,oe)),ke||(ke=de(le,"mousedown",U,oe))):(ie&&ie(),ke&&ke(),ie=ke=void 0,ut())};return{enable:It,stop:ut,destroy:()=>{It(!1),Qe=ye=Se=void 0}}})(ie.el,Pe=>{const _t=re(Pe);return!(ye||!Qe||(G(Pe,ue),ue.startX=ue.currentX,ue.startY=ue.currentY,ue.startTime=ue.currentTime=_t,ue.velocityX=ue.velocityY=ue.deltaX=ue.deltaY=0,ue.event=Pe,Ae&&!1===Ae(ue))||(W.release(),!W.start()))&&(ye=!0,0===Y?Ot():(ne.start(ue.startX,ue.startY),!0))},Pe=>{Se?!oe&&Qe&&(oe=!0,se(ue,Pe),requestAnimationFrame(It)):(se(ue,Pe),ne.detect(ue.currentX,ue.currentY)&&(!ne.isGesture()||!Ot())&&Ge())},he,{capture:!1,passive:te}),Ge=()=>{H(),Be.stop(),be&&be(ue)};return{enable(Pe=!0){Pe||(Se&&he(void 0),H()),Be.enable(Pe)},destroy(){W.destroy(),Be.destroy()}}},se=(le,Se)=>{if(!Se)return;const ye=le.currentX,Qe=le.currentY,oe=le.currentTime;G(Se,le);const ie=le.currentX,Ae=le.currentY,Fe=(le.currentTime=re(Se))-oe;if(Fe>0&&Fe<100){const be=(Ae-Qe)/Fe;le.velocityX=(ie-ye)/Fe*.7+.3*le.velocityX,le.velocityY=.7*be+.3*le.velocityY}le.deltaX=ie-le.startX,le.deltaY=Ae-le.startY,le.event=Se},G=(le,Se)=>{let ye=0,Qe=0;if(le){const oe=le.changedTouches;if(oe&&oe.length>0){const ie=oe[0];ye=ie.clientX,Qe=ie.clientY}else void 0!==le.pageX&&(ye=le.pageX,Qe=le.pageY)}Se.currentX=ye,Se.currentY=Qe},re=le=>le.timeStamp||Date.now()},27:(Lt,qe,R)=>{"use strict";R.d(qe,{a:()=>G,b:()=>It,c:()=>B,i:()=>Ot});var o=R(3419);class de{constructor(){this.m=new Map}reset(z){this.m=new Map(Object.entries(z))}get(z,H){const he=this.m.get(z);return void 0!==he?he:H}getBoolean(z,H=!1){const he=this.m.get(z);return void 0===he?H:"string"==typeof he?"true"===he:!!he}getNumber(z,H){const he=parseFloat(this.m.get(z));return isNaN(he)?void 0!==H?H:NaN:he}set(z,H){this.m.set(z,H)}}const B=new de,xe="ionic-persist-config",G=(Ye,z)=>("string"==typeof Ye&&(z=Ye,Ye=void 0),(Ye=>re(Ye))(Ye).includes(z)),re=(Ye=window)=>{if(typeof Ye>"u")return[];Ye.Ionic=Ye.Ionic||{};let z=Ye.Ionic.platforms;return null==z&&(z=Ye.Ionic.platforms=le(Ye),z.forEach(H=>Ye.document.documentElement.classList.add(`plt-${H}`))),z},le=Ye=>{const z=B.get("platform");return Object.keys(ee).filter(H=>{const he=z?.[H];return"function"==typeof he?he(Ye):ee[H](Ye)})},ye=Ye=>!!(ne(Ye,/iPad/i)||ne(Ye,/Macintosh/i)&&ke(Ye)),ie=Ye=>ne(Ye,/android|sink/i),ke=Ye=>W(Ye,"(any-pointer:coarse)"),Ke=Ye=>Y(Ye)||te(Ye),Y=Ye=>!!(Ye.cordova||Ye.phonegap||Ye.PhoneGap),te=Ye=>!!Ye.Capacitor?.isNative,ne=(Ye,z)=>z.test(Ye.navigator.userAgent),W=(Ye,z)=>{var H;return null===(H=Ye.matchMedia)||void 0===H?void 0:H.call(Ye,z).matches},ee={ipad:ye,iphone:Ye=>ne(Ye,/iPhone/i),ios:Ye=>ne(Ye,/iPhone|iPod/i)||ye(Ye),android:ie,phablet:Ye=>{const z=Ye.innerWidth,H=Ye.innerHeight,he=Math.min(z,H),Be=Math.max(z,H);return he>390&&he<520&&Be>620&&Be<800},tablet:Ye=>{const z=Ye.innerWidth,H=Ye.innerHeight,he=Math.min(z,H),Be=Math.max(z,H);return ye(Ye)||(Ye=>ie(Ye)&&!ne(Ye,/mobile/i))(Ye)||he>460&&he<820&&Be>780&&Be<1400},cordova:Y,capacitor:te,electron:Ye=>ne(Ye,/electron/i),pwa:Ye=>{var z;return!(!(null===(z=Ye.matchMedia)||void 0===z?void 0:z.call(Ye,"(display-mode: standalone)").matches)&&!Ye.navigator.standalone)},mobile:ke,mobileweb:Ye=>ke(Ye)&&!Ke(Ye),desktop:Ye=>!ke(Ye),hybrid:Ke};let ut;const It=Ye=>Ye&&(0,o.g)(Ye)||ut,Ot=(Ye={})=>{if(typeof window>"u")return;const z=window.document,H=window,he=H.Ionic=H.Ionic||{},Be={};Ye._ael&&(Be.ael=Ye._ael),Ye._rel&&(Be.rel=Ye._rel),Ye._ce&&(Be.ce=Ye._ce),(0,o.a)(Be);const Ge=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ye=>{try{const z=Ye.sessionStorage.getItem(xe);return null!==z?JSON.parse(z):{}}catch{return{}}})(H)),{persistConfig:!1}),he.config),(Ye=>{const z={};return Ye.location.search.slice(1).split("&").map(H=>H.split("=")).map(([H,he])=>[decodeURIComponent(H),decodeURIComponent(he)]).filter(([H])=>((Ye,z)=>Ye.substr(0,z.length)===z)(H,"ionic:")).map(([H,he])=>[H.slice("ionic:".length),he]).forEach(([H,he])=>{z[H]=he}),z})(H)),Ye);B.reset(Ge),B.getBoolean("persistConfig")&&((Ye,z)=>{try{Ye.sessionStorage.setItem(xe,JSON.stringify(z))}catch{return}})(H,Ge),re(H),he.config=B,he.mode=ut=B.get("mode",z.documentElement.getAttribute("mode")||(G(H,"ios")?"ios":"md")),B.set("mode",ut),z.documentElement.setAttribute("mode",ut),z.documentElement.classList.add(ut),B.getBoolean("_testing")&&B.set("animated",!1);const Pe=kt=>{var Ct;return null===(Ct=kt.tagName)||void 0===Ct?void 0:Ct.startsWith("ION-")},_t=kt=>["ios","md"].includes(kt);(0,o.c)(kt=>{for(;kt;){const Ct=kt.mode||kt.getAttribute("mode");if(Ct){if(_t(Ct))return Ct;Pe(kt)&&console.warn('Invalid ionic mode: "'+Ct+'", expected: "ios" or "md"')}kt=kt.parentElement}return ut})}},963:(Lt,qe,R)=>{"use strict";R.r(qe),R.d(qe,{iosTransitionAnimation:()=>le,shadow:()=>X});var o=R(886),de=R(143);R(7693),R(3419);const _e=ye=>document.querySelector(`${ye}.ion-cloned-element`),X=ye=>ye.shadowRoot||ye,Ee=ye=>{const Qe="ION-TABS"===ye.tagName?ye:ye.querySelector("ion-tabs"),oe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Qe){const ie=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ie?ie.querySelector(oe):null}return ye.querySelector(oe)},xe=(ye,Qe)=>{const oe="ION-TABS"===ye.tagName?ye:ye.querySelector("ion-tabs");let ie=[];if(null!=oe){const Ae=oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ae&&(ie=Ae.querySelectorAll("ion-buttons"))}else ie=ye.querySelectorAll("ion-buttons");for(const Ae of ie){const tt=Ae.closest("ion-header"),Fe=tt&&!tt.classList.contains("header-collapse-condense-inactive"),ke=Ae.querySelector("ion-back-button"),be=Ae.classList.contains("buttons-collapse"),Ke="start"===Ae.slot||""===Ae.slot;if(null!==ke&&Ke&&(be&&Fe&&Qe||!be))return ke}return null},G=(ye,Qe,oe,ie,Ae,tt,Fe,ke,be)=>{var Ke,Y;const te=Qe?`calc(100% - ${Ae.right+4}px)`:Ae.left-4+"px",U=Qe?"right":"left",ue=Qe?"left":"right",ne=Qe?"right":"left",W=(null===(Ke=tt.textContent)||void 0===Ke?void 0:Ke.trim())===(null===(Y=ke.textContent)||void 0===Y?void 0:Y.trim()),ut=(be.height-Se)/Fe.height,It=W?`scale(${be.width/Fe.width}, ${ut})`:`scale(${ut})`,Ot="scale(1)",z=X(ie).querySelector("ion-icon").getBoundingClientRect(),H=Qe?z.width/2-(z.right-Ae.right)+"px":Ae.left-z.width/2+"px",he=Qe?`-${window.innerWidth-Ae.right}px`:`${Ae.left}px`,Be=`${be.top}px`,Ge=`${Ae.top}px`,kt=oe?[{offset:0,transform:`translate3d(${he}, ${Ge}, 0)`},{offset:1,transform:`translate3d(${H}, ${Be}, 0)`}]:[{offset:0,transform:`translate3d(${H}, ${Be}, 0)`},{offset:1,transform:`translate3d(${he}, ${Ge}, 0)`}],Yt=oe?[{offset:0,opacity:1,transform:Ot},{offset:1,opacity:0,transform:It}]:[{offset:0,opacity:0,transform:It},{offset:1,opacity:1,transform:Ot}],ot=oe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],vt=(0,o.c)(),Vt=(0,o.c)(),nn=(0,o.c)(),Ht=_e("ion-back-button"),Tt=X(Ht).querySelector(".button-text"),dn=X(Ht).querySelector("ion-icon");Ht.text=ie.text,Ht.mode=ie.mode,Ht.icon=ie.icon,Ht.color=ie.color,Ht.disabled=ie.disabled,Ht.style.setProperty("display","block"),Ht.style.setProperty("position","fixed"),Vt.addElement(dn),vt.addElement(Tt),nn.addElement(Ht),nn.beforeStyles({position:"absolute",top:"0px",[ne]:"0px"}).keyframes(kt),vt.beforeStyles({"transform-origin":`${U} top`}).beforeAddWrite(()=>{ie.style.setProperty("display","none"),Ht.style.setProperty(U,te)}).afterAddWrite(()=>{ie.style.setProperty("display",""),Ht.style.setProperty("display","none"),Ht.style.removeProperty(U)}).keyframes(Yt),Vt.beforeStyles({"transform-origin":`${ue} center`}).keyframes(ot),ye.addAnimation([vt,Vt,nn])},re=(ye,Qe,oe,ie,Ae,tt,Fe,ke)=>{var be,Ke;const Y=Qe?"right":"left",te=Qe?`calc(100% - ${Ae.right}px)`:`${Ae.left}px`,ue=`${Ae.top}px`,W=Qe?`-${window.innerWidth-ke.right-8}px`:ke.x-8+"px",ut=ke.y-2+"px",It=(null===(be=Fe.textContent)||void 0===be?void 0:be.trim())===(null===(Ke=ie.textContent)||void 0===Ke?void 0:Ke.trim()),Ye=ke.height/(tt.height-Se),z="scale(1)",H=It?`scale(${ke.width/tt.width}, ${Ye})`:`scale(${Ye})`,Ge=oe?[{offset:0,opacity:0,transform:`translate3d(${W}, ${ut}, 0) ${H}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ue}, 0) ${z}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ue}, 0) ${z}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${W}, ${ut}, 0) ${H}`}],Pe=_e("ion-title"),_t=(0,o.c)();Pe.innerText=ie.innerText,Pe.size=ie.size,Pe.color=ie.color,_t.addElement(Pe),_t.beforeStyles({"transform-origin":`${Y} top`,height:`${Ae.height}px`,display:"",position:"relative",[Y]:te}).beforeAddWrite(()=>{ie.style.setProperty("opacity","0")}).afterAddWrite(()=>{ie.style.setProperty("opacity",""),Pe.style.setProperty("display","none")}).keyframes(Ge),ye.addAnimation(_t)},le=(ye,Qe)=>{var oe;try{const ie="cubic-bezier(0.32,0.72,0,1)",Ae="opacity",tt="transform",Fe="0%",be="rtl"===ye.ownerDocument.dir,Ke=be?"-99.5%":"99.5%",Y=be?"33%":"-33%",te=Qe.enteringEl,U=Qe.leavingEl,ue="back"===Qe.direction,ne=te.querySelector(":scope > ion-content"),W=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ee=te.querySelectorAll(":scope > ion-header > ion-toolbar"),ut=(0,o.c)(),It=(0,o.c)();if(ut.addElement(te).duration((null!==(oe=Qe.duration)&&void 0!==oe?oe:0)||540).easing(Qe.easing||ie).fill("both").beforeRemoveClass("ion-page-invisible"),U&&null!=ye){const H=(0,o.c)();H.addElement(ye),ut.addAnimation(H)}if(ne||0!==ee.length||0!==W.length?(It.addElement(ne),It.addElement(W)):It.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ut.addAnimation(It),ue?It.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Y})`,`translateX(${Fe})`).fromTo(Ae,.8,1):It.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Ke})`,`translateX(${Fe})`),ne){const H=X(ne).querySelector(".transition-effect");if(H){const he=H.querySelector(".transition-cover"),Be=H.querySelector(".transition-shadow"),Ge=(0,o.c)(),Pe=(0,o.c)(),_t=(0,o.c)();Ge.addElement(H).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(he).beforeClearStyles([Ae]).fromTo(Ae,0,.1),_t.addElement(Be).beforeClearStyles([Ae]).fromTo(Ae,.03,.7),Ge.addAnimation([Pe,_t]),It.addAnimation([Ge])}}const Ot=te.querySelector("ion-header.header-collapse-condense"),{forward:Ye,backward:z}=((ye,Qe,oe,ie,Ae)=>{const tt=xe(ie,oe),Fe=Ee(Ae),ke=Ee(ie),be=xe(Ae,oe),Ke=null!==tt&&null!==Fe&&!oe,Y=null!==ke&&null!==be&&oe;if(Ke){const te=Fe.getBoundingClientRect(),U=tt.getBoundingClientRect(),ue=X(tt).querySelector(".button-text"),ne=ue.getBoundingClientRect(),ee=X(Fe).querySelector(".toolbar-title").getBoundingClientRect();re(ye,Qe,oe,Fe,te,ee,ue,ne),G(ye,Qe,oe,tt,U,ue,ne,Fe,ee)}else if(Y){const te=ke.getBoundingClientRect(),U=be.getBoundingClientRect(),ue=X(be).querySelector(".button-text"),ne=ue.getBoundingClientRect(),ee=X(ke).querySelector(".toolbar-title").getBoundingClientRect();re(ye,Qe,oe,ke,te,ee,ue,ne),G(ye,Qe,oe,be,U,ue,ne,ke,ee)}return{forward:Ke,backward:Y}})(ut,be,ue,te,U);if(ee.forEach(H=>{const he=(0,o.c)();he.addElement(H),ut.addAnimation(he);const Be=(0,o.c)();Be.addElement(H.querySelector("ion-title"));const Ge=(0,o.c)(),Pe=Array.from(H.querySelectorAll("ion-buttons,[menuToggle]")),_t=H.closest("ion-header"),kt=_t?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Pe.filter(ue?ot=>{const vt=ot.classList.contains("buttons-collapse");return vt&&!kt||!vt}:ot=>!ot.classList.contains("buttons-collapse")),Ge.addElement(Ct);const Ut=(0,o.c)();Ut.addElement(H.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Yt=(0,o.c)();Yt.addElement(X(H).querySelector(".toolbar-background"));const yt=(0,o.c)(),rt=H.querySelector("ion-back-button");if(rt&&yt.addElement(rt),he.addAnimation([Be,Ge,Ut,Yt,yt]),Ge.fromTo(Ae,.01,1),Ut.fromTo(Ae,.01,1),ue)kt||Be.fromTo("transform",`translateX(${Y})`,`translateX(${Fe})`).fromTo(Ae,.01,1),Ut.fromTo("transform",`translateX(${Y})`,`translateX(${Fe})`),yt.fromTo(Ae,.01,1);else if(Ot||Be.fromTo("transform",`translateX(${Ke})`,`translateX(${Fe})`).fromTo(Ae,.01,1),Ut.fromTo("transform",`translateX(${Ke})`,`translateX(${Fe})`),Yt.beforeClearStyles([Ae,"transform"]),_t?.translucent?Yt.fromTo("transform",be?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Yt.fromTo(Ae,.01,"var(--opacity)"),Ye||yt.fromTo(Ae,.01,1),rt&&!Ye){const vt=(0,o.c)();vt.addElement(X(rt).querySelector(".button-text")).fromTo("transform",be?"translateX(-100px)":"translateX(100px)","translateX(0px)"),he.addAnimation(vt)}}),U){const H=(0,o.c)(),he=U.querySelector(":scope > ion-content"),Be=U.querySelectorAll(":scope > ion-header > ion-toolbar"),Ge=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(he||0!==Be.length||0!==Ge.length?(H.addElement(he),H.addElement(Ge)):H.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ut.addAnimation(H),ue){H.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Fe})`,be?"translateX(-100%)":"translateX(100%)");const Pe=(0,de.g)(U);ut.afterAddWrite(()=>{"normal"===ut.getDirection()&&Pe.style.setProperty("display","none")})}else H.fromTo("transform",`translateX(${Fe})`,`translateX(${Y})`).fromTo(Ae,1,.8);if(he){const Pe=X(he).querySelector(".transition-effect");if(Pe){const _t=Pe.querySelector(".transition-cover"),kt=Pe.querySelector(".transition-shadow"),Ct=(0,o.c)(),Ut=(0,o.c)(),Yt=(0,o.c)();Ct.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ut.addElement(_t).beforeClearStyles([Ae]).fromTo(Ae,.1,0),Yt.addElement(kt).beforeClearStyles([Ae]).fromTo(Ae,.7,.03),Ct.addAnimation([Ut,Yt]),H.addAnimation([Ct])}}Be.forEach(Pe=>{const _t=(0,o.c)();_t.addElement(Pe);const kt=(0,o.c)();kt.addElement(Pe.querySelector("ion-title"));const Ct=(0,o.c)(),Ut=Pe.querySelectorAll("ion-buttons,[menuToggle]"),Yt=Pe.closest("ion-header"),yt=Yt?.classList.contains("header-collapse-condense-inactive"),rt=Array.from(Ut).filter(Tt=>{const dn=Tt.classList.contains("buttons-collapse");return dn&&!yt||!dn});Ct.addElement(rt);const ot=(0,o.c)(),vt=Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");vt.length>0&&ot.addElement(vt);const Vt=(0,o.c)();Vt.addElement(X(Pe).querySelector(".toolbar-background"));const nn=(0,o.c)(),Ht=Pe.querySelector("ion-back-button");if(Ht&&nn.addElement(Ht),_t.addAnimation([kt,Ct,ot,nn,Vt]),ut.addAnimation(_t),nn.fromTo(Ae,.99,0),Ct.fromTo(Ae,.99,0),ot.fromTo(Ae,.99,0),ue){if(yt||kt.fromTo("transform",`translateX(${Fe})`,be?"translateX(-100%)":"translateX(100%)").fromTo(Ae,.99,0),ot.fromTo("transform",`translateX(${Fe})`,be?"translateX(-100%)":"translateX(100%)"),Vt.beforeClearStyles([Ae,"transform"]),Yt?.translucent?Vt.fromTo("transform","translateX(0px)",be?"translateX(-100%)":"translateX(100%)"):Vt.fromTo(Ae,"var(--opacity)",0),Ht&&!z){const dn=(0,o.c)();dn.addElement(X(Ht).querySelector(".button-text")).fromTo("transform",`translateX(${Fe})`,`translateX(${(be?-124:124)+"px"})`),_t.addAnimation(dn)}}else yt||kt.fromTo("transform",`translateX(${Fe})`,`translateX(${Y})`).fromTo(Ae,.99,0).afterClearStyles([tt,Ae]),ot.fromTo("transform",`translateX(${Fe})`,`translateX(${Y})`).afterClearStyles([tt,Ae]),nn.afterClearStyles([Ae]),kt.afterClearStyles([Ae]),Ct.afterClearStyles([Ae])})}return ut}catch(ie){throw ie}},Se=10},462:(Lt,qe,R)=>{"use strict";R.r(qe),R.d(qe,{mdTransitionAnimation:()=>Me});var o=R(886),de=R(143);R(7693),R(3419);const Me=(_e,X)=>{var Ee,xe,se;const le="back"===X.direction,ye=X.leavingEl,Qe=(0,de.g)(X.enteringEl),oe=Qe.querySelector("ion-toolbar"),ie=(0,o.c)();if(ie.addElement(Qe).fill("both").beforeRemoveClass("ion-page-invisible"),le?ie.duration((null!==(Ee=X.duration)&&void 0!==Ee?Ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ie.duration((null!==(xe=X.duration)&&void 0!==xe?xe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),oe){const Ae=(0,o.c)();Ae.addElement(oe),ie.addAnimation(Ae)}if(ye&&le){ie.duration((null!==(se=X.duration)&&void 0!==se?se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ae=(0,o.c)();Ae.addElement((0,de.g)(ye)).onFinish(tt=>{1===tt&&Ae.elements.length>0&&Ae.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ie.addAnimation(Ae)}return ie}},8417:(Lt,qe,R)=>{"use strict";R.d(qe,{B:()=>kt,G:()=>Ct,a:()=>re,b:()=>le,c:()=>oe,d:()=>Ut,e:()=>Yt,f:()=>It,g:()=>Ye,h:()=>he,i:()=>Ge,j:()=>Ae,k:()=>tt,n:()=>se,o:()=>be,q:()=>ee,s:()=>_t});var o=R(5861),de=R(7693),B=R(27),Oe=R(8826),Me=R(245),_e=R(2674),X=R(3357);let Ee=0,xe=0;const se=new WeakMap,G=yt=>({create:rt=>Fe(yt,rt),dismiss:(rt,ot,vt)=>ue(document,rt,ot,yt,vt),getTop:()=>(0,o.Z)(function*(){return ee(document,yt)})()}),re=G("ion-alert"),le=G("ion-action-sheet"),oe=G("ion-popover"),Ae=yt=>{typeof document<"u"&&U(document);const rt=Ee++;yt.overlayIndex=rt},tt=yt=>(yt.hasAttribute("id")||(yt.id="ion-overlay-"+ ++xe),yt.id),Fe=(yt,rt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(yt).then(()=>{const ot=document.createElement(yt);return ot.classList.add("overlay-hidden"),Object.assign(ot,Object.assign(Object.assign({},rt),{hasController:!0})),z(document).appendChild(ot),new Promise(vt=>(0,_e.c)(ot,vt))}):Promise.resolve(),ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',be=(yt,rt)=>{let ot=yt.querySelector(ke);const vt=ot?.shadowRoot;vt&&(ot=vt.querySelector(ke)||ot),ot?(0,_e.f)(ot):rt.focus()},Y=(yt,rt)=>{const ot=Array.from(yt.querySelectorAll(ke));let vt=ot.length>0?ot[ot.length-1]:null;const Vt=vt?.shadowRoot;Vt&&(vt=Vt.querySelector(ke)||vt),vt?vt.focus():rt.focus()},U=yt=>{0===Ee&&(Ee=1,yt.addEventListener("focus",rt=>{((yt,rt)=>{const ot=ee(rt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),vt=yt.target;ot&&vt&&!ot.classList.contains("ion-disable-focus-trap")&&(ot.shadowRoot?(()=>{if(ot.contains(vt))ot.lastFocus=vt;else{const Ht=ot.lastFocus;be(ot,ot),Ht===rt.activeElement&&Y(ot,ot),ot.lastFocus=rt.activeElement}})():(()=>{if(ot===vt)ot.lastFocus=void 0;else{const Ht=(0,_e.g)(ot);if(!Ht.contains(vt))return;const Tt=Ht.querySelector(".ion-overlay-wrapper");if(!Tt)return;if(Tt.contains(vt)||vt===Ht.querySelector("ion-backdrop"))ot.lastFocus=vt;else{const dn=ot.lastFocus;be(Tt,ot),dn===rt.activeElement&&Y(Tt,ot),ot.lastFocus=rt.activeElement}}})())})(rt,yt)},!0),yt.addEventListener("ionBackButton",rt=>{const ot=ee(yt);ot?.backdropDismiss&&rt.detail.register(Me.OVERLAY_BACK_BUTTON_PRIORITY,()=>ot.dismiss(void 0,kt))}),yt.addEventListener("keydown",rt=>{if("Escape"===rt.key){const ot=ee(yt);ot?.backdropDismiss&&ot.dismiss(void 0,kt)}}))},ue=(yt,rt,ot,vt,Vt)=>{const nn=ee(yt,vt,Vt);return nn?nn.dismiss(rt,ot):Promise.reject("overlay does not exist")},W=(yt,rt)=>((yt,rt)=>(void 0===rt&&(rt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(yt.querySelectorAll(rt)).filter(ot=>ot.overlayIndex>0)))(yt,rt).filter(ot=>!(yt=>yt.classList.contains("overlay-hidden"))(ot)),ee=(yt,rt,ot)=>{const vt=W(yt,rt);return void 0===ot?vt[vt.length-1]:vt.find(Vt=>Vt.id===ot)},ut=(yt=!1)=>{const ot=z(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!ot||(yt?ot.setAttribute("aria-hidden","true"):ot.removeAttribute("aria-hidden"))},It=function(){var yt=(0,o.Z)(function*(rt,ot,vt,Vt,nn){var Ht,Tt;if(rt.presented)return;ut(!0),rt.presented=!0,rt.willPresent.emit(),null===(Ht=rt.willPresentShorthand)||void 0===Ht||Ht.emit();const dn=(0,B.b)(rt),Un=rt.enterAnimation?rt.enterAnimation:B.c.get(ot,"ios"===dn?vt:Vt);(yield H(rt,Un,rt.el,nn))&&(rt.didPresent.emit(),null===(Tt=rt.didPresentShorthand)||void 0===Tt||Tt.emit()),"ION-TOAST"!==rt.el.tagName&&Ot(rt.el),rt.keyboardClose&&(null===document.activeElement||!rt.el.contains(document.activeElement))&&rt.el.focus()});return function(ot,vt,Vt,nn,Ht){return yt.apply(this,arguments)}}(),Ot=function(){var yt=(0,o.Z)(function*(rt){let ot=document.activeElement;if(!ot)return;const vt=ot?.shadowRoot;vt&&(ot=vt.querySelector(ke)||ot),yield rt.onDidDismiss(),ot.focus()});return function(ot){return yt.apply(this,arguments)}}(),Ye=function(){var yt=(0,o.Z)(function*(rt,ot,vt,Vt,nn,Ht,Tt){var dn,Un;if(!rt.presented)return!1;void 0!==de.d&&1===W(de.d).length&&ut(!1),rt.presented=!1;try{rt.el.style.setProperty("pointer-events","none"),rt.willDismiss.emit({data:ot,role:vt}),null===(dn=rt.willDismissShorthand)||void 0===dn||dn.emit({data:ot,role:vt});const En=(0,B.b)(rt),Zi=rt.leaveAnimation?rt.leaveAnimation:B.c.get(Vt,"ios"===En?nn:Ht);vt!==Ct&&(yield H(rt,Zi,rt.el,Tt)),rt.didDismiss.emit({data:ot,role:vt}),null===(Un=rt.didDismissShorthand)||void 0===Un||Un.emit({data:ot,role:vt}),se.delete(rt),rt.el.classList.add("overlay-hidden"),rt.el.style.removeProperty("pointer-events"),void 0!==rt.el.lastFocus&&(rt.el.lastFocus=void 0)}catch(En){console.error(En)}return rt.el.remove(),!0});return function(ot,vt,Vt,nn,Ht,Tt,dn){return yt.apply(this,arguments)}}(),z=yt=>yt.querySelector("ion-app")||yt.body,H=function(){var yt=(0,o.Z)(function*(rt,ot,vt,Vt){vt.classList.remove("overlay-hidden");const Ht=ot(rt.el,Vt);(!rt.animated||!B.c.getBoolean("animated",!0))&&Ht.duration(0),rt.keyboardClose&&Ht.beforeAddWrite(()=>{const dn=vt.ownerDocument.activeElement;dn?.matches("input,ion-input, ion-textarea")&&dn.blur()});const Tt=se.get(rt)||[];return se.set(rt,[...Tt,Ht]),yield Ht.play(),!0});return function(ot,vt,Vt,nn){return yt.apply(this,arguments)}}(),he=(yt,rt)=>{let ot;const vt=new Promise(Vt=>ot=Vt);return Be(yt,rt,Vt=>{ot(Vt.detail)}),vt},Be=(yt,rt,ot)=>{const vt=Vt=>{(0,_e.b)(yt,rt,vt),ot(Vt)};(0,_e.a)(yt,rt,vt)},Ge=yt=>"cancel"===yt||yt===kt,Pe=yt=>yt(),_t=(yt,rt)=>{if("function"==typeof yt)return B.c.get("_zoneGate",Pe)(()=>{try{return yt(rt)}catch(vt){throw vt}})},kt="backdrop",Ct="gesture",Ut=yt=>{let ot,rt=!1;const vt=(0,Oe.C)(),Vt=(Tt=!1)=>{if(ot&&!Tt)return{delegate:ot,inline:rt};const{el:dn,hasController:Un,delegate:En}=yt;return rt=null!==dn.parentNode&&!Un,ot=rt?En||vt:En,{inline:rt,delegate:ot}};return{attachViewToDom:function(){var Tt=(0,o.Z)(function*(dn){const{delegate:Un}=Vt(!0);if(Un)return yield Un.attachViewToDom(yt.el,dn);const{hasController:En}=yt;if(En&&void 0!==dn)throw new Error("framework delegate is missing");return null});return function(Un){return Tt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Tt}=Vt();Tt&&void 0!==yt.el&&Tt.removeViewFromDom(yt.el.parentElement,yt.el)}}},Yt=()=>{let yt;const rt=()=>{yt&&(yt(),yt=void 0)};return{addClickListener:(vt,Vt)=>{rt();const nn=void 0!==Vt?document.getElementById(Vt):null;nn?yt=((Tt,dn)=>{const Un=()=>{dn.present()};return Tt.addEventListener("click",Un),()=>{Tt.removeEventListener("click",Un)}})(nn,vt):(0,X.p)(`A trigger element with the ID "${Vt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vt)},removeClickListener:rt}}},6223:(Lt,qe,R)=>{"use strict";var o=R(4650);let de=null;function B(){return de}const X=new o.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function xe(){return(0,o.LFG)(G)}()},providedIn:"platform"}),n})();const se=new o.OlP("Location Initialized");let G=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){re()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){re()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function le(){return new G((0,o.LFG)(X))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ye(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ae)},providedIn:"root"}),n})();const ie=new o.OlP("appBaseHref");let Ae=(()=>{class n extends oe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+Qe(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+Qe(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ee),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n extends oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Se(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+Qe(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+Qe(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ee),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=ye(Ke(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Qe(i))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Se,n.stripTrailingSlash=ye,n.\u0275fac=function(t){return new(t||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ke(){return new Fe((0,o.LFG)(oe))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}const Y={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Percent=1]="Percent",te[te.Currency=2]="Currency",te[te.Scientific=3]="Scientific",te))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function kt(n,e){const t=(0,o.cg1)(n),i=t[o.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ee.CurrencyDecimal)return t[o.wAp.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[o.wAp.NumberSymbols][ee.Group]}return i}const xn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,j=".";function me(n,e,t,i,r){const a=function Rt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],a=-1!==r.indexOf(j)?r.split(j):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],d=a[0],f=a[1]||"";t.posPre=d.substring(0,d.indexOf("#"));for(let v=0;v<f.length;v++){const I=f.charAt(v);"0"===I?t.minFrac=t.maxFrac=v+1:"#"===I?t.maxFrac=v+1:t.posSuf+=I}const g=d.split(",");if(t.gSize=g[1]?g[1].length:0,t.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,s){const v=r.length-t.posPre.length-t.posSuf.length,I=s.indexOf("#");t.negPre=s.substring(0,I).replace(/'/g,""),t.negSuf=s.slice(I+v).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Ct(n,e){return(0,o.cg1)(n)[o.wAp.NumberFormats][e]}(e,te.Currency),kt(e,ee.MinusSign));return a.minFrac=function Zi(n){let e;const t=Y[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),a.maxFrac=a.minFrac,function fe(n,e,t,i,r,s,a=!1){let d="",f=!1;if(isFinite(n)){let g=function Tn(n){let i,r,s,a,d,e=Math.abs(n)+"",t=0;for((r=e.indexOf(j))>-1&&(e=e.replace(j,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(d=e.length))i=[0],r=1;else{for(d--;"0"===e.charAt(d);)d--;for(r-=s,i=[],a=0;s<=d;s++,a++)i[a]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);a&&(g=function Gt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(g));let v=e.minInt,I=e.minFrac,D=e.maxFrac;if(s){const Ie=s.match(xn);if(null===Ie)throw new Error(`${s} is not a valid digit info`);const He=Ie[1],je=Ie[3],Ze=Ie[5];null!=He&&(v=Pn(He)),null!=je&&(I=Pn(je)),null!=Ze?D=Pn(Ze):null!=je&&I>D&&(D=I)}!function Zn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let a=s+n.integerLen,d=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let I=a;I<i.length;I++)i[I]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let I=1;I<a;I++)i[I]=0}if(d>=5)if(a-1<0){for(let I=0;I>a;I--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let f=0!==s;const g=e+n.integerLen,v=i.reduceRight(function(I,D,A,P){return P[A]=(D+=I)<10?D:D-10,f&&(0===P[A]&&A>=g?P.pop():f=!1),D>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(g,I,D);let A=g.digits,P=g.integerLen;const V=g.exponent;let $=[];for(f=A.every(Ie=>!Ie);P<v;P++)A.unshift(0);for(;P<0;P++)A.unshift(0);P>0?$=A.splice(P,A.length):($=A,A=[0]);const ae=[];for(A.length>=e.lgSize&&ae.unshift(A.splice(-e.lgSize,A.length).join(""));A.length>e.gSize;)ae.unshift(A.splice(-e.gSize,A.length).join(""));A.length&&ae.unshift(A.join("")),d=ae.join(kt(t,i)),$.length&&(d+=kt(t,r)+$.join("")),V&&(d+=kt(t,ee.Exponential)+"+"+V)}else d=kt(t,ee.Infinity);return d=n<0&&!f?e.negPre+d+e.negSuf:e.posPre+d+e.posSuf,d}(n,a,e,ee.CurrencyGroup,ee.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Pn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Wn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $o{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $o(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),fs(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{fs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fs(n,e){n.context.$implicit=e.item}let li=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new $a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ki("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ki("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $a{constructor(){this.$implicit=null,this.ngIf=null}}function ki(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}let ct=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),a=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),it=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();let hc=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function Sl(n){return!(null==n||""===n||n!=n)}(t))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let d=i||this._defaultCurrencyCode;"code"!==r&&(d="symbol"===r||"symbol-narrow"===r?function Un(n,e,t="en"){const i=function rt(n){return(0,o.cg1)(n)[o.wAp.Currencies]}(t)[n]||Y[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(d,"symbol"===r?"wide":"narrow",a):r);try{return me(function Bu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),a,d,i,s)}catch(f){throw function At(n,e){return new o.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},n.\u0275pipe=o.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Gi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function gc(n){return"server"===n}let bo=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new yc((0,o.LFG)(X),window)}),n})();class yc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function is(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ms(this.window.history)||Ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Dl{}class Zu extends class kp extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Me(n){de||(de=n)}(new Zu)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sc(){return Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null}();return null==t?null:function Pp(n){Dc=Dc||document.createElement("a"),Dc.setAttribute("href",n);const e=Dc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mo(document.cookie,e)}}let Dc,Tc=null;const Wa=new o.OlP("TRANSITION_ID"),Qu=[{provide:o.ip1,useFactory:function Ch(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Wa,X,o.zs3],multi:!0}];let Rp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new o.OlP("EventManagerPlugins");let Fl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Eo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ga=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends ga{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(xc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xc))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function xc(n){B().remove(n)}const Bl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Os=/%COMP%/g;function _a(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?_a(n,r,t):(r=r.replace(Os,n),t.push(r))}return t}function Ac(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ya=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ka(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new va(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case o.ifc.ShadowDom:return new Lp(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=_a(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fl),o.LFG(Js),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($l(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&($l(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Bl[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Bl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ac(i)):this.eventManager.addEventListener(e,t,Ac(i))}}function $l(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class va extends Ka{constructor(e,t,i,r){super(e),this.component=i;const s=_a(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ya(n){return"_ngcontent-%COMP%".replace(Os,n)}(r+"-"+i.id),this.hostAttr=function Vl(n){return"_nghost-%COMP%".replace(Os,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Lp extends Ka{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_a(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const d=document.createElement("style");d.textContent=s[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Mc=(()=>{class n extends Eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const to=["alt","control","meta","shift"],dy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ed=(()=>{class n extends Eo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),to.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),a+=g+".")}),a+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=a,f}static matchEventFullKeyCode(t,i){let r=dy[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),to.forEach(a=>{a!==r&&(0,Ri[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function ba(){Zu.makeCurrent()},multi:!0},{provide:X,useFactory:function Za(){return(0,o.RDi)(document),document},deps:[]}]),Hl=new o.OlP(""),bi=[{provide:o.rWj,useClass:class Ll{addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const d=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],td=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Br(){return new o.qLn},deps:[]},{provide:Xs,useClass:Mc,multi:!0,deps:[X,o.R0b,o.Lbi]},{provide:Xs,useClass:ed,multi:!0,deps:[X]},{provide:Ya,useClass:Ya,deps:[Fl,Js,o.AFp]},{provide:o.FYo,useExisting:Ya},{provide:ga,useExisting:Js},{provide:Js,useClass:Js,deps:[X]},{provide:Fl,useClass:Fl,deps:[Xs,o.R0b]},{provide:Dl,useClass:Rp,deps:[]},[]];let Pc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Wa,useExisting:o.AFp},Qu]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Hl,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...td,...bi],imports:[Gi,o.hGG]}),n})(),Up=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function $p(){return new Up((0,o.LFG)(X))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var no=R(7669),fi=R(8996);function fn(...n){const e=(0,no.yG)(n);return(0,fi.D)(n,e)}var er=R(9751),Ni=R(5577),Li=R(576);function Do(n,e){return(0,Li.m)(e)?(0,Ni.z)(n,e,1):(0,Ni.z)(n,1)}var Vr=R(4482),hr=R(5403);function Tr(n,e){return(0,Vr.e)((t,i)=>{let r=0;t.subscribe((0,hr.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var vn=R(4004);class $r{}class Hc{}class yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(d=>-1===s.indexOf(d)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zc{encodeKey(e){return jc(e)}encodeValue(e){return jc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wa=/%(\d[a-f0-9])/gi,sd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jc(n){return encodeURIComponent(n).replace(wa,(e,t)=>sd[t]??e)}function Ia(n){return`${n}`}class xo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ah(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(a)||[];f.push(d),t.set(a,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Ia):[Ia(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ia(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Ia(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class od{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ad(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Mh(n){return typeof Blob<"u"&&n instanceof Blob}function Ho(n){return typeof FormData<"u"&&n instanceof FormData}class zo{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ja(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new yi),this.context||(this.context=new od),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+a}}else this.params=new xo,this.urlWithParams=t}serializeBody(){return null===this.body?null:ad(this.body)||Mh(this.body)||Ho(this.body)||function Gc(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ho(this.body)?null:Mh(this.body)?this.body.type||null:ad(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,g=e.params||this.params;const v=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((I,D)=>I.set(D,e.setHeaders[D]),f)),e.setParams&&(g=Object.keys(e.setParams).reduce((I,D)=>I.set(D,e.setParams[D]),g)),new zo(t,i,s,{params:g,headers:f,context:v,reportProgress:d,responseType:r,withCredentials:a})}}var tr=(()=>((tr=tr||{})[tr.Sent=0]="Sent",tr[tr.UploadProgress=1]="UploadProgress",tr[tr.ResponseHeader=2]="ResponseHeader",tr[tr.DownloadProgress=3]="DownloadProgress",tr[tr.Response=4]="Response",tr[tr.User=5]="User",tr))();class ld{constructor(e,t=200,i="OK"){this.headers=e.headers||new yi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class io extends ld{constructor(e={}){super(e),this.type=tr.ResponseHeader}clone(e={}){return new io({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jo extends ld{constructor(e={}){super(e),this.type=tr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Oh extends ld{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Wc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let el=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof zo)s=t;else{let f,g;f=r.headers instanceof yi?r.headers:new yi(r.headers),r.params&&(g=r.params instanceof xo?r.params:new xo({fromObject:r.params})),s=new zo(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=fn(s).pipe(Do(f=>this.handler.handle(f)));if(t instanceof zo||"events"===r.observe)return a;const d=a.pipe(Tr(f=>f instanceof jo));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,vn.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,vn.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,vn.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,vn.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new xo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Wc(r,i))}post(t,i,r={}){return this.request("POST",t,Wc(r,i))}put(t,i,r={}){return this.request("PUT",t,Wc(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG($r))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Wp{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const cd=new o.OlP("HTTP_INTERCEPTORS");let qp=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hd=/^\)\]\}',?\n/;let Wl=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new er.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((A,P)=>r.setRequestHeader(A,P.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const A=t.detectContentTypeHeader();null!==A&&r.setRequestHeader("Content-Type",A)}if(t.responseType){const A=t.responseType.toLowerCase();r.responseType="json"!==A?A:"text"}const s=t.serializeBody();let a=null;const d=()=>{if(null!==a)return a;const A=r.statusText||"OK",P=new yi(r.getAllResponseHeaders()),V=function Yp(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new io({headers:P,status:r.status,statusText:A,url:V}),a},f=()=>{let{headers:A,status:P,statusText:V,url:$}=d(),ae=null;204!==P&&(ae=typeof r.response>"u"?r.responseText:r.response),0===P&&(P=ae?200:0);let Ie=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof ae){const He=ae;ae=ae.replace(hd,"");try{ae=""!==ae?JSON.parse(ae):null}catch(je){ae=He,Ie&&(Ie=!1,ae={error:je,text:ae})}}Ie?(i.next(new jo({body:ae,headers:A,status:P,statusText:V,url:$||void 0})),i.complete()):i.error(new Oh({error:ae,headers:A,status:P,statusText:V,url:$||void 0}))},g=A=>{const{url:P}=d(),V=new Oh({error:A,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error(V)};let v=!1;const I=A=>{v||(i.next(d()),v=!0);let P={type:tr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),"text"===t.responseType&&!!r.responseText&&(P.partialText=r.responseText),i.next(P)},D=A=>{let P={type:tr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),i.next(P)};return r.addEventListener("load",f),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),t.reportProgress&&(r.addEventListener("progress",I),null!==s&&r.upload&&r.upload.addEventListener("progress",D)),r.send(s),i.next({type:tr.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",f),r.removeEventListener("timeout",g),t.reportProgress&&(r.removeEventListener("progress",I),null!==s&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Dl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Kp=new o.OlP("XSRF_COOKIE_NAME"),Nh=new o.OlP("XSRF_HEADER_NAME");class Zc{}let Ca=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X),o.LFG(o.Lbi),o.LFG(Kp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fd=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zc),o.LFG(Nh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),py=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(cd,[]);this.chain=i.reduceRight((r,s)=>new Wp(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Hc),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Qc=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:fd,useClass:qp}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Kp,useValue:t.cookieName}:[],t.headerName?{provide:Nh,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fd,{provide:cd,useExisting:fd,multi:!0},{provide:Zc,useClass:Ca},{provide:Kp,useValue:"XSRF-TOKEN"},{provide:Nh,useValue:"X-XSRF-TOKEN"}]}),n})(),Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[el,{provide:$r,useClass:py},Wl,{provide:Hc,useExisting:Wl}],imports:[Qc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();class Xc{}const Sr="*";function Fh(n,e){return{type:7,name:n,definitions:e,options:{}}}function E(n,e=null){return{type:4,styles:e,timings:n}}function k(n,e=null){return{type:2,steps:n,options:e}}function Z(n){return{type:6,styles:n,offset:null}}function De(n,e,t){return{type:0,name:n,styles:e,options:t}}function at(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $t(n=null){return{type:9,options:n}}function gn(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function rs(n){Promise.resolve().then(n)}class xi{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ki{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?rs(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Ps(n){return new o.vHH(3e3,!1)}function sg(){return typeof window<"u"&&typeof window.document<"u"}function Hh(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ta(n){switch(n.length){case 0:return new xi;case 1:return n[0];default:return new Ki(n)}}function Wo(n,e,t,i,r=new Map,s=new Map){const a=[],d=[];let f=-1,g=null;if(i.forEach(v=>{const I=v.get("offset"),D=I==f,A=D&&g||new Map;v.forEach((P,V)=>{let $=V,ae=P;if("offset"!==V)switch($=e.normalizePropertyName($,a),ae){case"!":ae=r.get(V);break;case Sr:ae=s.get(V);break;default:ae=e.normalizeStyleValue(V,$,ae,a)}A.set($,ae)}),D||d.push(A),g=A,f=I}),a.length)throw function Jp(n){return new o.vHH(3502,!1)}();return d}function eu(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&zh(t,"start",n)));break;case"done":n.onDone(()=>i(t&&zh(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&zh(t,"destroy",n)))}}function zh(n,e,t){const s=og(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function og(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function bs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function yd(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ag=(n,e)=>!1,lg=(n,e,t)=>[],jh=null;function Gh(n){const e=n.parentNode||n.host;return e===jh?null:e}(Hh()||typeof Element<"u")&&(sg()?(jh=(()=>document.documentElement)(),ag=(n,e)=>{for(;e;){if(e===n)return!0;e=Gh(e)}return!1}):ag=(n,e)=>n.contains(e),lg=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let qo=null,Sa=!1;const Wh=ag,tu=lg;let qh=(()=>{class n{validateStyleProperty(t){return function Dy(n){qo||(qo=function ug(){return typeof document<"u"?document.body:null}()||{},Sa=!!qo.style&&"WebkitAppearance"in qo.style);let e=!0;return qo.style&&!function Sy(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qo.style,!e&&Sa&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qo.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Wh(t,i)}getParentElement(t){return Gh(t)}query(t,i,r){return tu(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,d=[],f){return new xi(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_d=(()=>{class n{}return n.NOOP=new qh,n})();const nl="ng-enter",nu="ng-leave",or="ng-trigger",il=".ng-trigger",fg="ng-animating",xy=".ng-animating";function Oo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yl(parseFloat(e[1]),e[2])}function Yl(n,e){return"s"===e?1e3*n:n}function Kh(n,e,t){return n.hasOwnProperty("duration")?n:function pg(n,e,t){let r,s=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(Ps()),{duration:0,delay:0,easing:""};r=Yl(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=Yl(parseFloat(f),d[4]));const g=d[5];g&&(a=g)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function Mo(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function pd(){return new o.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,Ps())}return{duration:r,delay:s,easing:a}}(n,e,t)}function rl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ko(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Da(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function yg(n,e,t){return t?e+":"+t+";":""}function _g(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=yg(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=yg(0,FC(t),n.style[t]));n.setAttribute("style",e)}function nr(n,e,t){n.style&&(e.forEach((i,r)=>{const s=Qh(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),Hh()&&_g(n))}function xa(n,e){n.style&&(e.forEach((t,i)=>{const r=Qh(i);n.style[r]=""}),Hh()&&_g(n))}function Kl(n){return Array.isArray(n)?1==n.length?n[0]:k(n):n}const Ur=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yo(n){let e=[];if("string"==typeof n){let t;for(;t=Ur.exec(n);)e.push(t[1]);Ur.lastIndex=0}return e}function iu(n,e,t){const i=n.toString(),r=i.replace(Ur,(s,a)=>{let d=e[a];return null==d&&(t.push(function yy(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Zh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const LC=/-+([a-z0-9])/g;function Qh(n){return n.replace(LC,(...e)=>e[1].toUpperCase())}function FC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kC(n){return new o.vHH(3004,!1)}()}}function b(n,e){return window.getComputedStyle(n)[e]}function Bt(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function on(n,e,t){if(":"==n[0]){const f=function ln(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function RC(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function tl(n){return new o.vHH(3015,!1)}()),e;const r=i[1],s=i[2],a=i[3];e.push(Xh(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&e.push(Xh(a,r))}(i,t,e)):t.push(n),t}const Si=new Set(["true","1"]),ss=new Set(["false","0"]);function Xh(n,e){const t=Si.has(n)||ss.has(n),i=Si.has(e)||ss.has(e);return(r,s)=>{let a="*"==n||n==r,d="*"==e||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?Si.has(n):ss.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Si.has(e):ss.has(e)),a&&d}}const Jh=new RegExp("s*:selfs*,?","g");function ef(n,e,t,i){return new bg(n).build(e,t,i)}class bg{constructor(e){this._driver=e}build(e,t,i){const r=new ru(t);return this._resetContextStyleTimingState(r),qs(this,Kl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function _y(){return new o.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,s.push(this.visitState(f,t))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,a.push(f)}else t.errors.push(function Vh(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{Yo(f).forEach(g=>{a.hasOwnProperty(g)||s.add(g)})})}),s.size&&(Zh(s.values()),t.errors.push(function $h(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qs(this,Kl(e.animation),t);return{type:1,matchers:Bt(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Aa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qs(this,i,t)),options:Aa(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const d=qs(this,a,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Aa(e.options)}}visitAnimate(e,t){const i=function Ig(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ar(Kh(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ar(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Kh(t,e);return ar(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Z({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,d=!1;if(!a){d=!0;const g={};i.easing&&(g.easing=i.easing),a=Z(g)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Sr?i.push(d):t.errors.push(new o.vHH(3002,!1)):i.push(ko(d));let s=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{const g=t.collectedStyles.get(t.currentQuerySelector),v=g.get(f);let I=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(t.errors.push(function vy(n,e,t,i,r){return new o.vHH(3010,!1)}()),I=!1),s=v.startTime),I&&g.set(f,{startTime:s,endTime:r}),t.options&&function r0(n,e,t){const i=e.params||{},r=Yo(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Qp(n){return new o.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Zv(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let d=!1,f=!1,g=0;const v=e.steps.map(ae=>{const Ie=this._makeStyleAst(ae,t);let He=null!=Ie.offset?Ie.offset:function ky(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ie.styles),je=0;return null!=He&&(s++,je=Ie.offset=He),f=f||je<0||je>1,d=d||je<g,g=je,a.push(je),Ie});f&&t.errors.push(function gd(){return new o.vHH(3012,!1)}()),d&&t.errors.push(function Qv(){return new o.vHH(3200,!1)}());const I=e.steps.length;let D=0;s>0&&s<I?t.errors.push(function by(){return new o.vHH(3202,!1)}()):0==s&&(D=1/(I-1));const A=I-1,P=t.currentTime,V=t.currentAnimateTimings,$=V.duration;return v.forEach((ae,Ie)=>{const He=D>0?Ie==A?1:D*Ie:a[Ie],je=He*$;t.currentTime=P+V.delay+je,V.duration=je,this._validateStyleAst(ae,t),ae.offset=He,i.styles.push(ae)}),i}visitReference(e,t){return{type:8,animation:qs(this,Kl(e.animation),t),options:Aa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Aa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Aa(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function Oy(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Jh,"")),n=n.replace(/@\*/g,il).replace(/@\w+/g,t=>il+"-"+t.slice(1)).replace(/:animating/g,xy),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,bs(t.collectedStyles,t.currentQuerySelector,new Map);const d=qs(this,Kl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:e.selector,options:Aa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Xp(){return new o.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Kh(e.timings,t.errors,!0);return{type:12,animation:qs(this,Kl(e.animation),t),timings:i,options:null}}}class ru{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Aa(n){return n?(n=rl(n)).params&&(n.params=function wg(n){return n?rl(n):null}(n.params)):n={},n}function ar(n,e,t){return{duration:n,delay:e,easing:t}}function s0(n,e,t,i,r,s,a=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:d}}class Py{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dA=new RegExp(":enter","g"),fA=new RegExp(":leave","g");function a0(n,e,t,i,r,s=new Map,a=new Map,d,f,g=[]){return(new pA).buildKeyframes(n,e,t,i,r,s,a,d,f,g)}class pA{buildKeyframes(e,t,i,r,s,a,d,f,g,v=[]){g=g||new Py;const I=new $C(e,t,g,r,s,v,[]);I.options=f;const D=f.delay?Oo(f.delay):0;I.currentTimeline.delayNextStep(D),I.currentTimeline.setStyles([a],null,I.errors,f),qs(this,i,I);const A=I.timelines.filter(P=>P.containsAnimation());if(A.length&&d.size){let P;for(let V=A.length-1;V>=0;V--){const $=A[V];if($.element===t){P=$;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([d],null,I.errors,f)}return A.length?A.map(P=>P.buildKeyframes()):[s0(t,[],[],[],0,D,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const a="number"==typeof s?s:Oo(iu(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?Oo(i.duration):null,d=null!=i.delay?Oo(i.delay):null;return 0!==a&&e.forEach(f=>{const g=t.appendInstructionToTimeline(f,a,d);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=l0);const a=Oo(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>qs(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Oo(e.options.delay):0;e.steps.forEach(a=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),qs(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Kh(t.params?iu(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Oo(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=l0);let a=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((g,v)=>{t.currentQueryIndex=v;const I=t.createSubContext(e.options,g);s&&I.delayNextStep(s),g===t.element&&(f=I.currentTimeline),qs(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),d=a*(t.currentQueryTotal-1);let f=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const v=t.currentTimeline;f&&v.delayNextStep(f);const I=v.currentTime;qs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const l0={};class $C{constructor(e,t,i,r,s,a,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=l0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new su(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Oo(i.duration)),null!=i.delay&&(r.delay=Oo(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!a.hasOwnProperty(d))&&(a[d]=iu(s[d],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new $C(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=l0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new c0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(dA,"."+this._enterClassName)).replace(fA,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!s&&0==d.length&&a.push(function wy(n){return new o.vHH(3014,!1)}()),d}}class su{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new su(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Sr),this._currentKeyframe.set(t,Sr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function UC(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Sr)}else Da(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of a){const g=iu(f,s,i);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Sr),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=Da(d,new Map,this._backFill);g.forEach((v,I)=>{"!"===v?e.add(I):v===Sr&&t.add(I)}),i||g.set("offset",f/this.duration),r.push(g)});const s=e.size?Zh(e.values()):[],a=t.size?Zh(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return s0(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class c0 extends su{constructor(e,t,i,r,s,a,d=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,d=t/a,f=Da(e[0]);f.set("offset",0),s.push(f);const g=Da(e[0]);g.set("offset",u0(d)),s.push(g);const v=e.length-1;for(let I=1;I<=v;I++){let D=Da(e[I]);const A=D.get("offset");D.set("offset",u0((t+A*i)/a)),s.push(D)}i=a,t=0,r="",e=s}return s0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function u0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class d0{}const HC=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class h0 extends d0{normalizePropertyName(e,t){return Qh(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if(HC.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Bh(n,e){return new o.vHH(3005,!1)}())}return a+s}}function yA(n,e,t,i,r,s,a,d,f,g,v,I,D){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:v,totalTime:I,errors:D}}const f0={};class Ry{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function zC(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,a,d,f,g,v){const I=[],D=this.ast.options&&this.ast.options.params||f0,P=this.buildStyles(i,d&&d.params||f0,I),V=f&&f.params||f0,$=this.buildStyles(r,V,I),ae=new Set,Ie=new Map,He=new Map,je="void"===r,Ze={params:vd(V,D),delay:this.ast.options?.delay},pt=v?[]:a0(e,t,this.ast.animation,s,a,P,$,Ze,g,I);let Dt=0;if(pt.forEach(mn=>{Dt=Math.max(mn.duration+mn.delay,Dt)}),I.length)return yA(t,this._triggerName,i,r,je,P,$,[],[],Ie,He,Dt,I);pt.forEach(mn=>{const Bn=mn.element,ni=bs(Ie,Bn,new Set);mn.preStyleProps.forEach(wr=>ni.add(wr));const oi=bs(He,Bn,new Set);mn.postStyleProps.forEach(wr=>oi.add(wr)),Bn!==t&&ae.add(Bn)});const Ft=Zh(ae.values());return yA(t,this._triggerName,i,r,je,P,$,pt,Ft,Ie,He,Dt)}}function vd(n,e){const t=rl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class vA{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=rl(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,d)=>{a&&(a=iu(a,r,t));const f=this.normalizer.normalizePropertyName(d,t);a=this.normalizer.normalizeStyleValue(d,f,a,t),i.set(f,a)})}),i}}class Ny{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new vA(r.style,r.options&&r.options.params||{},i))}),Ly(this.states,"true","1"),Ly(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Ry(e,r,this.states))}),this.fallbackTransition=function bA(n,e,t){return new Ry(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ly(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Fy=new Py;class bd{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=ef(this._driver,t,i,[]);if(i.length)throw function eg(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=Wo(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let a;const d=new Map;if(s?(a=a0(this._driver,t,s,nl,nu,new Map,new Map,i,Fy,r),a.forEach(v=>{const I=bs(d,v.element,new Map);v.postStyleProps.forEach(D=>I.set(D,null))})):(r.push(function Xv(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function tg(n){return new o.vHH(3504,!1)}();d.forEach((v,I)=>{v.forEach((D,A)=>{v.set(A,this._driver.computeStyle(I,A,Sr))})});const g=Ta(a.map(v=>{const I=d.get(v.element);return this._buildPlayer(v,new Map,I)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Jv(n){return new o.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=og(t,"","","");return eu(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const g0="ng-animate-queued",y0="ng-animate-disabled",IA=[],GC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ko="__ng_removed";class Cg{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Tg(n){return n??null}(i?e.value:e),i){const s=rl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Eg="void",By=new Cg(Eg);class EA{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Po(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function e0(n,e){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function ng(n){return new o.vHH(3303,!1)}();if(!function nf(n){return"start"==n||"done"==n}(i))throw function t0(n,e){return new o.vHH(3400,!1)}();const s=bs(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const d=bs(this._engine.statesByElement,e,new Map);return d.has(t)||(Po(e,or),Po(e,or+"-"+t),d.set(t,By)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Cy(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new qC(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(Po(e,or),Po(e,or+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const g=new Cg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(t,g),f||(f=By),g.value!==Eg&&f.value===g.value){if(!function KC(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,g.params)){const V=[],$=s.matchStyles(f.value,f.params,V),ae=s.matchStyles(g.value,g.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{xa(e,$),nr(e,ae)})}return}const D=bs(this._engine.playersByElement,e,[]);D.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let A=s.matchTransition(f.value,g.value,e,g.params),P=!1;if(!A){if(!r)return;A=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:f,toState:g,player:a,isFallbackTransition:P}),P||(Po(e,g0),a.onStart(()=>{sf(e,g0)})),a.onDone(()=>{let V=this.players.indexOf(a);V>=0&&this.players.splice(V,1);const $=this._engine.playersByElement.get(e);if($){let ae=$.indexOf(a);ae>=0&&$.splice(ae,1)}}),this.players.push(a),D.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,il,!0);i.forEach(r=>{if(r[Ko])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const d=[];if(s.forEach((f,g)=>{if(a.set(g,f.value),this._triggers.has(g)){const v=this.trigger(e,g,Eg,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&Ta(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,g=i.get(a)||By,v=new Cg(Eg),I=new qC(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:f,fromState:g,toState:v,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ko];(!s||s===GC)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Po(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const f=og(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,eu(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class WC{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new EA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,e),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Vy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Vy(t))return;const s=t[Ko];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Po(e,y0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sf(e,y0))}removeNode(e,t,i,r){if(Vy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Ko]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Vy(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,il,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xy,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ko];if(t&&t.setForRemoval){if(e[Ko]=GC,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(y0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Po(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ta(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ig(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Py,r=[],s=new Map,a=[],d=new Map,f=new Map,g=new Map,v=new Set;this.disabledNodes.forEach(zt=>{v.add(zt);const sn=this.driver.query(zt,".ng-animate-queued",!0);for(let bn=0;bn<sn.length;bn++)v.add(sn[bn])});const I=this.bodyNode,D=Array.from(this.statesByElement.keys()),A=SA(D,this.collectedEnterElements),P=new Map;let V=0;A.forEach((zt,sn)=>{const bn=nl+V++;P.set(sn,bn),zt.forEach(Nn=>Po(Nn,bn))});const $=[],ae=new Set,Ie=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const sn=this.collectedLeaveElements[zt],bn=sn[Ko];bn&&bn.setForRemoval&&($.push(sn),ae.add(sn),bn.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(Nn=>ae.add(Nn)):Ie.add(sn))}const He=new Map,je=SA(D,Array.from(ae));je.forEach((zt,sn)=>{const bn=nu+V++;He.set(sn,bn),zt.forEach(Nn=>Po(Nn,bn))}),e.push(()=>{A.forEach((zt,sn)=>{const bn=P.get(sn);zt.forEach(Nn=>sf(Nn,bn))}),je.forEach((zt,sn)=>{const bn=He.get(sn);zt.forEach(Nn=>sf(Nn,bn))}),$.forEach(zt=>{this.processLeaveNode(zt)})});const Ze=[],pt=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(t).forEach(bn=>{const Nn=bn.player,Ir=bn.element;if(Ze.push(Nn),this.collectedEnterElements.length){const go=Ir[Ko];if(go&&go.setForMove){if(go.previousTriggersValues&&go.previousTriggersValues.has(bn.triggerName)){const sy=go.previousTriggersValues.get(bn.triggerName),El=this.statesByElement.get(bn.element);if(El&&El.has(bn.triggerName)){const uA=El.get(bn.triggerName);uA.value=sy,El.set(bn.triggerName,uA)}}return void Nn.destroy()}}const Vo=!I||!this.driver.containsElement(I,Ir),ds=He.get(Ir),la=P.get(Ir),Hi=this._buildInstruction(bn,i,la,ds,Vo);if(Hi.errors&&Hi.errors.length)return void pt.push(Hi);if(Vo)return Nn.onStart(()=>xa(Ir,Hi.fromStyles)),Nn.onDestroy(()=>nr(Ir,Hi.toStyles)),void r.push(Nn);if(bn.isFallbackTransition)return Nn.onStart(()=>xa(Ir,Hi.fromStyles)),Nn.onDestroy(()=>nr(Ir,Hi.toStyles)),void r.push(Nn);const Cp=[];Hi.timelines.forEach(go=>{go.stretchStartingKeyframe=!0,this.disabledNodes.has(go.element)||Cp.push(go)}),Hi.timelines=Cp,i.append(Ir,Hi.timelines),a.push({instruction:Hi,player:Nn,element:Ir}),Hi.queriedElements.forEach(go=>bs(d,go,[]).push(Nn)),Hi.preStyleProps.forEach((go,sy)=>{if(go.size){let El=f.get(sy);El||f.set(sy,El=new Set),go.forEach((uA,PN)=>El.add(PN))}}),Hi.postStyleProps.forEach((go,sy)=>{let El=g.get(sy);El||g.set(sy,El=new Set),go.forEach((uA,PN)=>El.add(PN))})});if(pt.length){const zt=[];pt.forEach(sn=>{zt.push(function rg(n,e){return new o.vHH(3505,!1)}())}),Ze.forEach(sn=>sn.destroy()),this.reportError(zt)}const Dt=new Map,Ft=new Map;a.forEach(zt=>{const sn=zt.element;i.has(sn)&&(Ft.set(sn,sn),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,Dt))}),r.forEach(zt=>{const sn=zt.element;this._getPreviousPlayers(sn,!1,zt.namespaceId,zt.triggerName,null).forEach(Nn=>{bs(Dt,sn,[]).push(Nn),Nn.destroy()})});const mn=$.filter(zt=>$y(zt,f,g)),Bn=new Map;YC(Bn,this.driver,Ie,g,Sr).forEach(zt=>{$y(zt,f,g)&&mn.push(zt)});const oi=new Map;A.forEach((zt,sn)=>{YC(oi,this.driver,new Set(zt),f,"!")}),mn.forEach(zt=>{const sn=Bn.get(zt),bn=oi.get(zt);Bn.set(zt,new Map([...Array.from(sn?.entries()??[]),...Array.from(bn?.entries()??[])]))});const wr=[],po=[],Mi={};a.forEach(zt=>{const{element:sn,player:bn,instruction:Nn}=zt;if(i.has(sn)){if(v.has(sn))return bn.onDestroy(()=>nr(sn,Nn.toStyles)),bn.disabled=!0,bn.overrideTotalTime(Nn.totalTime),void r.push(bn);let Ir=Mi;if(Ft.size>1){let ds=sn;const la=[];for(;ds=ds.parentNode;){const Hi=Ft.get(ds);if(Hi){Ir=Hi;break}la.push(ds)}la.forEach(Hi=>Ft.set(Hi,Ir))}const Vo=this._buildAnimation(bn.namespaceId,Nn,Dt,s,oi,Bn);if(bn.setRealPlayer(Vo),Ir===Mi)wr.push(bn);else{const ds=this.playersByElement.get(Ir);ds&&ds.length&&(bn.parentPlayer=Ta(ds)),r.push(bn)}}else xa(sn,Nn.fromStyles),bn.onDestroy(()=>nr(sn,Nn.toStyles)),po.push(bn),v.has(sn)&&r.push(bn)}),po.forEach(zt=>{const sn=s.get(zt.element);if(sn&&sn.length){const bn=Ta(sn);zt.setRealPlayer(bn)}}),r.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<$.length;zt++){const sn=$[zt],bn=sn[Ko];if(sf(sn,nu),bn&&bn.hasAnimation)continue;let Nn=[];if(d.size){let Vo=d.get(sn);Vo&&Vo.length&&Nn.push(...Vo);let ds=this.driver.query(sn,xy,!0);for(let la=0;la<ds.length;la++){let Hi=d.get(ds[la]);Hi&&Hi.length&&Nn.push(...Hi)}}const Ir=Nn.filter(Vo=>!Vo.destroyed);Ir.length?DA(this,sn,Ir):this.processLeaveNode(sn)}return $.length=0,wr.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const sn=this.players.indexOf(zt);this.players.splice(sn,1)}),zt.play()}),wr}elementContainsData(e,t){let i=!1;const r=t[Ko];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(a=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==Eg;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||a.push(g)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const g=f.element,v=g!==s,I=bs(i,g,[]);this._getPreviousPlayers(g,v,a,d,t.toState).forEach(A=>{const P=A.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),A.destroy(),I.push(A)})}xa(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const d=t.triggerName,f=t.element,g=[],v=new Set,I=new Set,D=t.timelines.map(P=>{const V=P.element;v.add(V);const $=V[Ko];if($&&$.removedBeforeQueried)return new xi(P.duration,P.delay);const ae=V!==f,Ie=function xA(n){const e=[];return _0(n,e),e}((i.get(V)||IA).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===V),He=s.get(V),je=a.get(V),Ze=Wo(0,this._normalizer,0,P.keyframes,He,je),pt=this._buildPlayer(P,Ze,Ie);if(P.subTimeline&&r&&I.add(V),ae){const Dt=new qC(e,d,V);Dt.setRealPlayer(pt),g.push(Dt)}return pt});g.forEach(P=>{bs(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function TA(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,P.element,P))}),v.forEach(P=>Po(P,fg));const A=Ta(D);return A.onDestroy(()=>{v.forEach(P=>sf(P,fg)),nr(f,t.toStyles)}),I.forEach(P=>{bs(r,P,[]).push(A)}),A}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xi(e.duration,e.delay)}}class qC{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new xi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>eu(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Vy(n){return n&&1===n.nodeType}function rf(n,e){const t=n.style.display;return n.style.display=e??"none",t}function YC(n,e,t,i,r){const s=[];t.forEach(f=>s.push(rf(f)));const a=[];i.forEach((f,g)=>{const v=new Map;f.forEach(I=>{const D=e.computeStyle(g,I,r);v.set(I,D),(!D||0==D.length)&&(g[Ko]=CA,a.push(g))}),n.set(g,v)});let d=0;return t.forEach(f=>rf(f,s[d++])),a}function SA(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function a(d){if(!d)return 1;let f=s.get(d);if(f)return f;const g=d.parentNode;return f=t.has(g)?g:r.has(g)?1:a(g),s.set(d,f),f}return e.forEach(d=>{const f=a(d);1!==f&&t.get(f).push(d)}),t}function Po(n,e){n.classList?.add(e)}function sf(n,e){n.classList?.remove(e)}function DA(n,e,t){Ta(t).onDone(()=>n.processLeaveNode(e))}function _0(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Ki?_0(i.players,e):e.push(i)}}function $y(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class af{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new WC(e,t,i),this._timelineEngine=new bd(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let d=this._triggerCache[a];if(!d){const f=[],v=ef(this._driver,s,f,[]);if(f.length)throw function Iy(n,e){return new o.vHH(3404,!1)}();d=function p0(n,e,t){return new Ny(n,e,t)}(r,v,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=yd(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,d]=yd(i);return this._timelineEngine.listen(a,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let v0=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wd(n){let e=null;return n.forEach((t,i)=>{(function MA(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ZC{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:b(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class OA{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Wh(e,t)}getParentElement(e){return Gh(e)}query(e,t,i){return tu(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const g=new Map,v=a.filter(A=>A instanceof ZC);(function BC(n,e){return 0===n||0===e})(i,r)&&v.forEach(A=>{A.currentSnapshot.forEach((P,V)=>g.set(V,P))});let I=function gg(n){return n.length?n[0]instanceof Map?n:n.map(e=>ko(e)):[]}(t).map(A=>Da(A));I=function Ay(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<e.length;s++){let a=e[s];r.forEach(d=>a.set(d,b(n,d)))}}return e}(e,I,g);const D=function AA(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=wd(e[0]),e.length>1&&(i=wd(e[e.length-1]))):e instanceof Map&&(t=wd(e)),t||i?new v0(n,t,i):null}(e,I);return new ZC(e,I,f,D)}}let kA=(()=>{class n extends Xc{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?k(t):t;return QC(this._renderer,null,i,"register",[r]),new PA(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class PA extends class Lh{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RA(this._id,e,t||{},this._renderer)}}class RA{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return QC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function QC(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const sl="@.disabled";let NA=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const d=a?.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new XC("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(a,d,t,v.name,v)};return i.data.animation.forEach(f),new RN(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(af),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class XC{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==sl?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class RN extends XC{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sl?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function NN(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function JC(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let LN=(()=>{class n extends af{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X),o.LFG(_d),o.LFG(d0),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const b0=[{provide:Xc,useClass:kA},{provide:d0,useFactory:function eE(){return new h0}},{provide:af,useClass:LN},{provide:o.FYo,useFactory:function FN(n,e,t){return new NA(n,e,t)},deps:[Ya,af,o.R0b]}],w0=[{provide:_d,useFactory:()=>new OA},{provide:o.QbO,useValue:"BrowserAnimations"},...b0],I0=[{provide:_d,useClass:qh},{provide:o.QbO,useValue:"NoopAnimations"},...b0];let LA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?I0:w0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:w0,imports:[Pc]}),n})();const{isArray:tE}=Array,{getPrototypeOf:FA,prototype:BA,keys:VA}=Object;function nE(n){if(1===n.length){const e=n[0];if(tE(e))return{args:e,keys:null};if(function iE(n){return n&&"object"==typeof n&&FA(n)===BA}(e)){const t=VA(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Sg=R(8421);const{isArray:$A}=Array;function Vn(n){return(0,vn.U)(e=>function UA(n,e){return $A(e)?n(...e):n(e)}(n,e))}function C0(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let E0=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Id=(()=>{class n extends E0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const os=new o.OlP("NgValueAccessor"),aE={provide:os,useExisting:(0,o.Gpc)(()=>lf),multi:!0},zA=new o.OlP("CompositionEventMode");let lf=(()=>{class n extends E0{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HA(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(zA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([aE]),o.qOj]}),n})();function Ql(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ou(n){return null!=n&&"number"==typeof n.length}const as=new o.OlP("NgValidators"),al=new o.OlP("NgAsyncValidators"),T0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jA{static min(e){return GA(e)}static max(e){return WA(e)}static required(e){return function qA(n){return Ql(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function cE(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function S0(n){return Ql(n.value)||T0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function YA(n){return e=>Ql(e.value)||!ou(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function uE(n){return e=>ou(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Cd(n){if(!n)return Uy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ql(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return fE(e)}static composeAsync(e){return pE(e)}}function GA(n){return e=>{if(Ql(e.value)||Ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function WA(n){return e=>{if(Ql(e.value)||Ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Uy(n){return null}function D0(n){return null!=n}function Dg(n){return(0,o.QGY)(n)?(0,fi.D)(n):n}function dE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function x0(n,e){return e.map(t=>t(n))}function hE(n){return n.map(e=>function KA(n){return!n.validate}(e)?e:t=>e.validate(t))}function fE(n){if(!n)return null;const e=n.filter(D0);return 0==e.length?null:function(t){return dE(x0(t,e))}}function A0(n){return null!=n?fE(hE(n)):null}function pE(n){if(!n)return null;const e=n.filter(D0);return 0==e.length?null:function(t){return function rE(...n){const e=(0,no.jO)(n),{args:t,keys:i}=nE(n),r=new er.y(s=>{const{length:a}=t;if(!a)return void s.complete();const d=new Array(a);let f=a,g=a;for(let v=0;v<a;v++){let I=!1;(0,Sg.Xf)(t[v]).subscribe((0,hr.x)(s,D=>{I||(I=!0,g--),d[v]=D},()=>f--,void 0,()=>{(!f||!I)&&(g||s.next(i?C0(i,d):d),s.complete())}))}});return e?r.pipe(Vn(e)):r}(x0(t,e).map(Dg)).pipe((0,vn.U)(dE))}}function Hy(n){return null!=n?pE(hE(n)):null}function gE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function M0(n){return n._rawValidators}function O0(n){return n._rawAsyncValidators}function xg(n){return n?Array.isArray(n)?n:[n]:[]}function k0(n,e){return Array.isArray(n)?n.includes(e):n===e}function zy(n,e){const t=xg(e);return xg(n).forEach(r=>{k0(t,r)||t.push(r)}),t}function mE(n,e){return xg(e).filter(t=>!k0(n,t))}class ZA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=A0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hr extends ZA{get formDirective(){return null}get path(){return null}}class Ma extends ZA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ed=(()=>{class n extends P0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ma,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),N0=(()=>{class n extends P0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Hr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const cf="VALID",H0="INVALID",uf="PENDING",Gy="DISABLED";function Wy(n){return(G0(n)?n.validators:n)||null}function z0(n){return Array.isArray(n)?A0(n):n||null}function j0(n,e){return(G0(e)?e.asyncValidators:n)||null}function qy(n){return Array.isArray(n)?Hy(n):n||null}function G0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function n1(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function r1(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class W0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=z0(this._rawValidators),this._composedAsyncValidatorFn=qy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cf}get invalid(){return this.status===H0}get pending(){return this.status==uf}get disabled(){return this.status===Gy}get enabled(){return this.status!==Gy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=z0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=qy(e)}addValidators(e){this.setValidators(zy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mE(e,this._rawAsyncValidators))}hasValidator(e){return k0(this._rawValidators,e)}hasAsyncValidator(e){return k0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gy,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cf||this.status===uf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gy:cf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uf,this._hasOwnPendingAsyncValidator=!0;const t=Dg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Gy:this.errors?H0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uf)?uf:this._anyControlsHaveStatus(H0)?H0:cf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){G0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Yy extends W0{constructor(e,t,i){super(Wy(t),j0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){r1(this,0,e),Object.keys(e).forEach(i=>{n1(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class s1 extends Yy{}function q0(n,e){return[...e.path,n]}function Qo(n,e){Mg(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Y0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Xl(n,e)})}(n,e),function bE(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function o1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Xl(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function vE(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function df(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Og(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ky(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mg(n,e){const t=M0(n);null!==e.validator?n.setValidators(gE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=O0(n);null!==e.asyncValidator?n.setAsyncValidators(gE(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ky(e._rawValidators,r),Ky(e._rawAsyncValidators,r)}function Og(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=M0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=O0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ky(e._rawValidators,i),Ky(e._rawAsyncValidators,i),t}function Xl(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wE(n,e){Mg(n,e)}function au(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Td(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function kg(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===lf?t=s:function Z0(n){return Object.getPrototypeOf(n.constructor)===Id}(s)?i=s:r=s}),r||i||t||null}const CE={provide:Hr,useExisting:(0,o.Gpc)(()=>hf)},Sd=(()=>Promise.resolve())();let hf=(()=>{class n extends Hr{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Yy({},A0(t),Hy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Qo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sd.then(()=>{const i=this._findContainer(t.path),r=new Yy({});wE(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Sd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Td(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(as,10),o.Y36(al,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([CE]),o.qOj]}),n})();function Q0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Pg=class extends W0{constructor(e=null,t,i){super(Wy(t),j0(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Qy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Q0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Q0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Qy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},p1={provide:Ma,useExisting:(0,o.Gpc)(()=>lu)},g1=(()=>Promise.resolve())();let lu=(()=>{class n extends Ma{constructor(t,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new Pg,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kg(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),au(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){g1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);g1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?q0(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Hr,9),o.Y36(as,10),o.Y36(al,10),o.Y36(os,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([p1]),o.qOj,o.TTD]}),n})(),Rg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Xy=new o.OlP("NgModelWithFormControlWarning"),cl={provide:Hr,useExisting:(0,o.Gpc)(()=>ff)};let ff=(()=>{class n extends Hr{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Og(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Qo(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){df(t.control||null,t,!1),function Zy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Td(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(df(i||null,t),(n=>n instanceof Pg)(r)&&(Qo(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);wE(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function a1(n,e){return Og(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mg(this.form,this),this._oldForm&&Og(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(as,10),o.Y36(al,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([cl]),o.qOj,o.TTD]}),n})();const b1={provide:Ma,useExisting:(0,o.Gpc)(()=>ib)};let ib=(()=>{class n extends Ma{constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kg(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),au(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return q0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(Hr,13),o.Y36(as,10),o.Y36(al,10),o.Y36(os,10),o.Y36(Xy,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([b1]),o.qOj,o.TTD]}),n})();function lb(n){return"number"==typeof n?n:parseFloat(n)}let Jl=(()=>{class n{constructor(){this._validator=Uy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Uy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const ec={provide:as,useExisting:(0,o.Gpc)(()=>gf),multi:!0};let gf=(()=>{class n extends Jl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>lb(t),this.createValidator=t=>WA(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[o._Bn([ec]),o.qOj]}),n})();const n_={provide:as,useExisting:(0,o.Gpc)(()=>Dd),multi:!0};let Dd=(()=>{class n extends Jl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>lb(t),this.createValidator=t=>GA(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[o._Bn([n_]),o.qOj]}),n})(),NE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[eb]}),n})(),ub=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[NE]}),n})(),LE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[NE]}),n})();class FE extends W0{constructor(e,t,i){super(Wy(t),j0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){r1(this,0,e),e.forEach((i,r)=>{n1(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function BE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let O1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return BE(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Yy(r,s)}record(t,i=null){const r=this._reduceControls(t);return new s1(r,i)}control(t,i,r){let s={};return this.useNonNullable?(BE(i)?s=i:(s.validators=i,s.asyncValidators=r),new Pg(t,{...s,nonNullable:!0})):new Pg(t,i,r)}array(t,i,r){const s=t.map(a=>this._createControl(a));return new FE(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Pg||t instanceof W0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:LE}),n})();const Ng=["captchaWrapperElem"];let r_=(()=>{class n{constructor(t){this.zone=t,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(t,i,r,s){if(this.grecaptchaScriptLoaded(t.useEnterprise))return void this.zone.run(t.useEnterprise?()=>{r(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{r(window[this.windowGrecaptcha])});t.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const a=document.createElement("script");a.id=this.scriptElemId,a.innerHTML="",a.src=this.getCaptchaScriptUrl(t,i,s),a.async=!0,a.defer=!0,document.getElementsByTagName("head")[0].appendChild(a)}cleanup(){const t=document.getElementById(this.scriptElemId);t&&t.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(t){return!!(window[this.getCallbackName(t)]&&window[this.windowGrecaptcha]&&(t&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(t){return t?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,i,r){return`https://www.${t.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${t.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(t.useEnterprise)}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k1=(()=>{class n{constructor(t,i,r,s){this.renderer=t,this.zone=i,this.injector=r,this.scriptService=s,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new o.vpe,this.load=new o.vpe,this.reset=new o.vpe,this.ready=new o.vpe,this.error=new o.vpe,this.expire=new o.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(Ma,void 0,o.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(t){t&&t.hl&&!t.hl.firstChange&&t.hl.currentValue!==t.hl.previousValue&&this.scriptService.cleanup(),t&&t.useGlobalDomain&&!t.useGlobalDomain.firstChange&&t.useGlobalDomain.currentValue!==t.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(t){const i=document.getElementById(t);if(!i)throw Error(`Captcha element with id '${t}' was not found`);this.captchaElem=i}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(t){this.currentResponse=t,this.success.next(t),this.zone.run(()=>{this.onChange(t),this.onTouched(t)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",t=>{this.onloadCallback(t)},this.hl)}onloadCallback(t){if(this.reCaptchaApi=t,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const t=this.renderer.createElement("div");t.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,t),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(t){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(o.zs3),o.Y36(r_))},n.\u0275dir=o.lG2({type:n,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[o.TTD]}),n})();var _f=(()=>{return(n=_f||(_f={}))[n.InvisibleReCaptcha=0]="InvisibleReCaptcha",n[n.ReCaptcha2=1]="ReCaptcha2",_f;var n})();let ul=(()=>{class n extends k1{constructor(t,i,r,s){super(t,i,r,s),this.renderer=t,this.zone=i,this.injector=r,this.scriptService=s,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=_f.ReCaptcha2}ngOnChanges(t){super.ngOnChanges(t)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:t=>this.zone.run(()=>this.handleCallback(t)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(o.zs3),o.Y36(r_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-recaptcha2"]],viewQuery:function(t,i){if(1&t&&o.Gf(Ng,5),2&t){let r;o.iGM(r=o.CRH())&&(i.captchaWrapperElem=r.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[o._Bn([{provide:os,useExisting:(0,o.Gpc)(()=>n),multi:!0}]),o.qOj,o.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(t,i){1&t&&o._UZ(0,"div",null,0)},encapsulation:2}),n})(),Lg=(()=>{class n{constructor(t,i){this.scriptService=t,this.zone=i}execute(t,i,r,s,a){this.executeAsPromise(t,i,s).then(r).catch(d=>a?a(d):console.error(d))}executeAsPromise(t,i,r){return new Promise((s,a)=>{this.scriptService.registerCaptchaScript(r||{},t,g=>{this.zone.runOutsideAngular(()=>{try{g.execute(t,{action:i}).then(v=>this.zone.run(()=>s(v)))}catch(v){a(v)}})})})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(r_),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[r_,Lg],imports:[Gi]}),n})();var ir=R(7579);class Ns extends ir.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const xd=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var dl=R(4671),vf=R(9672);function cu(...n){const e=(0,no.yG)(n),t=(0,no.jO)(n),{args:i,keys:r}=nE(n);if(0===i.length)return(0,fi.D)([],e);const s=new er.y(function bf(n,e,t=dl.y){return i=>{Ad(e,()=>{const{length:r}=n,s=new Array(r);let a=r,d=r;for(let f=0;f<r;f++)Ad(e,()=>{const g=(0,fi.D)(n[f],e);let v=!1;g.subscribe((0,hr.x)(i,I=>{s[f]=I,v||(v=!0,d--),d||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>C0(r,a):dl.y));return t?s.pipe(Vn(t)):s}function Ad(n,e,t){n?(0,vf.f)(t,n,e):e()}var hl=R(8189);function uu(...n){return function wf(){return(0,hl.J)(1)}()((0,fi.D)(n,(0,no.yG)(n)))}function Md(n){return new er.y(e=>{(0,Sg.Xf)(n()).subscribe(e)})}var VE=R(9635);function If(n,e){const t=(0,Li.m)(n)?n:()=>n,i=r=>r.error(t());return new er.y(e?r=>e.schedule(i,0,r):i)}var du=R(515),hb=R(727);function s_(){return(0,Vr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,hr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class fb extends er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hb.w0;const t=this.getSubject();e.add(this.source.subscribe((0,hr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hb.w0.EMPTY)}return e}refCount(){return s_()(this)}}function Dr(n,e){return(0,Vr.e)((t,i)=>{let r=null,s=0,a=!1;const d=()=>a&&!r&&i.complete();t.subscribe((0,hr.x)(i,f=>{r?.unsubscribe();let g=0;const v=s++;(0,Sg.Xf)(n(f,v)).subscribe(r=(0,hr.x)(i,I=>i.next(e?e(f,I,v,g++):I),()=>{r=null,d()}))},()=>{a=!0,d()}))})}function Cf(n){return n<=0?()=>du.E:(0,Vr.e)((e,t)=>{let i=0;e.subscribe((0,hr.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Fg(...n){const e=(0,no.yG)(n);return(0,Vr.e)((t,i)=>{(e?uu(n,t,e):uu(n,t)).subscribe(i)})}function o_(n){return(0,Vr.e)((e,t)=>{let i=!1;e.subscribe((0,hr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function $E(n=UE){return(0,Vr.e)((e,t)=>{let i=!1;e.subscribe((0,hr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function UE(){return new xd}function fl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Tr((r,s)=>n(r,s,i)):dl.y,Cf(1),t?o_(e):$E(()=>new xd))}var ws=R(8505);function pl(n){return(0,Vr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,hr.x)(t,void 0,void 0,a=>{s=(0,Sg.Xf)(n(a,pl(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function pb(n,e,t,i,r){return(s,a)=>{let d=t,f=e,g=0;s.subscribe((0,hr.x)(a,v=>{const I=g++;f=d?n(f,v,I):(d=!0,v),i&&a.next(f)},r&&(()=>{d&&a.next(f),a.complete()})))}}function Bg(n,e){return(0,Vr.e)(pb(n,e,arguments.length>=2,!0))}function Ef(n){return n<=0?()=>du.E:(0,Vr.e)((e,t)=>{let i=[];e.subscribe((0,hr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Vg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Tr((r,s)=>n(r,s,i)):dl.y,Ef(1),t?o_(e):$E(()=>new xd))}function Tf(n){return(0,Vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const jn="primary",Od=Symbol("RouteTitle");class HE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hu(n){return new HE(n)}function zE(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],d=n[s];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Jo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!mb(n[r],e[r]))return!1;return!0}function mb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function GE(n){return Array.prototype.concat.apply([],n)}function yb(n){return n.length>0?n[n.length-1]:null}function ls(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function tc(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,fi.D)(Promise.resolve(n)):fn(n)}const qE={exact:function vb(n,e,t){if(!kd(n.segments,e.segments)||!$g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!vb(n.children[i],e.children[i],t))return!1;return!0},subset:bb},a_={exact:function YE(n,e){return Jo(n,e)},subset:function KE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mb(n[t],e[t]))},ignored:()=>!0};function l_(n,e,t){return qE[t.paths](n.root,e.root,t.matrixParams)&&a_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bb(n,e,t){return wb(n,e,e.segments,t)}function wb(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!kd(r,t)||e.hasChildren()||!$g(r,t,i))}if(n.segments.length===t.length){if(!kd(n.segments,t)||!$g(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!bb(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(kd(n.segments,r)&&$g(n.segments,r,i)&&n.children[jn])&&wb(n.children[jn],e,s,i)}}function $g(n,e,t){return e.every((i,r)=>a_[t](n[r].parameters,i.parameters))}class fu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return QE.serialize(this)}}class ri{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ls(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u_(this)}}class c_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hu(this.parameters)),this._parameterMap}toString(){return eT(this)}}function kd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ib=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Rr},providedIn:"root"}),n})();class Rr{parse(e){const t=new iT(e);return new fu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ug(e.root,!0)}`,i=function L1(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${d_(t)}=${d_(r)}`).join("&"):`${d_(t)}=${d_(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function XE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QE=new Rr;function u_(n){return n.segments.map(e=>eT(e)).join("/")}function Ug(n,e){if(!n.hasChildren())return u_(n);if(e){const t=n.children[jn]?Ug(n.children[jn],!1):"",i=[];return ls(n.children,(r,s)=>{s!==jn&&i.push(`${s}:${Ug(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ZE(n,e){let t=[];return ls(n.children,(i,r)=>{r===jn&&(t=t.concat(e(i,r)))}),ls(n.children,(i,r)=>{r!==jn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===jn?[Ug(n.children[jn],!1)]:[`${r}:${Ug(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jn]?`${u_(n)}/${t[0]}`:`${u_(n)}/(${t.join("//")})`}}function Cb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d_(n){return Cb(n).replace(/%3B/gi,";")}function h_(n){return Cb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nc(n){return decodeURIComponent(n)}function JE(n){return nc(n.replace(/\+/g,"%20"))}function eT(n){return`${h_(n.path)}${function tT(n){return Object.keys(n).map(e=>`;${h_(e)}=${h_(n[e])}`).join("")}(n.parameters)}`}const nT=/^[^\/()?;=#]+/;function Eb(n){const e=n.match(nT);return e?e[0]:""}const Tb=/^[^=?&#]+/,Oa=/^[^&#]+/;class iT{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ri([],{}):new ri([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[jn]=new ri(e,t)),i}parseSegment(){const e=Eb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new c_(nc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Eb(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Eb(this.remaining);r&&(i=r,this.capture(i))}e[nc(t)]=nc(i)}parseQueryParam(e){const t=function Sb(n){const e=n.match(Tb);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function F1(n){const e=n.match(Oa);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=JE(t),s=JE(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Eb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=jn);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[jn]:new ri([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function ea(n){return n.segments.length>0?new ri([],{[jn]:n}):n}function ro(n){const e={};for(const i of Object.keys(n.children)){const s=ro(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function ka(n){if(1===n.numberOfChildren&&n.children[jn]){const e=n.children[jn];return new ri(n.segments.concat(e.segments),e.children)}return n}(new ri(n.segments,e))}function pu(n){return n instanceof fu}function $1(n,e,t,i,r){if(0===t.length)return Sf(e.root,e.root,e.root,i,r);const s=function xb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ls(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new rT(t,e,i)}(t);return s.toRoot()?Sf(e.root,e.root,new ri([],{}),i,r):function a(f){const g=function U1(n,e,t,i){if(n.isAbsolute)return new Rd(e.root,!0,0);if(-1===i)return new Rd(t,t===e.root,0);return function Ab(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Rd(i,!1,r-s)}(t,i+(Pd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),v=g.processChildren?gu(g.segmentGroup,g.index,s.commands):Hg(g.segmentGroup,g.index,s.commands);return Sf(e.root,g.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function Pd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ic(n){return"object"==typeof n&&null!=n&&n.outlets}function Sf(n,e,t,i,r){let a,s={};i&&ls(i,(f,g)=>{s[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),a=n===e?t:Db(n,e,t);const d=ea(ro(a));return new fu(d,s,r)}function Db(n,e,t){const i={};return ls(n.children,(r,s)=>{i[s]=r===e?t:Db(r,e,t)}),new ri(n.segments,i)}class rT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Pd(i[0]))throw new o.vHH(4003,!1);const r=i.find(ic);if(r&&r!==yb(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Hg(n,e,t){if(n||(n=new ri([],{})),0===n.segments.length&&n.hasChildren())return gu(n,e,t);const i=function oT(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],d=t[i];if(ic(d))break;const f=`${d}`,g=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!Ob(f,g,a))return s;i+=2}else{if(!Ob(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ri(n.segments.slice(0,i.pathIndex),{});return s.children[jn]=new ri(n.segments.slice(i.pathIndex),n.children),gu(s,0,r)}return i.match&&0===r.length?new ri(n.segments,{}):i.match&&!n.hasChildren()?g_(n,e,t):i.match?gu(n,0,r):g_(n,e,t)}function gu(n,e,t){if(0===t.length)return new ri(n.segments,{});{const i=function sT(n){return ic(n[0])?n[0].outlets:{[jn]:n}}(t),r={};return ls(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=Hg(n.children[a],e,s))}),ls(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new ri(n.segments,r)}}function g_(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(ic(s)){const f=aT(s.outlets);return new ri(i,f)}if(0===r&&Pd(t[0])){i.push(new c_(n.segments[e].path,Mb(t[0]))),r++;continue}const a=ic(s)?s.outlets[jn]:`${s}`,d=r<t.length-1?t[r+1]:null;a&&d&&Pd(d)?(i.push(new c_(a,Mb(d))),r+=2):(i.push(new c_(a,{})),r++)}return new ri(i,{})}function aT(n){const e={};return ls(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=g_(new ri([],{}),0,t))}),e}function Mb(n){const e={};return ls(n,(t,i)=>e[i]=`${t}`),e}function Ob(n,e,t){return n==t.path&&Jo(e,t.parameters)}class gl{constructor(e,t){this.id=e,this.url=t}}class zg extends gl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mu extends gl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class m_ extends gl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lT extends gl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H1 extends gl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z1 extends gl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j1 extends gl{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G1 extends gl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W1 extends gl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cT{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=kb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Pb(e,this._root).map(t=>t.value)}}function kb(n,e){if(n===e.value)return e;for(const t of e.children){const i=kb(n,t);if(i)return i}return null}function Pb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Pb(n,t);if(i.length)return i.unshift(e),i}return[]}class ml{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rb extends uT{constructor(e,t){super(e),this.snapshot=t,y_(this,e)}toString(){return this.snapshot.toString()}}function Nb(n,e){const t=function dT(n,e){const a=new jg([],{},{},"",{},jn,e,null,n.root,-1,{});return new Fb("",new ml(a,[]))}(n,e),i=new Ns([new c_("",{})]),r=new Ns({}),s=new Ns({}),a=new Ns({}),d=new Ns(""),f=new so(i,r,a,d,s,jn,e,t.root);return f.snapshot=t.root,new Rb(new ml(f,[]),t)}class so{constructor(e,t,i,r,s,a,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.pipe((0,vn.U)(g=>g[Od]))??fn(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vn.U)(e=>hu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vn.U)(e=>hu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lb(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function hT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class jg{constructor(e,t,i,r,s,a,d,f,g,v,I,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.[Od],this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=v,this._correctedLastPathIndex=D??v,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fb extends uT{constructor(e,t){super(t),this.url=e,y_(this,t)}toString(){return yu(this._root)}}function y_(n,e){e.value._routerState=n,e.children.forEach(t=>y_(n,t))}function yu(n){const e=n.children.length>0?` { ${n.children.map(yu).join(", ")} } `:"";return`${n.value}${e}`}function Bb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jo(e.params,t.params)||n.params.next(t.params),function jE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vb(n,e){const t=Jo(n.params,e.params)&&function N1(n,e){return kd(n,e)&&n.every((t,i)=>Jo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vb(n.parent,e.parent))}function __(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function $b(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return __(n,i,r);return __(n,i)})}(n,e,t);return new ml(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(d=>__(n,d)),a}}const i=function KN(n){return new so(new Ns(n.url),new Ns(n.params),new Ns(n.queryParams),new Ns(n.fragment),new Ns(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>__(n,s));return new ml(i,r)}}const v_="ngNavigationCancelingError";function Ub(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=pu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=eM(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function eM(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[v_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function kn(n){return fT(n)&&pu(n.url)}function fT(n){return n&&n[v_]}class tM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ld,this.attachRef=null}}let Ld=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new tM,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rc=!1;let Hb=(()=>{class n{constructor(t,i,r,s,a){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||jn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,rc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,rc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,rc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new o.vHH(4013,rc);this._activatedRoute=t;const r=this.location,a=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new b_(t,d,r.injector);if(i&&function w_(n){return!!n.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(a);this.activated=r.createComponent(g,r.length,f)}else this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ld),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b_{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===so?this.route:e===Ld?this.childContexts:this.parent.get(e,t)}}let lr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},dependencies:[Hb],encapsulation:2}),n})();function nM(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zb(n){const e=n.children&&n.children.map(zb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jn&&(t.component=lr),t}function ta(n){return n.outlet||jn}function xf(n,e){const t=n.filter(i=>ta(i)===e);return t.push(...n.filter(i=>ta(i)!==e)),t}function Gg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lM{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Bb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Nd(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),ls(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Nd(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Nd(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Nd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new X1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Z1(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Bb(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),Bb(d.route.value),this.activateChildRoutes(e,null,a.children)}else{const d=Gg(r.snapshot),f=d?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=f,a.injector=d,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class Wg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qg{constructor(e,t){this.component=e,this.route=t}}function mT(n,e,t){const i=n._root;return sc(i,e?e._root:null,t,[i.value])}function Af(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:i}function sc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nd(e);return n.children.forEach(a=>{(function Yg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function cM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kd(n.url,e.url)||!Jo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vb(n,e)||!Jo(n.queryParams,e.queryParams);default:return!Vb(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Wg(i)):(s.data=a.data,s._resolvedData=a._resolvedData),sc(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new qg(d.outlet.component,a))}else a&&Kg(e,d,r),r.canActivateChecks.push(new Wg(i)),sc(n,null,s.component?d?d.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),ls(s,(a,d)=>Kg(a,t.getContext(d),r)),r}function Kg(n,e,t){const i=Nd(n),r=n.value;ls(i,(s,a)=>{Kg(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new qg(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Zg(n){return"function"==typeof n}function IT(n){return n instanceof xd||"EmptyError"===n?.name}const jb=Symbol("INITIAL_VALUE");function Qg(){return Dr(n=>cu(n.map(e=>e.pipe(Cf(1),Fg(jb)))).pipe((0,vn.U)(e=>{for(const t of e)if(!0!==t){if(t===jb)return jb;if(!1===t||t instanceof fu)return t}return!0}),Tr(e=>e!==jb),Cf(1)))}function TT(n){return(0,VE.z)((0,ws.b)(e=>{if(pu(e))throw Ub(0,e)}),(0,vn.U)(e=>!0===e))}const E_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ST(n,e,t,i,r){const s=Gb(n,e,t);return s.matched?function yM(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?fn(r.map(a=>{const d=Af(a,n);return tc(function dM(n){return n&&Zg(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(Qg(),TT()):fn(!0)}(i=nM(e,i),e,t).pipe((0,vn.U)(a=>!0===a?s:{...E_})):fn(s)}function Gb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...E_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||zE)(t,n,e);if(!r)return{...E_};const s={};ls(r.posParams,(d,f)=>{s[f]=d.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function _u(n,e,t,i,r="corrected"){if(t.length>0&&function vM(n,e,t){return t.some(i=>T_(n,e,i)&&ta(i)!==jn)}(n,t,i)){const a=new ri(e,function DT(n,e,t,i){const r={};r[jn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ta(s)!==jn){const a=new ri([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[ta(s)]=a}return r}(n,e,i,new ri(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function xT(n,e,t){return t.some(i=>T_(n,e,i))}(n,t,i)){const a=new ri(n.segments,function _M(n,e,t,i,r,s){const a={};for(const d of i)if(T_(n,t,d)&&!r[ta(d)]){const f=new ri([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[ta(d)]=f}return{...r,...a}}(n,e,t,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new ri(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function T_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Wb(n,e,t,i){return!!(ta(n)===i||i!==jn&&T_(e,t,n))&&("**"===n.path||Gb(e,n,t).matched)}function AT(n,e,t){return 0===e.length&&!n.children[t]}const Mf=!1;class S_{constructor(e){this.segmentGroup=e||null}}class qb{constructor(e){this.urlTree=e}}function Of(n){return If(new S_(n))}function MT(n){return If(new qb(n))}class IM{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=_u(this.urlTree.root,[],[],this.config).segmentGroup,t=new ri(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,jn).pipe((0,vn.U)(s=>this.createUrlTree(ro(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pl(s=>{if(s instanceof qb)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof S_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,jn).pipe((0,vn.U)(r=>this.createUrlTree(ro(r),e.queryParams,e.fragment))).pipe(pl(r=>{throw r instanceof S_?this.noMatchError(r):r}))}noMatchError(e){return new o.vHH(4002,Mf)}createUrlTree(e,t,i){const r=ea(e);return new fu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,vn.U)(s=>new ri([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,fi.D)(r).pipe(Do(s=>{const a=i.children[s],d=xf(t,s);return this.expandSegmentGroup(e,d,a,s).pipe((0,vn.U)(f=>({segment:f,outlet:s})))}),Bg((s,a)=>(s[a.outlet]=a.segment,s),{}),Vg())}expandSegment(e,t,i,r,s,a){return(0,fi.D)(i).pipe(Do(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,a).pipe(pl(g=>{if(g instanceof S_)return fn(null);throw g}))),fl(d=>!!d),pl((d,f)=>{if(IT(d))return AT(t,r,s)?fn(new ri([],{})):Of(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,a,d){return Wb(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):Of(t):Of(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?MT(s):this.lineralizeSegments(i,s).pipe((0,Ni.z)(a=>{const d=new ri(a,{});return this.expandSegment(e,d,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:v}=Gb(t,r,s);if(!d)return Of(t);const I=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?MT(I):this.lineralizeSegments(r,I).pipe((0,Ni.z)(D=>this.expandSegment(e,t,i,D.concat(g),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=nM(i,e),i.loadChildren?(i._loadedRoutes?fn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,vn.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new ri(r,{})))):fn(new ri(r,{}))):ST(t,i,r,e).pipe(Dr(({matched:a,consumedSegments:d,remainingSegments:f})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Ni.z)(v=>{const I=v.injector??e,D=v.routes,{segmentGroup:A,slicedSegments:P}=_u(t,d,f,D),V=new ri(A.segments,A.children);if(0===P.length&&V.hasChildren())return this.expandChildren(I,D,V).pipe((0,vn.U)(He=>new ri(d,He)));if(0===D.length&&0===P.length)return fn(new ri(d,{}));const $=ta(i)===s;return this.expandSegment(I,V,D,P,$?jn:s,!0).pipe((0,vn.U)(Ie=>new ri(d.concat(Ie.segments),Ie.children)))})):Of(t)))}getChildConfig(e,t,i){return t.children?fn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?fn({routes:t._loadedRoutes,injector:t._loadedInjector}):function mM(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?fn(!0):fn(r.map(a=>{const d=Af(a,n);return tc(function vT(n){return n&&Zg(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(Qg(),TT())}(e,t,i).pipe((0,Ni.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ws.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function wM(n){return If(eM(Mf,3))}())):fn({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return fn(i);if(r.numberOfChildren>1||!r.children[jn])return If(new o.vHH(4e3,Mf));r=r.children[jn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new fu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ls(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return ls(t.children,(d,f)=>{a[f]=this.createSegmentGroup(e,d,i,r)}),new ri(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new o.vHH(4001,Mf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class CM{}class SM{constructor(e,t,i,r,s,a,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=_u(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jn).pipe((0,vn.U)(t=>{if(null===t)return null;const i=new jg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ml(i,t),s=new Fb(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Lb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,fi.D)(Object.keys(i.children)).pipe(Do(r=>{const s=i.children[r],a=xf(t,r);return this.processSegmentGroup(e,a,s,r)}),Bg((r,s)=>r&&s?(r.push(...s),r):null),function gb(n,e=!1){return(0,Vr.e)((t,i)=>{let r=0;t.subscribe((0,hr.x)(i,s=>{const a=n(s,r++);(a||e)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),o_(null),Vg(),(0,vn.U)(r=>{if(null===r)return null;const s=Kb(r);return function DM(n){n.sort((e,t)=>e.value.outlet===jn?-1:t.value.outlet===jn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,fi.D)(t).pipe(Do(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,s)),fl(a=>!!a),pl(a=>{if(IT(a))return AT(i,r,s)?fn([]):fn(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Wb(t,i,r,s))return fn(null);let a;if("**"===t.path){const d=r.length>0?yb(r).parameters:{},f=RT(i)+r.length;a=fn({snapshot:new jg(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NT(t),ta(t),t.component??t._loadedComponent??null,t,PT(i),f,LT(t),f),consumedSegments:[],remainingSegments:[]})}else a=ST(i,t,r,e).pipe((0,vn.U)(({matched:d,consumedSegments:f,remainingSegments:g,parameters:v})=>{if(!d)return null;const I=RT(i)+f.length;return{snapshot:new jg(f,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NT(t),ta(t),t.component??t._loadedComponent??null,t,PT(i),I,LT(t),I),consumedSegments:f,remainingSegments:g}}));return a.pipe(Dr(d=>{if(null===d)return fn(null);const{snapshot:f,consumedSegments:g,remainingSegments:v}=d;e=t._injector??e;const I=t._loadedInjector??e,D=function xM(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:A,slicedSegments:P}=_u(i,g,v,D.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===P.length&&A.hasChildren())return this.processChildren(I,D,A).pipe((0,vn.U)($=>null===$?null:[new ml(f,$)]));if(0===D.length&&0===P.length)return fn([new ml(f,[])]);const V=ta(t)===s;return this.processSegment(I,D,A,P,V?jn:s).pipe((0,vn.U)($=>null===$?null:[new ml(f,$)]))}))}}function AM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Kb(n){const e=[],t=new Set;for(const i of n){if(!AM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Kb(i.children);e.push(new ml(i.value,r))}return e.filter(i=>!t.has(i))}function PT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function RT(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function NT(n){return n.data||{}}function LT(n){return n.resolve||{}}function BT(n){return"string"==typeof n.title||null===n.title}function Jg(n){return Dr(e=>{const t=n(e);return t?(0,fi.D)(t).pipe((0,vn.U)(()=>e)):fn(e)})}let VT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===jn);return i}getResolvedTitleForRoute(t){return t.data[Od]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ew)},providedIn:"root"}),n})(),ew=(()=>{class n extends VT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Up))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $T{}class JN extends class kM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kf=new o.OlP("",{providedIn:"root",factory:()=>({})}),tm=new o.OlP("ROUTES");let tw=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return fn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=tc(t.loadComponent()).pipe((0,ws.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Tf(()=>{this.componentLoaders.delete(t)})),r=new fb(i,()=>new ir.x).pipe(s_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return fn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,vn.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,v=!1;Array.isArray(d)?g=d:(f=d.create(t).injector,g=GE(f.get(tm,[],o.XFs.Self|o.XFs.Optional)));return{routes:g.map(zb),injector:f}}),Tf(()=>{this.childrenLoaders.delete(i)})),a=new fb(s,()=>new ir.x).pipe(s_());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return tc(t()).pipe((0,Ni.z)(i=>i instanceof o.YKP||Array.isArray(i)?fn(i):(0,fi.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zT{}class nw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jT(n){throw n}function GT(n,e,t){return e.parse("/")}const WT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qT(){const n=(0,o.f3M)(Ib),e=(0,o.f3M)(Ld),t=(0,o.f3M)(Fe),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(tm,{optional:!0})??[],a=(0,o.f3M)(kf,{optional:!0})??{},d=(0,o.f3M)(ew),f=(0,o.f3M)(VT,{optional:!0}),g=(0,o.f3M)(zT,{optional:!0}),v=(0,o.f3M)($T,{optional:!0}),I=new Fi(null,n,e,t,i,r,GE(s));return g&&(I.urlHandlingStrategy=g),v&&(I.routeReuseStrategy=v),I.titleStrategy=f??d,function RM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,I),I}let Fi=(()=>{class n{constructor(t,i,r,s,a,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ir.x,this.errorHandler=jT,this.malformedUriErrorHandler=GT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>fn(void 0),this.urlHandlingStrategy=new nw,this.routeReuseStrategy=new JN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(tw),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new Y1(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new q1(D)),this.ngModule=a.get(o.h0i),this.console=a.get(o.c2e);const I=a.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function WE(){return new fu(new ri([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nb(this.currentUrlTree,this.rootComponentType),this.transitions=new Ns({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Tr(r=>0!==r.id),(0,vn.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Dr(r=>{let s=!1,a=!1;return fn(r).pipe((0,ws.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return NM(d.source)&&(this.browserUrlTree=d.extractedUrl),fn(d).pipe(Dr(I=>{const D=this.transitions.getValue();return i.next(new zg(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),D!==this.transitions.getValue()?du.E:Promise.resolve(I)}),function OT(n,e,t,i){return Dr(r=>function Yb(n,e,t,i,r){return new IM(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,vn.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ws.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function MM(n,e,t,i,r,s){return(0,Ni.z)(a=>function TM(n,e,t,i,r,s,a="emptyOnly",d="legacy"){return new SM(n,e,t,i,r,a,d,s).recognize().pipe(Dr(f=>null===f?function EM(n){return new er.y(e=>e.error(n))}(new CM):fn(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe((0,vn.U)(d=>({...a,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ws.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(A,I)}this.browserUrlTree=I.urlAfterRedirects}const D=new H1(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(D)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:A,source:P,restoredState:V,extras:$}=d,ae=new zg(D,this.serializeUrl(A),P,V);i.next(ae);const Ie=Nb(A,this.rootComponentType).snapshot;return fn(r={...d,targetSnapshot:Ie,urlAfterRedirects:A,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),du.E}),(0,ws.b)(d=>{const f=new z1(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,vn.U)(d=>r={...d,guards:mT(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function CT(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?fn({...t,guardsResult:!0}):function C_(n,e,t,i){return(0,fi.D)(n).pipe((0,Ni.z)(r=>function gM(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?fn(s.map(d=>{const f=Gg(e)??r,g=Af(d,f);return tc(function wT(n){return n&&Zg(n.canDeactivate)}(g)?g.canDeactivate(n,e,t,i):f.runInContext(()=>g(n,e,t,i))).pipe(fl())})).pipe(Qg()):fn(!0)}(r.component,r.route,t,e,i)),fl(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Ni.z)(d=>d&&function _T(n){return"boolean"==typeof n}(d)?function hM(n,e,t,i){return(0,fi.D)(e).pipe(Do(r=>uu(function ET(n,e){return null!==n&&e&&e(new K1(n)),fn(!0)}(r.route.parent,i),function fM(n,e){return null!==n&&e&&e(new Q1(n)),fn(!0)}(r.route,i),function pM(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function yT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>Md(()=>fn(a.guards.map(f=>{const g=Gg(a.node)??t,v=Af(f,g);return tc(function uM(n){return n&&Zg(n.canActivateChild)}(v)?v.canActivateChild(i,n):g.runInContext(()=>v(i,n))).pipe(fl())})).pipe(Qg())));return fn(s).pipe(Qg())}(n,r.path,t),function Xg(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return fn(!0);const r=i.map(s=>Md(()=>{const a=Gg(e)??t,d=Af(s,a);return tc(function bT(n){return n&&Zg(n.canActivate)}(d)?d.canActivate(e,n):a.runInContext(()=>d(e,n))).pipe(fl())}));return fn(r).pipe(Qg())}(n,r.route,t))),fl(r=>!0!==r,!0))}(i,s,n,e):fn(d)),(0,vn.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,ws.b)(d=>{if(r.guardsResult=d.guardsResult,pu(d.guardsResult))throw Ub(0,d.guardsResult);const f=new j1(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Tr(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Jg(d=>{if(d.guards.canActivateChecks.length)return fn(d).pipe((0,ws.b)(f=>{const g=new G1(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),Dr(f=>{let g=!1;return fn(f).pipe(function Qb(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return fn(t);let s=0;return(0,fi.D)(r).pipe(Do(a=>function Xb(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!BT(r)&&(s[Od]=r.title),function FT(n,e,t,i){const r=function Jb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return fn({});const s={};return(0,fi.D)(r).pipe((0,Ni.z)(a=>function OM(n,e,t,i){const r=Gg(e)??i,s=Af(n,r);return tc(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(fl(),(0,ws.b)(d=>{s[a]=d}))),Ef(1),function P1(n){return(0,vn.U)(()=>n)}(s),pl(a=>IT(a)?du.E:If(a)))}(s,n,e,i).pipe((0,vn.U)(a=>(n._resolvedData=a,n.data=Lb(n,t).resolve,r&&BT(r)&&(n.data[Od]=r.title),null)))}(a.route,i,n,e)),(0,ws.b)(()=>s++),Ef(1),(0,Ni.z)(a=>s===r.length?fn(t):du.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ws.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ws.b)(f=>{const g=new W1(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),Jg(d=>{const f=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,ws.b)(I=>{g.component=I}),(0,vn.U)(()=>{})));for(const I of g.children)v.push(...f(I));return v};return cu(f(d.targetSnapshot.root)).pipe(o_(),Cf(1))}),Jg(()=>this.afterPreactivation()),(0,vn.U)(d=>{const f=function Df(n,e,t){const i=__(n,e._root,t?t._root:void 0);return new Rb(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,ws.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,vn.U)(i=>(new lM(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,ws.b)({next(){s=!0},complete(){s=!0}}),Tf(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),pl(d=>{if(a=!0,fT(d)){kn(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new m_(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),kn(d)){const g=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NM(r.source)};this.scheduleNavigation(g,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new lT(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(g){r.reject(g)}}return du.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(zb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,v=f?this.currentUrlTree.fragment:a;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),$1(g,this.currentUrlTree,t,I,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=pu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function YT(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...WT}:!1===i?{...PM}:i,pu(t))return l_(this.currentUrlTree,t,r);const s=this.parseUrl(t);return l_(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new mu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let d,f,g;a?(d=a.resolve,f=a.reject,g=a.promise):g=new Promise((D,A)=>{d=D,f=A});const v=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:v,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new m_(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return qT()},providedIn:"root"}),n})();function NM(n){return"imperative"!==n}let Pf=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ir.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fi),o.Y36(so),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),im=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ir.x,this.subscription=t.events.subscribe(s=>{s instanceof mu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,a){return!!(0!==t||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fi),o.Y36(so),o.Y36(oe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class FM{}let KT=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(t=>t instanceof mu),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,d=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,fi.D)(r).pipe((0,hl.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):fn(null);const s=r.pipe((0,Ni.z)(a=>null===a?fn(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,fi.D)([s,a]).pipe((0,hl.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fi),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(FM),o.LFG(tw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x_=new o.OlP("");let iw=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new cT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Rf(n,e){return{\u0275kind:n,\u0275providers:e}}function sw(n){return[{provide:tm,multi:!0,useValue:n}]}function ZT(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const i=n.get(Fi),r=n.get(Nf);1===n.get(A_)&&i.initialNavigation(),n.get(ow,null,o.XFs.Optional)?.setUpPreloading(),n.get(x_,null,o.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Nf=new o.OlP("",{factory:()=>new ir.x}),A_=new o.OlP("",{providedIn:"root",factory:()=>1});const ow=new o.OlP("");function eS(n){return Rf(0,[{provide:ow,useExisting:KT},{provide:FM,useExisting:n}])}const lw=new o.OlP("ROUTER_FORROOT_GUARD"),VM=[Fe,{provide:Ib,useClass:Rr},{provide:Fi,useFactory:qT},Ld,{provide:so,useFactory:function rw(n){return n.routerState.root},deps:[Fi]},tw];function $M(){return new o.PXZ("Router",Fi)}let tS=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[VM,[],sw(t),{provide:lw,useFactory:yl,deps:[[Fi,new o.FiY,new o.tp0]]},{provide:kf,useValue:i||{}},i?.useHash?{provide:oe,useClass:tt}:{provide:oe,useClass:Ae},{provide:x_,useFactory:()=>{const n=(0,o.f3M)(Fi),e=(0,o.f3M)(bo),t=(0,o.f3M)(kf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new iw(n,e,t)}},i?.preloadingStrategy?eS(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:$M},i?.initialNavigation?HM(i):[],[{provide:M_,useFactory:ZT},{provide:o.tb,multi:!0,useExisting:M_}]]}}static forChild(t){return{ngModule:n,providers:[sw(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(lw,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[lr]}),n})();function yl(n){return"guarded"}function HM(n){return["disabled"===n.initialNavigation?Rf(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Fi);return()=>{e.setUpLocationChangeListener()}}},{provide:A_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Rf(2,[{provide:A_,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(se,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const a=e.get(Fi),d=e.get(Nf);(function r(s){e.get(Fi).events.pipe(Tr(d=>d instanceof mu||d instanceof m_||d instanceof lT),(0,vn.U)(d=>d instanceof mu||d instanceof m_&&(0===d.code||1===d.code)&&null),Tr(d=>null!==d),Cf(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||d.closed?fn(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const M_=new o.OlP("");var O_=R(6451),Fd=R(5363),GM=R(6063);class WM extends ir.x{constructor(e=1/0,t=1/0,i=GM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;t||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)d=f;d&&i.splice(0,d+1)}}}var nS=R(3099);function uw(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,nS.B)({connector:()=>new WM(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function k_(n,e){return(0,Li.m)(e)?Dr(()=>n,e):Dr(()=>n)}var P_=R(9468),Is=R(4976),Pa=R(2011);R(259);var ht=R(5861),Bd=R(6881),lm=R(4859),_i=R(2090),xr=R(1877);const vu=new Map,rS={activated:!1,tokenObservers:[]},iO={initialized:!1,enabled:!1};function Nr(n){return vu.get(n)||Object.assign({},rS)}function cm(){return iO}class sO{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ht.Z)(function*(){t.stop();try{t.pending=new _i.BH,yield function oO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _i.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qr=new _i.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function N_(n){if(!Nr(n).activated)throw Qr.create("use-before-activation",{appName:n.name})}function pw(n,e){return L_.apply(this,arguments)}function L_(){return(L_=(0,ht.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(e),headers:i};let a,d;try{a=yield fetch(n,s)}catch(I){throw Qr.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==a.status)throw Qr.create("fetch-status-error",{httpStatus:a.status});try{d=yield a.json()}catch(I){throw Qr.create("fetch-parse-error",{originalErrorMessage:I?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),v=Date.now();return{token:d.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})).apply(this,arguments)}function Vd(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const $d="firebase-app-check-store";let F_=null;function dO(){return F_||(F_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Qr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($d,{keyPath:"compositeKey"})}}catch(t){e(Qr.create("storage-open",{originalErrorMessage:t?.message}))}}),F_)}function mw(){return(mw=(0,ht.Z)(function*(n,e){const i=(yield dO()).transaction($d,"readwrite"),s=i.objectStore($d).put({compositeKey:n,value:e});return new Promise((a,d)=>{s.onsuccess=f=>{a()},i.onerror=f=>{var g;d(Qr.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const hm=new xr.Yd("@firebase/app-check");function V_(n,e){return(0,_i.hl)()?function fO(n,e){return function gw(n,e){return mw.apply(this,arguments)}(function uS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function U_(){return cm().enabled}function vw(){return bw.apply(this,arguments)}function bw(){return(bw=(0,ht.Z)(function*(){const n=cm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fS={error:"UNKNOWN_ERROR"};function hL(n){return _i.US.encodeString(JSON.stringify(n),!1)}function ww(n){return pS.apply(this,arguments)}function pS(){return(pS=(0,ht.Z)(function*(n,e=!1){const t=n.app;N_(t);const i=Nr(t);let s,r=i.token;if(r&&!Ud(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(Ud(f)?r=f:yield V_(t,void 0))}if(!e&&r&&Ud(r))return{token:r.token};let d,a=!1;if(U_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pw(Vd(t,yield vw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield V_(t,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Nr(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?hm.warn(f.message):hm.error(f),s=f}return r?s?d=Ud(r)?{token:r.token,internalError:s}:fm(s):(d={token:r.token},i.token=r,yield V_(t,r)):d=fm(s),a&&yO(t,d),d})).apply(this,arguments)}function gS(){return(gS=(0,ht.Z)(function*(n){const e=n.app;N_(e);const{provider:t}=Nr(e);if(U_()){const i=yield vw(),{token:r}=yield pw(Vd(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function yS(n,e){const t=Nr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function mO(n){const{app:e}=n,t=Nr(e);let i=t.tokenRefresher;i||(i=function H_(n){const{app:e}=n;return new sO((0,ht.Z)(function*(){let i;if(i=Nr(e).token?yield ww(n,!0):yield ww(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Nr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function yO(n,e){const t=Nr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Ud(n){return n.expireTimeMillis-Date.now()>0}function fm(n){return{token:hL(fS),error:n}}class _S{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Nr(this.app);for(const t of e)yS(this.app,t.next);return Promise.resolve()}}const AS="app-check-internal";!function Tw(){(0,Bd._registerComponent)(new lm.wA("app-check",n=>function vS(n,e){return new _S(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(AS).initialize()})),(0,Bd._registerComponent)(new lm.wA(AS,n=>function fL(n){return{getToken:e=>ww(n,e),getLimitedUseToken:()=>function gO(n){return gS.apply(this,arguments)}(n),addTokenListener:e=>function mS(n,e,t,i){const{app:r}=n,s=Nr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Ud(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),mO(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mO(n))}(n,"INTERNAL",e),removeTokenListener:e=>yS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bd.registerVersion)("@firebase/app-check","0.8.0")}();class gm{constructor(){return(0,Is.vb)("app-check")}}typeof window<"u"&&window;var SO=R(9260);const NS=new o.OlP("angularfire2.auth.use-emulator"),LS=new o.OlP("angularfire2.auth.settings"),Dw=new o.OlP("angularfire2.auth.tenant-id"),xO=new o.OlP("angularfire2.auth.langugage-code"),xw=new o.OlP("angularfire2.auth.use-device-language"),FS=new o.OlP("angularfire.auth.persistence"),Aw=(n,e,t,i,r,s,a,d)=>(0,Pa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),a)for(const[g,v]of Object.entries(a))f.settings[g]=v;return d&&f.setPersistence(d),f},[t,i,r,s,a,d]);let Vf=(()=>{class n{constructor(t,i,r,s,a,d,f,g,v,I,D,A){const P=new ir.x,V=fn(void 0).pipe((0,Fd.Q)(a.outsideAngular),Dr(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,2644)))),(0,vn.U)(()=>(0,Pa.on)(t,s,i)),(0,vn.U)($=>Aw($,s,d,g,v,I,f,D)),uw({bufferSize:1,refCount:!1}));if(gc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=fn(null);else{V.pipe(fl()).subscribe();const ae=V.pipe(Dr(je=>je.getRedirectResult().then(Ze=>Ze,()=>null)),Is.iC,uw({bufferSize:1,refCount:!1})),Ie=V.pipe(Dr(je=>new er.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>je.onAuthStateChanged(pt=>Ze.next(pt),pt=>Ze.error(pt),()=>Ze.complete()))})))),He=V.pipe(Dr(je=>new er.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>je.onIdTokenChanged(pt=>Ze.next(pt),pt=>Ze.error(pt),()=>Ze.complete()))}))));this.authState=ae.pipe(k_(Ie),(0,P_.R)(a.outsideAngular),(0,Fd.Q)(a.insideAngular)),this.user=ae.pipe(k_(He),(0,P_.R)(a.outsideAngular),(0,Fd.Q)(a.insideAngular)),this.idToken=this.user.pipe(Dr(je=>je?(0,fi.D)(je.getIdToken()):fn(null))),this.idTokenResult=this.user.pipe(Dr(je=>je?(0,fi.D)(je.getIdTokenResult()):fn(null))),this.credential=(0,O_.T)(ae,P,this.authState.pipe(Tr(je=>!je))).pipe((0,vn.U)(je=>je?.user?je:null),(0,P_.R)(a.outsideAngular),(0,Fd.Q)(a.insideAngular))}return(0,Pa.pX)(this,V,s,{spy:{apply:($,ae,Ie)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&Ie.then(He=>P.next(He))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Pa.Dh),o.LFG(Pa.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Is.HU),o.LFG(NS,8),o.LFG(LS,8),o.LFG(Dw,8),o.LFG(xO,8),o.LFG(xw,8),o.LFG(FS,8),o.LFG(gm,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mw=(()=>{class n{constructor(){SO.Z.registerVersion("angularfire",Is.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Vf]}),n})();var BS=R(4986);function G_(){return(0,Vr.e)((n,e)=>{let t,i=!1;n.subscribe((0,hr.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function VS(n,e){return n===e}R(2644);var Jt,W_=R(3942),q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ia={},Y_=Y_||{},$n=q_||self;function K_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $S="closure_uid_"+(1e9*Math.random()>>>0),US=0;function MO(n,e,t){return n.call.apply(n.bind,arguments)}function OO(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ls(n,e,t){return(Ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MO:OO).apply(null,arguments)}function kw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Cs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return e.prototype[r].apply(i,a)}}function Hd(){this.s=this.s,this.o=this.o}Hd.prototype.s=!1,Hd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function IL(n){Object.prototype.hasOwnProperty.call(n,$S)&&n[$S]||(n[$S]=++US)}(this)},Hd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Pw(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ym(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(K_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Fs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fs.prototype.h=function(){this.defaultPrevented=!0};var PO=function(){if(!$n.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$n.addEventListener("test",()=>{},e),$n.removeEventListener("test",()=>{},e)}catch{}return n}();function $f(n){return/^[\s\xa0]*$/.test(n)}function vl(){var n=$n.navigator;return n&&(n=n.userAgent)?n:""}function Ra(n){return-1!=vl().indexOf(n)}function _m(n){return _m[" "](n),n}_m[" "]=function(){};var HS,n,RO=Ra("Opera"),Iu=Ra("Trident")||Ra("MSIE"),Z_=Ra("Edge"),Uf=Z_||Iu,NO=Ra("Gecko")&&!(-1!=vl().toLowerCase().indexOf("webkit")&&!Ra("Edge"))&&!(Ra("Trident")||Ra("MSIE"))&&!Ra("Edge"),EL=-1!=vl().toLowerCase().indexOf("webkit")&&!Ra("Edge");function LO(){var n=$n.document;return n?n.documentMode:void 0}e:{var Q_="",Nw=(n=vl(),NO?/rv:([^\);]+)(\)|;)/.exec(n):Z_?/Edge\/([\d\.]+)/.exec(n):Iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EL?/WebKit\/(\S+)/.exec(n):RO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nw&&(Q_=Nw?Nw[1]:""),Iu){var Lw=LO();if(null!=Lw&&Lw>parseFloat(Q_)){HS=String(Lw);break e}}HS=Q_}var jS=$n.document&&Iu&&(LO()||parseInt(HS,10))||void 0;function Hf(n,e){if(Fs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NO){e:{try{_m(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hf.$.h.call(this)}}Cs(Hf,Fs);var GS={2:"touch",3:"pen",4:"mouse"};Hf.prototype.h=function(){Hf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vm="closure_listenable_"+(1e6*Math.random()|0),FO=0;function WS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++FO,this.fa=this.ia=!1}function zf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function qS(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function X_(n){const e={};for(const t in n)e[t]=n[t];return e}const KS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZS(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<KS.length;s++)t=KS[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Bw(n){this.src=n,this.g={},this.h=0}function QS(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=kO(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(zf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vw(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}Bw.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=Vw(n,e,i,r);return-1<a?(e=n[a],t||(e.ia=!1)):((e=new WS(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var $w="closure_lm_"+(1e6*Math.random()|0),Uw={};function BO(n,e,t,i,r){if(i&&i.once)return $O(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BO(n,e[s],t,i,r);return null}return t=zw(t),n&&n[vm]?n.O(e,t,mm(i)?!!i.capture:!!i,r):VO(n,e,t,!1,i,r)}function VO(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=mm(r)?!!r.capture:!!r,d=XS(n);if(d||(n[$w]=d=new Bw(n)),(t=d.add(e,t,i,a,s)).proxy)return t;if(i=function TL(){const e=SL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)PO||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(HO(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function $O(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$O(n,e[s],t,i,r);return null}return t=zw(t),n&&n[vm]?n.P(e,t,mm(i)?!!i.capture:!!i,r):VO(n,e,t,!0,i,r)}function UO(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)UO(n,e[s],t,i,r);else i=mm(i)?!!i.capture:!!i,t=zw(t),n&&n[vm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vw(s=n.g[e],t,i,r))&&(zf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=XS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vw(e,t,i,r)),(t=-1<n?e[n]:null)&&Hw(t))}function Hw(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[vm])QS(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(HO(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=XS(e))?(QS(t,n),0==t.h&&(t.src=null,e[$w]=null)):zf(n)}}}function HO(n){return n in Uw?Uw[n]:Uw[n]="on"+n}function SL(n,e){if(n.fa)n=!0;else{e=new Hf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Hw(n),n=t.call(i,e)}return n}function XS(n){return(n=n[$w])instanceof Bw?n:null}var JS="__closure_events_fn_"+(1e9*Math.random()>>>0);function zw(n){return"function"==typeof n?n:(n[JS]||(n[JS]=function(e){return n.handleEvent(e)}),n[JS])}function cs(){Hd.call(this),this.i=new Bw(this),this.S=this,this.J=null}function l(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Fs(e,n);else if(e instanceof Fs)e.target=e.target||n;else{var r=e;ZS(e=new Fs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=c(a,i,!0,e)&&r}if(r=c(a=e.g=n,i,!0,e)&&r,r=c(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=c(a=e.g=t[s],i,!1,e)&&r}function c(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==t){var d=a.listener,f=a.la||a.src;a.ia&&QS(n.i,a),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Cs(cs,Hd),cs.prototype[vm]=!0,cs.prototype.removeEventListener=function(n,e,t,i){UO(this,n,e,t,i)},cs.prototype.N=function(){if(cs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)zf(t[i]);delete n.g[e],n.h--}}this.J=null},cs.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},cs.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var u=$n.JSON.stringify;function p(){var n=Te;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var w=new class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,n=>n.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function S(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function O(n){$n.setTimeout(()=>{throw n},0)}let F,Q=!1,Te=new class _{constructor(){this.h=this.g=null}add(e,t){const i=w.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},We=()=>{const n=$n.Promise.resolve(void 0);F=()=>{n.then(mt)}};var mt=()=>{for(var n;n=p();){try{n.h.call(n.g)}catch(t){O(t)}var e=w;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Q=!1};function Nt(n,e){cs.call(this),this.h=n||1,this.g=e||$n,this.j=Ls(this.qb,this),this.l=Date.now()}function Wt(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function hn(n,e,t){if("function"==typeof n)t&&(n=Ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:$n.setTimeout(n,e||0)}function Dn(n){n.g=hn(()=>{n.g=null,n.i&&(n.i=!1,Dn(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cs(Nt,cs),(Jt=Nt.prototype).ga=!1,Jt.T=null,Jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),l(this,"tick"),this.ga&&(Wt(this),this.start()))}},Jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jt.N=function(){Nt.$.N.call(this),Wt(this),delete this.g};class St extends Hd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&($n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(n){Hd.call(this),this.h=n,this.g={}}Cs(Mn,Hd);var wi=[];function rr(n,e,t,i){Array.isArray(t)||(t&&(wi[0]=t.toString()),t=wi);for(var r=0;r<t.length;r++){var s=BO(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Cu(n){qS(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hw(e)},n),n.g={}}function jf(){this.g=!0}function Eu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return u(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Mn.prototype.N=function(){Mn.$.N.call(this),Cu(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jf.prototype.Ea=function(){this.g=!1},jf.prototype.info=function(){};var oc={},J_=null;function Gf(){return J_=J_||new cs}function DL(n){Fs.call(this,oc.Ta,n)}function Yw(n){const e=Gf();l(e,new DL(e))}function xL(n,e){Fs.call(this,oc.STAT_EVENT,n),this.stat=e}function No(n){const e=Gf();l(e,new xL(e,n))}function AL(n,e){Fs.call(this,oc.Ua,n),this.size=e}function Kw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $n.setTimeout(function(){n()},e)}oc.Ta="serverreachability",Cs(DL,Fs),oc.STAT_EVENT="statevent",Cs(xL,Fs),oc.Ua="timingevent",Cs(AL,Fs);var eD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ML={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zO(){}function kL(){}zO.prototype.h=null;var WO,Zw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jO(){Fs.call(this,"d")}function GO(){Fs.call(this,"c")}function tD(){}function Qw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Mn(this),this.P=OH,this.V=new Nt(n=Uf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PL}function PL(){this.i=null,this.g="",this.h=!1}Cs(jO,Fs),Cs(GO,Fs),Cs(tD,zO),tD.prototype.g=function(){return new XMLHttpRequest},tD.prototype.i=function(){return{}},WO=new tD;var OH=45e3,qO={},nD={};function YO(n,e,t){n.L=1,n.v=oD(zd(e)),n.s=t,n.S=!0,RL(n,null)}function RL(n,e){n.G=Date.now(),Xw(n),n.A=zd(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),jL(t.i,"t",i),n.C=0,t=n.l.J,n.h=new PL,n.g=pF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new St(Ls(n.Pa,n,n.g),n.O)),rr(n.U,n.g,"readystatechange",n.nb),e=n.I?X_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yw(),function jw(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var v=g[0];g=g[1];var I=v.split("_");a=2<=I.length&&"type"==I[1]?a+(v+"=")+g+"&":a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function NL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function LL(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=kH(n,t),r==nD){4==e&&(n.o=4,No(14),i=!1),Eu(n.j,n.m,null,"[Incomplete Response]");break}if(r==qO){n.o=4,No(15),Eu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Eu(n.j,n.m,r,null),KO(n,r)}NL(n)&&r!=nD&&r!=qO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,No(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nk(e),e.M=!0,No(11))):(Eu(n.j,n.m,t,"[Invalid Chunked Response]"),bm(n),Jw(n))}function kH(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?nD:(t=Number(e.substring(t,i)),isNaN(t)?qO:(i+=1)+t>e.length?nD:(e=e.slice(i,i+t),n.C=i+t,e))}function Xw(n){n.Y=Date.now()+n.P,FL(n,n.P)}function FL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kw(Ls(n.lb,n),e)}function iD(n){n.B&&($n.clearTimeout(n.B),n.B=null)}function Jw(n){0==n.l.H||n.J||uF(n.l,n)}function bm(n){iD(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wt(n.V),Cu(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function KO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ZO(t.i,n)))if(!n.K&&ZO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hD(t),uD(t)}tk(t),No(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Kw(Ls(t.ib,t),6e3));if(1>=qL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Im(t,11)}else if((n.K||t.g==n)&&hD(t),!$f(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const v=g[3];null!=v&&(t.ra=v,t.l.info("VER="+t.ra));const I=g[4];null!=I&&(t.Ga=I,t.l.info("SVER="+t.Ga));const D=g[5];null!=D&&"number"==typeof D&&0<D&&(t.L=i=1.5*D,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const A=n.g;if(A){const P=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.i;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(QO(s,s.h),s.h=null))}if(i.F){const V=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(i.Da=V,fr(i.I,i.F,V))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var a=n;if((i=t).wa=fF(i,i.J?i.pa:null,i.Y),a.K){YL(i.i,a);var d=a,f=i.L;f&&d.setTimeout(f),d.B&&(iD(d),Xw(d)),i.g=a}else lF(i);0<t.j.length&&dD(t)}else"stop"!=g[0]&&"close"!=g[0]||Im(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Im(t,7):ek(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}Yw()}catch{}}function BL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(K_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function RH(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(K_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function PH(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(K_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Jt=Qw.prototype).setTimeout=function(n){this.P=n},Jt.nb=function(n){n=n.target;const e=this.M;e&&3==Tu(n)?e.l():this.Pa(n)},Jt.Pa=function(n){try{if(n==this.g)e:{const v=Tu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||Uf||this.g&&(this.h.h||this.g.ja()||nF(this.g)))){this.J||4!=v||7==e||Yw(),iD(this);var t=this.g.da();this.ca=t;t:if(NL(this)){var i=nF(this.g);n="";var r=i.length,s=4==Tu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bm(this),Jw(this);var a="";break t}this.h.i=new $n.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==t,function Gw(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,No(12),bm(this),Jw(this);break e}Eu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KO(this,t)}this.S?(LL(this,v,a),Uf&&this.i&&3==v&&(rr(this.U,this.V,"tick",this.mb),this.V.start())):(Eu(this.j,this.m,a,null),KO(this,a)),4==v&&bm(this),this.i&&!this.J&&(4==v?uF(this.l,this):(this.i=!1,Xw(this)))}else(function XH(n){const e={};n=(n.g&&2<=Tu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if($f(n[i]))continue;var t=S(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function YS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<a.indexOf("Unknown SID")?(this.o=3,No(12)):(this.o=0,No(13)),bm(this),Jw(this)}}}catch{}},Jt.mb=function(){if(this.g){var n=Tu(this.g),e=this.g.ja();this.C<e.length&&(iD(this),LL(this,n,e),this.i&&4!=n&&Xw(this))}},Jt.cancel=function(){this.J=!0,bm(this)},Jt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ww(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yw(),No(17)),bm(this),this.o=2,Jw(this)):FL(this,this.Y-n)};var VL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wm){this.h=n.h,rD(this,n.j),this.s=n.s,this.g=n.g,sD(this,n.m),this.l=n.l;var e=n.i,t=new nI;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$L(this,t),this.o=n.o}else n&&(e=String(n).match(VL))?(this.h=!1,rD(this,e[1]||"",!0),this.s=eI(e[2]||""),this.g=eI(e[3]||"",!0),sD(this,e[4]),this.l=eI(e[5]||"",!0),$L(this,e[6]||"",!0),this.o=eI(e[7]||"")):(this.h=!1,this.i=new nI(null,this.h))}function zd(n){return new wm(n)}function rD(n,e,t){n.j=t?eI(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $L(n,e,t){e instanceof nI?(n.i=e,function UH(n,e){e&&!n.j&&(Wf(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(HL(this,i),jL(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tI(e,VH)),n.i=new nI(e,n.h))}function fr(n,e,t){n.i.set(e,t)}function oD(n){return fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eI(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tI(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,LH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function LH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tI(e,UL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tI(e,UL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tI(t,"/"==t.charAt(0)?BH:FH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tI(t,$H)),n.join("")};var UL=/[#\/\?@]/g,FH=/[#\?:]/g,BH=/[#\?]/g,VH=/[#\?@]/g,$H=/#/g;function nI(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wf(n){n.g||(n.g=new Map,n.h=0,n.i&&function NH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function HL(n,e){Wf(n),e=ev(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zL(n,e){return Wf(n),e=ev(n,e),n.g.has(e)}function jL(n,e,t){HL(n,e),0<t.length&&(n.i=null,n.g.set(ev(n,e),Pw(t)),n.h+=t.length)}function ev(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function GL(n){this.l=n||zH,n=$n.PerformanceNavigationTiming?0<(n=$n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($n.g&&$n.g.Ka&&$n.g.Ka()&&$n.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Jt=nI.prototype).add=function(n,e){Wf(this),this.i=null,n=ev(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Jt.forEach=function(n,e){Wf(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Jt.ta=function(){Wf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Jt.Z=function(n){Wf(this);let e=[];if("string"==typeof n)zL(this,n)&&(e=e.concat(this.g.get(ev(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Jt.set=function(n,e){return Wf(this),this.i=null,zL(this,n=ev(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var zH=10;function WL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qL(n){return n.h?1:n.g?n.g.size:0}function ZO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QO(n,e){n.g?n.g.add(e):n.h=e}function YL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Pw(n.i)}function GH(){this.g=new class{stringify(n){return $n.JSON.stringify(n,void 0)}parse(n){return $n.JSON.parse(n,void 0)}}}function WH(n,e,t){const i=t||"";try{BL(n,function(r,s){let a=r;mm(r)&&(a=u(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function aD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function iI(n){this.l=n.fc||null,this.j=n.ob||!1}function lD(n,e){cs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=XO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GL.prototype.cancel=function(){if(this.i=KL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Cs(iI,zO),iI.prototype.g=function(){return new lD(this.l,this.j)},iI.prototype.i=function(n){return function(){return n}}({}),Cs(lD,cs);var XO=0;function ZL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function rI(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sI(n)}function sI(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Jt=lD.prototype).open=function(n,e){if(this.readyState!=XO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sI(this)},Jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$n).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rI(this)),this.readyState=XO},Jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sI(this)),this.g&&(this.readyState=3,sI(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $n.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?rI(this):sI(this),3==this.readyState&&ZL(this)}},Jt.Za=function(n){this.g&&(this.response=this.responseText=n,rI(this))},Jt.Ya=function(n){this.g&&(this.response=n,rI(this))},Jt.ka=function(){this.g&&rI(this)},Jt.setRequestHeader=function(n,e){this.v.append(n,e)},Jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var YH=$n.JSON.parse;function zr(n){cs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QL,this.L=this.M=!1}Cs(zr,cs);var QL="",KH=/^https?$/i,ZH=["POST","PUT"];function XL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,JL(n),cD(n)}function JL(n){n.F||(n.F=!0,l(n,"complete"),l(n,"error"))}function eF(n){if(n.h&&typeof Y_<"u"&&(!n.C[1]||4!=Tu(n)||2!=n.da()))if(n.v&&4==Tu(n))hn(n.La,0,n);else if(l(n,"readystatechange"),4==Tu(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===a){var r=String(n.I).match(VL)[1]||null;!r&&$n.self&&$n.self.location&&(r=$n.self.location.protocol.slice(0,-1)),i=!KH.test(r?r.toLowerCase():"")}t=i}if(t)l(n,"complete"),l(n,"success");else{n.m=6;try{var s=2<Tu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",JL(n)}}finally{cD(n)}}}function cD(n,e){if(n.g){tF(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||l(n,"ready");try{t.onreadystatechange=i}catch{}}}function tF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($n.clearTimeout(n.A),n.A=null)}function Tu(n){return n.g?n.g.readyState:0}function nF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case QL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iF(n){let e="";return qS(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function JO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=iF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fr(n,e,t))}function oI(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rF(n){this.Ga=0,this.j=[],this.l=new jf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oI("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oI("baseRetryDelayMs",5e3,n),this.hb=oI("retryDelaySeedMs",1e4,n),this.eb=oI("forwardChannelMaxRetries",2,n),this.xa=oI("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new GL(n&&n.concurrentRequestLimit),this.Ja=new GH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ek(n){if(sF(n),3==n.H){var e=n.W++,t=zd(n.I);if(fr(t,"SID",n.K),fr(t,"RID",e),fr(t,"TYPE","terminate"),aI(n,t),(e=new Qw(n,n.l,e)).L=2,e.v=oD(zd(t)),t=!1,$n.navigator&&$n.navigator.sendBeacon)try{t=$n.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$n.Image&&((new Image).src=e.v,t=!0),t||(e.g=pF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xw(e)}hF(n)}function uD(n){n.g&&(nk(n),n.g.cancel(),n.g=null)}function sF(n){uD(n),n.u&&($n.clearTimeout(n.u),n.u=null),hD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$n.clearTimeout(n.m),n.m=null)}function dD(n){if(!WL(n.i)&&!n.m){n.m=!0;var e=n.Na;F||We(),Q||(F(),Q=!0),Te.add(e,n),n.C=0}}function oF(n,e){var t;t=e?e.m:n.W++;const i=zd(n.I);fr(i,"SID",n.K),fr(i,"RID",t),fr(i,"AID",n.V),aI(n,i),n.o&&n.s&&JO(i,n.o,n.s),t=new Qw(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=aF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),QO(n.i,t),YO(t,i,e)}function aI(n,e){n.na&&qS(n.na,function(t,i){fr(e,i,t)}),n.h&&BL({},function(t,i){fr(e,i,t)})}function aF(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ls(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=r[f].g;const v=r[f].map;if(g-=s,0>g)s=Math.max(0,r[f].g-100),d=!1;else try{WH(v,a,"req"+g+"_")}catch{i&&i(v)}}if(d){i=a.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function lF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;F||We(),Q||(F(),Q=!0),Te.add(e,n),n.A=0}}function tk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kw(Ls(n.Ma,n),dF(n,n.A)),n.A++,0))}function nk(n){null!=n.B&&($n.clearTimeout(n.B),n.B=null)}function cF(n){n.g=new Qw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=zd(n.wa);fr(e,"RID","rpc"),fr(e,"SID",n.K),fr(e,"AID",n.V),fr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&fr(e,"TO",n.qa),fr(e,"TYPE","xmlhttp"),aI(n,e),n.o&&n.s&&JO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=oD(zd(e)),t.s=null,t.S=!0,RL(t,n)}function hD(n){null!=n.v&&($n.clearTimeout(n.v),n.v=null)}function uF(n,e){var t=null;if(n.g==e){hD(n),nk(n),n.g=null;var i=2}else{if(!ZO(n.i,e))return;t=e.F,YL(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;l(i=Gf(),new AL(i,t)),dD(n)}else lF(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function JH(n,e){return!(qL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kw(Ls(n.Na,n,e),dF(n,n.C)),n.C++,0)))}(n,e)||2==i&&tk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Im(n,5);break;case 4:Im(n,10);break;case 3:Im(n,6);break;default:Im(n,2)}}function dF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Im(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ls(n.pb,n);t||(t=new wm("//www.google.com/images/cleardot.gif"),$n.location&&"http"==$n.location.protocol||rD(t,"https"),oD(t)),function qH(n,e){const t=new jf;if($n.Image){const i=new Image;i.onload=kw(aD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=kw(aD,t,i,"TestLoadImage: error",!1,e),i.onabort=kw(aD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=kw(aD,t,i,"TestLoadImage: timeout",!1,e),$n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else No(2);n.H=0,n.h&&n.h.za(e),hF(n),sF(n)}function hF(n){if(n.H=0,n.ma=[],n.h){const e=KL(n.i);(0!=e.length||0!=n.j.length)&&(ym(n.ma,e),ym(n.ma,n.j),n.i.i.length=0,Pw(n.j),n.j.length=0),n.h.ya()}}function fF(n,e,t){var i=t instanceof wm?zd(t):new wm(t);if(""!=i.g)e&&(i.g=e+"."+i.g),sD(i,i.m);else{var r=$n.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new wm(null);i&&rD(s,i),e&&(s.g=e),r&&sD(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&fr(i,t,e),fr(i,"VER",n.ra),aI(n,i),i}function pF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(t&&n.Ha&&!n.va?new iI({ob:!0}):n.va)).Oa(n.J),e}function gF(){}function fD(){if(Iu&&!(10<=Number(jS)))throw Error("Environmental error: no available transport.")}function Na(n,e){cs.call(this),this.g=new rF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!$f(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tv(this)}function mF(n){jO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yF(){GO.call(this),this.status=1}function tv(n){this.g=n}function ac(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ik(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],a=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(a<<7&4294967295|a>>>25))+((a=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=t+((a=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Vi(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(Jt=zr.prototype).Oa=function(n){this.M=n},Jt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():WO.g(),this.C=function OL(n){return n.h||(n.h=n.i())}(this.u?this.u:WO),this.g.onreadystatechange=Ls(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void XL(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=$n.FormData&&n instanceof $n.FormData,!(0<=kO(ZH,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tF(this),0<this.B&&((this.L=function QH(n){return Iu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ls(this.ua,this)):this.A=hn(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){XL(this,s)}},Jt.ua=function(){typeof Y_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,l(this,"timeout"),this.abort(8))},Jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,l(this,"complete"),l(this,"abort"),cD(this))},Jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cD(this,!0)),zr.$.N.call(this)},Jt.La=function(){this.s||(this.G||this.v||this.l?eF(this):this.kb())},Jt.kb=function(){eF(this)},Jt.isActive=function(){return!!this.g},Jt.da=function(){try{return 2<Tu(this)?this.g.status:-1}catch{return-1}},Jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),YH(e)}},Jt.Ia=function(){return this.m},Jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Jt=rF.prototype).ra=8,Jt.H=1,Jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Qw(this,this.l,n);let s=this.s;if(this.U&&(s?(s=X_(s),ZS(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aF(this,r,e),fr(t=zd(this.I),"RID",n),fr(t,"CVER",22),this.F&&fr(t,"X-HTTP-Session-Id",this.F),aI(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(iF(s)))+"&"+e:this.o&&JO(t,this.o,s)),QO(this.i,r),this.bb&&fr(t,"TYPE","init"),this.P?(fr(t,"$req",e),fr(t,"SID","null"),r.aa=!0,YO(r,t,null)):YO(r,t,e),this.H=2}}else 3==this.H&&(n?oF(this,n):0==this.j.length||WL(this.i)||oF(this))},Jt.Ma=function(){if(this.u=null,cF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kw(Ls(this.jb,this),n)}},Jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,No(10),uD(this),cF(this))},Jt.ib=function(){null!=this.v&&(this.v=null,uD(this),tk(this),No(19))},Jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),No(2)):(this.l.info("Failed to ping google.com"),No(1))},Jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jt=gF.prototype).Ba=function(){},Jt.Aa=function(){},Jt.za=function(){},Jt.ya=function(){},Jt.isActive=function(){return!0},Jt.Va=function(){},fD.prototype.g=function(n,e){return new Na(n,e)},Cs(Na,cs),Na.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;No(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=fF(n,null,n.Y),dD(n)},Na.prototype.close=function(){ek(this.g)},Na.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=u(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&dD(e)},Na.prototype.N=function(){this.g.h=null,delete this.j,ek(this.g),delete this.g,Na.$.N.call(this)},Cs(mF,jO),Cs(yF,GO),Cs(tv,gF),tv.prototype.Ba=function(){l(this.g,"a")},tv.prototype.Aa=function(n){l(this.g,new mF(n))},tv.prototype.za=function(n){l(this.g,new yF)},tv.prototype.ya=function(){l(this.g,"b")},Cs(ac,function e6(){this.blockSize=-1}),ac.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ac.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)ik(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){ik(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){ik(this,i),r=0;break}}this.h=r,this.i+=e},ac.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var t6={};function rk(n){return-128<=n&&128>n?function Rw(n,e){var t=t6;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Vi([0|e],0>e?-1:0)}):new Vi([0|n],0>n?-1:0)}function Su(n){if(isNaN(n)||!isFinite(n))return nv;if(0>n)return Ys(Su(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=sk;return new Vi(e,0)}var sk=4294967296,nv=rk(0),ok=rk(1),vF=rk(16777216);function jd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bl(n){return-1==n.h}function Ys(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Vi(t,~n.h).add(ok)}function pD(n,e){return n.add(Ys(e))}function gD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function lI(n,e){this.g=n,this.h=e}function mD(n,e){if(jd(e))throw Error("division by zero");if(jd(n))return new lI(nv,nv);if(bl(n))return e=mD(Ys(n),e),new lI(Ys(e.g),Ys(e.h));if(bl(e))return e=mD(n,Ys(e)),new lI(Ys(e.g),e.h);if(30<n.g.length){if(bl(n)||bl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ok,i=e;0>=i.X(n);)t=bF(t),i=bF(i);var r=iv(t,1),s=iv(i,1);for(i=iv(i,2),t=iv(t,2);!jd(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(t),s=a),i=iv(i,1),t=iv(t,1)}return e=pD(n,r.R(e)),new lI(r,e)}for(r=nv;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),a=(s=Su(t)).R(e);bl(a)||0<a.X(n);)a=(s=Su(t-=i)).R(e);jd(s)&&(s=ok),r=r.add(s),n=pD(n,a)}return new lI(r,n)}function bF(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Vi(t,n.h)}function iv(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Vi(r,n.h)}(Jt=Vi.prototype).ea=function(){if(bl(this))return-Ys(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:sk+i)*e,e*=sk}return n},Jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(jd(this))return"0";if(bl(this))return"-"+Ys(this).toString(n);for(var e=Su(Math.pow(n,6)),t=this,i="";;){var r=mD(t,e).g,s=((0<(t=pD(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(jd(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Jt.X=function(n){return bl(n=pD(this,n))?-1:jd(n)?0:1},Jt.abs=function(){return bl(this)?Ys(this):this},Jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,t[r]=(a&=65535)<<16|(s&=65535)}return new Vi(t,-2147483648&t[t.length-1]?-1:0)},Jt.R=function(n){if(jd(this)||jd(n))return nv;if(bl(this))return bl(n)?Ys(this).R(Ys(n)):Ys(Ys(this).R(n));if(bl(n))return Ys(this.R(Ys(n)));if(0>this.X(vF)&&0>n.X(vF))return Su(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),d=n.D(r)>>>16,f=65535&n.D(r);t[2*i+2*r]+=a*f,gD(t,2*i+2*r),t[2*i+2*r+1]+=s*f,gD(t,2*i+2*r+1),t[2*i+2*r+1]+=a*d,gD(t,2*i+2*r+1),t[2*i+2*r+2]+=s*d,gD(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Vi(t,0)},Jt.gb=function(n){return mD(this,n).h},Jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Vi(t,this.h&n.h)},Jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Vi(t,this.h|n.h)},Jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Vi(t,this.h^n.h)},fD.prototype.createWebChannel=fD.prototype.g,Na.prototype.send=Na.prototype.u,Na.prototype.open=Na.prototype.m,Na.prototype.close=Na.prototype.close,eD.NO_ERROR=0,eD.TIMEOUT=8,eD.HTTP_ERROR=6,ML.COMPLETE="complete",kL.EventType=Zw,Zw.OPEN="a",Zw.CLOSE="b",Zw.ERROR="c",Zw.MESSAGE="d",cs.prototype.listen=cs.prototype.O,zr.prototype.listenOnce=zr.prototype.P,zr.prototype.getLastError=zr.prototype.Sa,zr.prototype.getLastErrorCode=zr.prototype.Ia,zr.prototype.getStatus=zr.prototype.da,zr.prototype.getResponseJson=zr.prototype.Wa,zr.prototype.getResponseText=zr.prototype.ja,zr.prototype.send=zr.prototype.ha,zr.prototype.setWithCredentials=zr.prototype.Oa,ac.prototype.digest=ac.prototype.l,ac.prototype.reset=ac.prototype.reset,ac.prototype.update=ac.prototype.j,Vi.prototype.add=Vi.prototype.add,Vi.prototype.multiply=Vi.prototype.R,Vi.prototype.modulo=Vi.prototype.gb,Vi.prototype.compare=Vi.prototype.X,Vi.prototype.toNumber=Vi.prototype.ea,Vi.prototype.toString=Vi.prototype.toString,Vi.prototype.getBits=Vi.prototype.D,Vi.fromNumber=Su,Vi.fromString=function _F(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ys(_F(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Su(Math.pow(e,8)),i=nv,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),e);8>s?(s=Su(Math.pow(e,s)),i=i.R(s).add(Su(a))):i=(i=i.R(t)).add(Su(a))}return i};var n6=ia.createWebChannelTransport=function(){return new fD},i6=ia.getStatEventTarget=function(){return Gf()},ak=ia.ErrorCode=eD,r6=ia.EventType=ML,s6=ia.Event=oc,wF=ia.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},o6=ia.FetchXmlHttpFactory=iI,yD=ia.WebChannel=kL,a6=ia.XhrIo=zr,l6=ia.Md5=ac,rv=ia.Integer=Vi;const IF="@firebase/firestore";class Bs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");let sv="9.23.0";const qf=new xr.Yd("@firebase/firestore");function lk(){return qf.logLevel}function Pt(n,...e){if(qf.logLevel<=xr.in.DEBUG){const t=e.map(ck);qf.debug(`Firestore (${sv}): ${n}`,...t)}}function Xr(n,...e){if(qf.logLevel<=xr.in.ERROR){const t=e.map(ck);qf.error(`Firestore (${sv}): ${n}`,...t)}}function wl(n,...e){if(qf.logLevel<=xr.in.WARN){const t=e.map(ck);qf.warn(`Firestore (${sv}): ${n}`,...t)}}function ck(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function un(n="Unexpected state"){const e=`FIRESTORE (${sv}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function wn(n,e){n||un()}function en(n,e){return n}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends _i.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bs.UNAUTHENTICATED))}shutdown(){}}class h6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f6{constructor(e){this.t=e,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let a=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=a;e.enqueueRetryable((0,ht.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},f=g=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Es)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new CF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new Bs(e)}}class p6{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class g6{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new p6(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m6{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new EF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function y6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class TF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=y6(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Gn(n,e){return n<e?-1:n>e?1:0}function ov(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function SF(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Et(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ar(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new Ar(0,0))}static max(){return new Cn(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cI{constructor(e,t,i){void 0===t?t=0:t>e.length&&un(),void 0===i?i=e.length-t:i>e.length-t&&un(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===cI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cI?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ii extends cI{construct(e,t,i){return new Ii(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Et(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ii(t)}static emptyPath(){return new Ii([])}}const _6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends cI{construct(e,t,i){return new jr(e,t,i)}static isValidIdentifier(e){return _6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Et(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Et(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Et(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(s(),r++)}if(s(),a)throw new Et(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Ii.fromString(e))}static fromName(e){return new Qt(Ii.fromString(e).popFirst(5))}static empty(){return new Qt(Ii.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ii.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ii.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Ii(e.slice()))}}class _D{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function uk(n){return n.fields.find(e=>2===e.kind)}function Cm(n){return n.fields.filter(e=>2!==e.kind)}_D.UNKNOWN_ID=-1;class vD{constructor(e,t){this.fieldPath=e,this.kind=t}}class uI{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uI(0,La.min())}}function DF(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Cn.fromTimestamp(1e9===i?new Ar(t+1,0):new Ar(t,i));return new La(r,Qt.empty(),e)}function xF(n){return new La(n.readTime,n.key,-1)}class La{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new La(Cn.min(),Qt.empty(),-1)}static max(){return new La(Cn.max(),Qt.empty(),-1)}}function dk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(n.documentKey,e.documentKey),0!==t?t:Gn(n.largestBatchId,e.largestBatchId))}const AF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yf(n){return hk.apply(this,arguments)}function hk(){return hk=(0,ht.Z)(function*(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==AF)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}),hk.apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.reject(t)}static resolve(e){return new nt((t,i)=>{t(e)})}static reject(e){return new nt((t,i)=>{i(e)})}static waitFor(e){return new nt((t,i)=>{let r=0,s=0,a=!1;e.forEach(d=>{++r,d.next(()=>{++s,a&&s===r&&t()},f=>i(f))}),a=!0,s===r&&t()})}static or(e){let t=nt.resolve(!1);for(const i of e)t=t.next(r=>r?nt.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new nt((i,r)=>{const s=e.length,a=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(v=>{a[g]=v,++d,d===s&&i(a)},v=>r(v))}})}static doWhile(e,t){return new nt((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class bD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Es,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new dI(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=fk(i.target.error);this.v.reject(new dI(e,r))}}static open(e,t,i,r){try{return new bD(t,e.transaction(r,i))}catch(s){throw new dI(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new I6(t)}}class lc{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===lc.S((0,_i.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pt("SimpleDb","Removing database:",e),Em(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_i.hl)())return!1;if(lc.C())return!0;const e=(0,_i.z$)(),t=lc.S(e),i=0<t&&t<10,r=lc.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ht.Z)(function*(){return t.db||(Pt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new dI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new Et(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Et(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new dI(e,d))},s.onupgradeneeded=a=>{Pt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.V.O(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,ht.Z)(function*(){const a="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.$(e);const f=bD.open(s.db,e,a?"readonly":"readwrite",i),g=r(f).next(v=>(f.P(),v)).catch(v=>(f.abort(v),nt.reject(v))).toPromise();return g.catch(()=>{}),yield f.R,g}catch(f){const g=f,v="FirebaseError"!==g.name&&d<3;if(Pt("SimpleDb","Transaction failed with error:",g.message,"Retrying:",v),s.close(),!v)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class w6{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Em(this.L.delete())}}class dI extends Et{constructor(e,t){super(lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kf(n){return"IndexedDbTransactionError"===n.name}class I6{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Em(i)}add(e){return Pt("SimpleDb","ADD",this.store.name,e,e),Em(this.store.add(e))}get(e){return Em(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pt("SimpleDb","DELETE",this.store.name,e),Em(this.store.delete(e))}count(){return Pt("SimpleDb","COUNT",this.store.name),Em(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new nt((s,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new nt((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(e,t){Pt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,d)=>d.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new nt((i,r)=>{t.onerror=s=>{const a=fk(s.target.error);r(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}W(e,t){const i=[];return new nt((r,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const f=new w6(d),g=t(d.primaryKey,d.value,f);if(g instanceof nt){const v=g.catch(I=>(f.done(),nt.reject(I)));i.push(v)}f.isDone?r():null===f.K?d.continue():d.continue(f.K)}}).next(()=>nt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Em(n){return new nt((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=fk(i.target.error);t(r)}})}let OF=!1;function fk(n){const e=lc.S((0,_i.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OF||(OF=!0,setTimeout(()=>{throw i},0)),i}}return n}class C6{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ht.Z)(function*(){t.task=null;try{Pt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Kf(i)?Pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Yf(i)}yield t.et(6e4)}))}}class E6{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ht.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return nt.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(null!==a&&!i.has(a))return Pt("IndexBackiller",`Processing collection: ${a}`),this.it(e,a,r).next(d=>{r-=d,i.add(a)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.rt(r,s)).next(d=>(Pt("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>a.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const a=xF(s);dk(a,i)>0&&(i=a)}),new La(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Fa=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function hI(n){return null==n}function fI(n){return 0===n&&1/n==-1/0}function kF(n){return"number"==typeof n&&Number.isInteger(n)&&!fI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function oo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PF(e)),e=T6(n.get(t),e);return PF(e)}function T6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function PF(n){return n+"\x01\x01"}function Du(n){const e=n.length;if(wn(e>=2),2===e)return wn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ii.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&un(),n.charAt(a+1)){case"\x01":const d=n.substring(s,a);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:un()}s=a+2}return new Ii(i)}const RF=["userId","batchId"];function wD(n,e){return[n,oo(e)]}function NF(n,e,t){return[n,oo(e),t]}const S6={},D6=["prefixPath","collectionGroup","readTime","documentId"],x6=["prefixPath","collectionGroup","documentId"],A6=["collectionGroup","readTime","prefixPath","documentId"],M6=["canonicalId","targetId"],O6=["targetId","path"],k6=["path","targetId"],P6=["collectionId","parent"],R6=["indexId","uid"],N6=["uid","sequenceNumber"],L6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],F6=["indexId","uid","orderedDocumentKey"],B6=["userId","collectionPath","documentId"],V6=["userId","collectionPath","largestBatchId"],$6=["userId","collectionGroup","largestBatchId"],LF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U6=[...LF,"documentOverlays"],FF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BF=FF,H6=[...BF,"indexConfiguration","indexState","indexEntries"];class pk extends MF{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Vs(n,e){const t=en(n);return lc.M(t.ht,e)}function VF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $F(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cr{constructor(e,t){this.comparator=e,this.root=t||Ks.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ID(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ID(this.root,e,this.comparator,!1)}getReverseIterator(){return new ID(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ID(this.root,e,this.comparator,!0)}}class ID{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ks{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ks.RED,this.left=r??Ks.EMPTY,this.right=s??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ks(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ks.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ks(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UF(this.data.getIterator())}getIteratorFrom(e){return new UF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class UF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function av(n){return n.hasNext()?n.getNext():void 0}class ra{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new ra([])}unionWith(e){let t=new pr(jr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ra(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ov(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class HF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new HF("Invalid base64 string: "+r):r}}(e);return new Ts(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const j6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qf(n){if(wn(!!n),"string"==typeof n){let e=0;const t=j6.exec(n);if(wn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gd(n){return"string"==typeof n?Ts.fromBase64String(n):Ts.fromUint8Array(n)}function CD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ED(n){const e=n.mapValue.fields.__previous_value__;return CD(e)?ED(e):e}function pI(n){const e=Qf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class G6{constructor(e,t,i,r,s,a,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class Xf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}const Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TD={nullValue:"NULL_VALUE"};function ep(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CD(n)?4:WF(n)?9007199254740991:10:un()}function xu(n,e){if(n===e)return!0;const t=ep(n);if(t!==ep(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pI(n).isEqual(pI(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Qf(i.timestampValue),a=Qf(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Gd(n.bytesValue).isEqual(Gd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Gr(i.geoPointValue.latitude)===Gr(r.geoPointValue.latitude)&&Gr(i.geoPointValue.longitude)===Gr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Gr(i.integerValue)===Gr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Gr(i.doubleValue),a=Gr(r.doubleValue);return s===a?fI(s)===fI(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ov(n.arrayValue.values||[],e.arrayValue.values||[],xu);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(VF(s)!==VF(a))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!xu(s[d],a[d])))return!1;return!0}(n,e);default:return un()}var r}function gI(n,e){return void 0!==(n.values||[]).find(t=>xu(t,e))}function tp(n,e){if(n===e)return 0;const t=ep(n),i=ep(e);if(t!==i)return Gn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const a=Gr(r.integerValue||r.doubleValue),d=Gr(s.integerValue||s.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,e);case 3:return zF(n.timestampValue,e.timestampValue);case 4:return zF(pI(n),pI(e));case 5:return Gn(n.stringValue,e.stringValue);case 6:return function(r,s){const a=Gd(r),d=Gd(s);return a.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),d=s.split("/");for(let f=0;f<a.length&&f<d.length;f++){const g=Gn(a[f],d[f]);if(0!==g)return g}return Gn(a.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const a=Gn(Gr(r.latitude),Gr(s.latitude));return 0!==a?a:Gn(Gr(r.longitude),Gr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],d=s.values||[];for(let f=0;f<a.length&&f<d.length;++f){const g=tp(a[f],d[f]);if(g)return g}return Gn(a.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Jf.mapValue&&s===Jf.mapValue)return 0;if(r===Jf.mapValue)return 1;if(s===Jf.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const I=Gn(d[v],g[v]);if(0!==I)return I;const D=tp(a[d[v]],f[g[v]]);if(0!==D)return D}return Gn(d.length,g.length)}(n.mapValue,e.mapValue);default:throw un()}}function zF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gn(n,e);const t=Qf(n),i=Qf(e),r=Gn(t.seconds,i.seconds);return 0!==r?r:Gn(t.nanos,i.nanos)}function lv(n){return gk(n)}function gk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Qf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gd(n.bytesValue).toBase64():"referenceValue"in n?Qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=gk(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const d of r)a?a=!1:s+=",",s+=`${d}:${gk(i.fields[d])}`;return s+"}"}(n.mapValue):un();var e}function Tm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mk(n){return!!n&&"integerValue"in n}function mI(n){return!!n&&"arrayValue"in n}function jF(n){return!!n&&"nullValue"in n}function GF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function DD(n){return!!n&&"mapValue"in n}function yI(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yI(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yI(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function W6(n){return"nullValue"in n?TD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tm(Xf.empty(),Qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:un()}function q6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tm(Xf.empty(),Qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Jf:un()}function qF(n,e){const t=tp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function YF(n,e){const t=tp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zs{constructor(e){this.value=e}static empty(){return new Zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!DD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yI(t)}setAll(e){let t=jr.emptyPath(),i={},r=[];e.forEach((a,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}a?i[d.lastSegment()]=yI(a):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());DD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];DD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zf(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Zs(yI(this.value))}}function KF(n){const e=[];return Zf(n.fields,(t,i)=>{const r=new jr([t]);if(DD(i)){const s=KF(i.mapValue).fields;if(0===s.length)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new ra(e)}class gr{constructor(e,t,i,r,s,a,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=d}static newInvalidDocument(e){return new gr(e,0,Cn.min(),Cn.min(),Cn.min(),Zs.empty(),0)}static newFoundDocument(e,t,i,r){return new gr(e,1,t,Cn.min(),i,r,0)}static newNoDocument(e,t){return new gr(e,2,t,Cn.min(),Cn.min(),Zs.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,Cn.min(),Cn.min(),Zs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class np{constructor(e,t){this.position=e,this.inclusive=t}}function ZF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(i=s.field.isKeyField()?Qt.comparator(Qt.fromName(a.referenceValue),t.key):tp(a,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function QF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xu(n.position[t],e.position[t]))return!1;return!0}class cv{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class XF{}class pi extends XF{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new K6(e,t,i):"array-contains"===t?new X6(e,i):"in"===t?new s2(e,i):"not-in"===t?new J6(e,i):"array-contains-any"===t?new ez(e,i):new pi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Z6(e,i):new Q6(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tp(t,this.value)):null!==t&&ep(this.value)===ep(t)&&this.matchesComparison(tp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $i extends XF{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new $i(e,t)}matches(e){return uv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uv(n){return"and"===n.op}function yk(n){return"or"===n.op}function _k(n){return JF(n)&&uv(n)}function JF(n){for(const e of n.filters)if(e instanceof $i)return!1;return!0}function vk(n){if(n instanceof pi)return n.field.canonicalString()+n.op.toString()+lv(n.value);if(_k(n))return n.filters.map(e=>vk(e)).join(",");{const e=n.filters.map(t=>vk(t)).join(",");return`${n.op}(${e})`}}function e2(n,e){return n instanceof pi?(t=n,(i=e)instanceof pi&&t.op===i.op&&t.field.isEqual(i.field)&&xu(t.value,i.value)):n instanceof $i?function(t,i){return i instanceof $i&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,a)=>r&&e2(s,i.filters[a]),!0)}(n,e):void un();var t,i}function t2(n,e){const t=n.filters.concat(e);return $i.create(t,n.op)}function n2(n){return n instanceof pi?`${(e=n).field.canonicalString()} ${e.op} ${lv(e.value)}`:n instanceof $i?function(e){return e.op.toString()+" {"+e.getFilters().map(n2).join(" ,")+"}"}(n):"Filter";var e}class K6 extends pi{constructor(e,t,i){super(e,t,i),this.key=Qt.fromName(i.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Z6 extends pi{constructor(e,t){super(e,"in",t),this.keys=r2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q6 extends pi{constructor(e,t){super(e,"not-in",t),this.keys=r2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qt.fromName(i.referenceValue))}class X6 extends pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mI(t)&&gI(t.arrayValue,this.value)}}class s2 extends pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gI(this.value.arrayValue,t)}}class J6 extends pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(gI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gI(this.value.arrayValue,t)}}class ez extends pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gI(this.value.arrayValue,i))}}class tz{constructor(e,t=null,i=[],r=[],s=null,a=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=d,this.dt=null}}function bk(n,e=null,t=[],i=[],r=null,s=null,a=null){return new tz(n,e,t,i,r,s,a)}function Sm(n){const e=en(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vk(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),hI(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>lv(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>lv(i)).join(",")),e.dt=t}return e.dt}function _I(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!e2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QF(n.startAt,e.startAt)&&QF(n.endAt,e.endAt)}function xD(n){return Qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function AD(n,e){return n.filters.filter(t=>t instanceof pi&&t.field.isEqual(e))}function o2(n,e,t){let i=TD,r=!0;for(const s of AD(n,e)){let a=TD,d=!0;switch(s.op){case"<":case"<=":a=W6(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,d=!1;break;case"!=":case"not-in":a=TD}qF({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];qF({value:i,inclusive:r},{value:a,inclusive:t.inclusive})<0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}function a2(n,e,t){let i=Jf,r=!0;for(const s of AD(n,e)){let a=Jf,d=!0;switch(s.op){case">=":case">":a=q6(s.value),d=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,d=!1;break;case"!=":case"not-in":a=Jf}YF({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];YF({value:i,inclusive:r},{value:a,inclusive:t.inclusive})>0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}class Wd{constructor(e,t=null,i=[],r=[],s=null,a="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=f,this.wt=null,this._t=null}}function l2(n,e,t,i,r,s,a,d){return new Wd(n,e,t,i,r,s,a,d)}function dv(n){return new Wd(n)}function c2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function MD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ik(n){return null!==n.collectionGroup}function Dm(n){const e=en(n);if(null===e.wt){e.wt=[];const t=MD(e),i=wk(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new cv(t)),e.wt.push(new cv(jr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cv(jr.keyField(),s))}}}return e.wt}function Lo(n){const e=en(n);if(!e._t)if("F"===e.limitType)e._t=bk(e.path,e.collectionGroup,Dm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Dm(e))t.push(new cv(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new np(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new np(e.startAt.position,e.startAt.inclusive):null;e._t=bk(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Ck(n,e){e.getFirstInequalityField(),MD(n);const t=n.filters.concat([e]);return new Wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OD(n,e,t){return new Wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vI(n,e){return _I(Lo(n),Lo(e))&&n.limitType===e.limitType}function u2(n){return`${Sm(Lo(n))}|lt:${n.limitType}`}function Ek(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>n2(i)).join(", ")}]`),hI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>lv(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>lv(i)).join(",")),`Target(${t})`}(Lo(n))}; limitType=${n.limitType})`}function bI(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Dm(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,a){const d=ZF(r,s,a);return r.inclusive?d<=0:d<0}(t.startAt,Dm(t),i)||t.endAt&&!function(r,s,a){const d=ZF(r,s,a);return r.inclusive?d>=0:d>0}(t.endAt,Dm(t),i)));var t,i}function d2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function h2(n){return(e,t)=>{let i=!1;for(const r of Dm(n)){const s=nz(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function nz(n,e,t){const i=n.field.isKeyField()?Qt.comparator(e.key,t.key):function(r,s,a){const d=s.data.field(r),f=a.data.field(r);return null!==d&&null!==f?tp(d,f):un()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}class qd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zf(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return $F(this.inner)}size(){return this.innerSize}}const iz=new cr(Qt.comparator);function sa(){return iz}const f2=new cr(Qt.comparator);function wI(...n){let e=f2;for(const t of n)e=e.insert(t.key,t);return e}function p2(n){let e=f2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Au(){return II()}function g2(){return II()}function II(){return new qd(n=>n.toString(),(n,e)=>n.isEqual(e))}const rz=new cr(Qt.comparator),sz=new pr(Qt.comparator);function ei(...n){let e=sz;for(const t of n)e=e.add(t);return e}const oz=new pr(Gn);function Tk(){return oz}function m2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fI(e)?"-0":e}}function y2(n){return{integerValue:""+n}}function _2(n,e){return kF(e)?y2(e):m2(n,e)}class kD{constructor(){this._=void 0}}function az(n,e,t){return n instanceof hv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&CD(r)&&(r=ED(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof xm?b2(n,e):n instanceof Am?w2(n,e):function(i,r){const s=v2(i,r),a=I2(s)+I2(i.gt);return mk(s)&&mk(i.gt)?y2(a):m2(i.serializer,a)}(n,e)}function lz(n,e,t){return n instanceof xm?b2(n,e):n instanceof Am?w2(n,e):t}function v2(n,e){return n instanceof fv?mk(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class hv extends kD{}class xm extends kD{constructor(e){super(),this.elements=e}}function b2(n,e){const t=C2(e);for(const i of n.elements)t.some(r=>xu(r,i))||t.push(i);return{arrayValue:{values:t}}}class Am extends kD{constructor(e){super(),this.elements=e}}function w2(n,e){let t=C2(e);for(const i of n.elements)t=t.filter(r=>!xu(r,i));return{arrayValue:{values:t}}}class fv extends kD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function I2(n){return Gr(n.integerValue||n.doubleValue)}function C2(n){return mI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class CI{constructor(e,t){this.field=e,this.transform=t}}class uz{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class RD{}function E2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new gv(n.key,Mr.none()):new pv(n.key,n.data,Mr.none());{const t=n.data,i=Zs.empty();let r=new pr(jr.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);null===a&&s.length>1&&(s=s.popLast(),a=t.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Yd(n.key,i,new ra(r.toArray()),Mr.none())}}function dz(n,e,t){n instanceof pv?function(i,r,s){const a=i.value.clone(),d=D2(i.fieldTransforms,r,s.transformResults);a.setAll(d),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yd?function(i,r,s){if(!PD(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=D2(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(S2(i)),d.setAll(a),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function EI(n,e,t,i){return n instanceof pv?function(r,s,a,d){if(!PD(r.precondition,s))return a;const f=r.value.clone(),g=x2(r.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yd?function(r,s,a,d){if(!PD(r.precondition,s))return a;const f=x2(r.fieldTransforms,d,s),g=s.data;return g.setAll(S2(r)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,e,t,i):(a=t,PD(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function hz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=v2(i.transform,r||null);null!=s&&(null===t&&(t=Zs.empty()),t.set(i.field,s))}return t||null}function T2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ov(t,i,(r,s)=>function cz(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xm&&i instanceof xm||t instanceof Am&&i instanceof Am?ov(t.elements,i.elements,xu):t instanceof fv&&i instanceof fv?xu(t.gt,i.gt):t instanceof hv&&i instanceof hv);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class pv extends RD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yd extends RD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function S2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function D2(n,e,t){const i=new Map;wn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,d=e.data.field(s.field);i.set(s.field,lz(a,d,t[r]))}return i}function x2(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,az(s,a,e))}return i}class gv extends RD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sk extends RD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dk{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&dz(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=EI(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=EI(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=g2();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let d=this.applyToLocalView(a,s.mutatedFields);d=t.has(r.key)?null:d;const f=E2(a,d);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(Cn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ei())}isEqual(e){return this.batchId===e.batchId&&ov(this.mutations,e.mutations,(t,i)=>T2(t,i))&&ov(this.baseMutations,e.baseMutations,(t,i)=>T2(t,i))}}class xk{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){wn(e.mutations.length===i.length);let r=rz;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new xk(e,t,i,r)}}class Ak{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pz{constructor(e,t){this.count=e,this.unchangedNames=t}}var us,Ci;function A2(n){switch(n){default:return un();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function M2(n){if(void 0===n)return Xr("GRPC error has no .code"),lt.UNKNOWN;switch(n){case us.OK:return lt.OK;case us.CANCELLED:return lt.CANCELLED;case us.UNKNOWN:return lt.UNKNOWN;case us.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case us.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case us.INTERNAL:return lt.INTERNAL;case us.UNAVAILABLE:return lt.UNAVAILABLE;case us.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case us.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case us.NOT_FOUND:return lt.NOT_FOUND;case us.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case us.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case us.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case us.ABORTED:return lt.ABORTED;case us.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case us.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case us.DATA_LOSS:return lt.DATA_LOSS;default:return un()}}(Ci=us||(us={}))[Ci.OK=0]="OK",Ci[Ci.CANCELLED=1]="CANCELLED",Ci[Ci.UNKNOWN=2]="UNKNOWN",Ci[Ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ci[Ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ci[Ci.NOT_FOUND=5]="NOT_FOUND",Ci[Ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ci[Ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ci[Ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ci[Ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ci[Ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ci[Ci.ABORTED=10]="ABORTED",Ci[Ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ci[Ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ci[Ci.INTERNAL=13]="INTERNAL",Ci[Ci.UNAVAILABLE=14]="UNAVAILABLE",Ci[Ci.DATA_LOSS=15]="DATA_LOSS";class Mk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ND}static getOrCreateInstance(){return null===ND&&(ND=new Mk),ND}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ND=null;function O2(){return new TextEncoder}const gz=new rv([4294967295,4294967295],0);function k2(n){const e=O2().encode(n),t=new l6;return t.update(e),new Uint8Array(t.digest())}function P2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rv([t,i],0),new rv([r,s],0)]}class Ok{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new TI(`Invalid padding: ${t}`);if(i<0)throw new TI(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new TI(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new TI(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=rv.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(rv.fromNumber(i)));return 1===r.compare(gz)&&(r=new rv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=k2(e),[i,r]=P2(t);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Ok(s,r,t);return i.forEach(d=>a.insert(d)),a}insert(e){if(0===this.It)return;const t=k2(e),[i,r]=P2(t);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class TI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class SI{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,DI.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new SI(Cn.min(),r,new cr(Gn),sa(),ei())}}class DI{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new DI(i,t,ei(),ei(),ei())}}class LD{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class R2{constructor(e,t){this.targetId=e,this.Vt=t}}class N2{constructor(e,t,i=Ts.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class L2{constructor(){this.St=0,this.Dt=B2(),this.Ct=Ts.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ei(),t=ei(),i=ei();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:un()}}),new DI(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=B2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class mz{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=sa(),this.zt=F2(),this.Wt=new cr(Gn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const a=s.target;if(xD(a))if(0===r){const d=new Qt(a.path);this.Yt(i,d,gr.newNoDocument(d,Cn.min()))}else wn(1===r);else{const d=this.ie(i);if(d!==r){const f=this.re(e,d);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Mk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(g,v,I){var D,A,P,V,$,ae;const Ie={localCacheCount:v,existenceFilterCount:I.count},He=I.unchangedNames;return He&&(Ie.bloomFilter={applied:0===g,hashCount:null!==(D=He?.hashCount)&&void 0!==D?D:0,bitmapLength:null!==(V=null===(P=null===(A=He?.bits)||void 0===A?void 0:A.bitmap)||void 0===P?void 0:P.length)&&void 0!==V?V:0,padding:null!==(ae=null===($=He?.bits)||void 0===$?void 0:$.padding)&&void 0!==ae?ae:0}),Ie}(f,d,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:d=0}=i;let f,g;try{f=Gd(s).toUint8Array()}catch(v){if(v instanceof HF)return wl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{g=new Ok(f,a,d)}catch(v){return wl(v instanceof TI?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===g.It?1:r!==t-this.oe(e.targetId,g)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),d=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.vt(d)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,a)=>{const d=this.se(a);if(d){if(s.current&&xD(d.target)){const f=new Qt(d.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,gr.newNoDocument(f,e))}s.Mt&&(t.set(a,s.Ot()),s.Ft())}});let i=ei();this.zt.forEach((s,a)=>{let d=!0;a.forEachWhile(f=>{const g=this.se(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const r=new SI(e,t,this.Wt,this.jt,i);return this.jt=sa(),this.zt=F2(),this.Wt=new cr(Gn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new L2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pr(Gn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new L2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function F2(){return new cr(Qt.comparator)}function B2(){return new cr(Qt.comparator)}const yz={asc:"ASCENDING",desc:"DESCENDING"},_z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vz={and:"AND",or:"OR"};class bz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kk(n,e){return n.useProto3Json||hI(e)?e:{value:e}}function mv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wz(n,e){return mv(n,e.toTimestamp())}function Jr(n){return wn(!!n),Cn.fromTimestamp(function(e){const t=Qf(e);return new Ar(t.seconds,t.nanos)}(n))}function Pk(n,e){return(t=n,new Ii(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $2(n){const e=Ii.fromString(n);return wn(K2(e)),e}function xI(n,e){return Pk(n.databaseId,e.path)}function Mu(n,e){const t=$2(e);if(t.get(1)!==n.databaseId.projectId)throw new Et(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Et(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qt(H2(t))}function Rk(n,e){return Pk(n.databaseId,e)}function U2(n){const e=$2(n);return 4===e.length?Ii.emptyPath():H2(e)}function AI(n){return new Ii(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H2(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function z2(n,e,t){return{name:xI(n,e),fields:t.value.mapValue.fields}}function j2(n,e,t){const i=Mu(n,e.name),r=Jr(e.updateTime),s=e.createTime?Jr(e.createTime):Cn.min(),a=new Zs({mapValue:{fields:e.fields}}),d=gr.newFoundDocument(i,r,s,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function MI(n,e){let t;if(e instanceof pv)t={update:z2(n,e.key,e.value)};else if(e instanceof gv)t={delete:xI(n,e.key)};else if(e instanceof Yd)t={update:z2(n,e.key,e.data),updateMask:Az(e.fieldMask)};else{if(!(e instanceof Sk))return un();t={verify:xI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof hv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Am)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fv)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw un()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:wz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:un()),t;var r}function Nk(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Mr.updateTime(Jr(r.updateTime)):void 0!==r.exists?Mr.exists(r.exists):Mr.none():Mr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let d=null;"setToServerValue"in a?(wn("REQUEST_TIME"===a.setToServerValue),d=new hv):"appendMissingElements"in a?d=new xm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new Am(a.removeAllFromArray.values||[]):"increment"in a?d=new fv(s,a.increment):un();const f=jr.fromServerFormat(a.fieldPath);return new CI(f,d)}(n,r)):[];var r;if(e.update){const r=Mu(n,e.update.name),s=new Zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new ra((e.updateMask.fieldPaths||[]).map(g=>jr.fromServerFormat(g)));return new Yd(r,s,a,t,i)}return new pv(r,s,t,i)}if(e.delete){const r=Mu(n,e.delete);return new gv(r,t)}if(e.verify){const r=Mu(n,e.verify);return new Sk(r,t)}return un()}function G2(n,e){return{documents:[Rk(n,e.path)]}}function Lk(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Rk(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rk(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return Y2($i.create(f,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:ip((v=g).field),direction:Sz(v.dir)};var v})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=kk(n,e.limit);var d,f;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function W2(n){let e=U2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){wn(1===i);const v=t.from[0];v.allDescendants?r=v.collectionId:e=e.child(v.collectionId)}let s=[];t.where&&(s=function(v){const I=q2(v);return I instanceof $i&&_k(I)?I.getFilters():[I]}(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(v=>{return new cv(yv((I=v).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let d=null;t.limit&&(d=function(v){let I;return I="object"==typeof v?v.value:v,hI(I)?null:I}(t.limit));let f=null;var v;t.startAt&&(f=new np((v=t.startAt).values||[],!!v.before));let g=null;return t.endAt&&(g=function(v){return new np(v.values||[],!v.before)}(t.endAt)),l2(e,r,a,s,d,"F",f,g)}function q2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yv(e.unaryFilter.field);return pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=yv(e.unaryFilter.field);return pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yv(e.unaryFilter.field);return pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yv(e.unaryFilter.field);return pi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(n):void 0!==n.fieldFilter?pi.create(yv((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $i.create(e.compositeFilter.filters.map(t=>q2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return un()}}(e.compositeFilter.op))}(n):un();var e}function Sz(n){return yz[n]}function Dz(n){return _z[n]}function xz(n){return vz[n]}function ip(n){return{fieldPath:n.canonicalString()}}function yv(n){return jr.fromServerFormat(n.fieldPath)}function Y2(n){return n instanceof pi?function(e){if("=="===e.op){if(GF(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NAN"}};if(jF(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GF(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NAN"}};if(jF(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(e.field),op:Dz(e.op),value:e.value}}}(n):n instanceof $i?function(e){const t=e.getFilters().map(i=>Y2(i));return 1===t.length?t[0]:{compositeFilter:{op:xz(e.op),filters:t}}}(n):un()}function Az(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function K2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Kd{constructor(e,t,i,r,s=Cn.min(),a=Cn.min(),d=Ts.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Kd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z2{constructor(e){this.fe=e}}function Q2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:FD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:xI(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:mv(r,s.version.toTimestamp()),createTime:mv(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Mm(e.version)};else{if(!e.isUnknownDocument())return un();i.unknownDocument={path:t.path.toArray(),version:Mm(e.version)}}var r,s;return i}function FD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Mm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Om(n){const e=new Ar(n.seconds,n.nanoseconds);return Cn.fromTimestamp(e)}function km(n,e){const t=(e.baseMutations||[]).map(s=>Nk(n.fe,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(a.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Nk(n.fe,s)),r=Ar.fromMillis(e.localWriteTimeMs);return new Dk(e.batchId,r,t,i)}function OI(n){const e=Om(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Om(n.lastLimboFreeSnapshotVersion):Cn.min();let i;var r;return void 0!==n.query.documents?(wn(1===(r=n.query).documents.length),i=Lo(dv(U2(r.documents[0])))):i=Lo(W2(n.query)),new Kd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ts.fromBase64String(n.resumeToken))}function X2(n,e){const t=Mm(e.snapshotVersion),i=Mm(e.lastLimboFreeSnapshotVersion);let r;r=xD(e.target)?G2(n.fe,e.target):Lk(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sm(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Fk(n){const e=W2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?OD(e,e.limit,"L"):e}function Bk(n,e){return new Ak(e.largestBatchId,Nk(n.fe,e.overlayMutation))}function J2(n,e){const t=e.path.lastSegment();return[n,oo(e.path.popLast()),t]}function eB(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Mm(i.readTime),documentKey:oo(i.documentKey.path),largestBatchId:i.largestBatchId}}class Oz{getBundleMetadata(e,t){return tB(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Om(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return tB(e).put({bundleId:(i=t).id,createTime:Mm(Jr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return nB(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Fk(r.bundledQuery),readTime:Om(r.readTime)};var r})}saveNamedQuery(e,t){return nB(e).put({name:(i=t).name,readTime:Mm(Jr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tB(n){return Vs(n,"bundles")}function nB(n){return Vs(n,"namedQueries")}class BD{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new BD(e,t.uid||"")}getOverlay(e,t){return kI(e).get(J2(this.userId,t)).next(i=>i?Bk(this.serializer,i):null)}getOverlays(e,t){const i=Au();return nt.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,a)=>{const d=new Ak(t,a);r.push(this.we(e,d))}),nt.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(a=>r.add(oo(a.getCollectionPath())));const s=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(kI(e).J("collectionPathOverlayIndex",d))}),nt.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Au(),s=oo(t),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return kI(e).j("collectionPathOverlayIndex",a).next(d=>{for(const f of d){const g=Bk(this.serializer,f);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Au();let a;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kI(e).X({index:"collectionGroupOverlayIndex",range:d},(f,g,v)=>{const I=Bk(this.serializer,g);s.size()<r||I.largestBatchId===a?(s.set(I.getKey(),I),a=I.largestBatchId):v.done()}).next(()=>s)}we(e,t){return kI(e).put(function(i,r,s){const[a,d,f]=J2(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:MI(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function kI(n){return Vs(n,"documentOverlays")}class Pm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Gr(e.integerValue));else if("doubleValue"in e){const i=Gr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),fI(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Gd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?WF(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):un()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function kz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function iB(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=kz(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Pm.Ve=new Pm;class Pz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=iB(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=iB(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Rz{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Nz{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class PI{constructor(){this.je=new Pz,this.ze=new Rz(this.je),this.We=new Nz(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Rm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Rm(this.indexId,this.documentKey,this.arrayValue,i)}}function rp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rB(n.arrayValue,e.arrayValue),0!==t?t:(t=rB(n.directionalValue,e.directionalValue),0!==t?t:Qt.comparator(n.documentKey,e.documentKey)))}function rB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Lz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){wn(e.collectionGroup===this.collectionId);const t=uk(e);if(void 0!==t&&!this.en(t))return!1;const i=Cm(e);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const d=i[s];if(!this.nn(this.Ze,d)||!this.sn(this.Ye[a++],d))return!1}++s}for(;s<i.length;++s){const d=i[s];if(a>=this.Ye.length||!this.sn(this.Ye[a++],d))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function sB(n){var e,t;if(wn(n instanceof pi||n instanceof $i),n instanceof pi){if(n instanceof s2){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>pi.create(n.field,"==",s)))||[];return $i.create(r,"or")}return n}const i=n.filters.map(r=>sB(r));return $i.create(i,n.op)}function Fz(n){if(0===n.getFilters().length)return[];const e=Uk(sB(n));return wn(oB(e)),Vk(e)||$k(e)?[e]:e.getFilters()}function Vk(n){return n instanceof pi}function $k(n){return n instanceof $i&&_k(n)}function oB(n){return Vk(n)||$k(n)||function(e){if(e instanceof $i&&yk(e)){for(const t of e.getFilters())if(!Vk(t)&&!$k(t))return!1;return!0}return!1}(n)}function Uk(n){if(wn(n instanceof pi||n instanceof $i),n instanceof pi)return n;if(1===n.filters.length)return Uk(n.filters[0]);const e=n.filters.map(i=>Uk(i));let t=$i.create(e,n.op);return t=VD(t),oB(t)?t:(wn(t instanceof $i),wn(uv(t)),wn(t.filters.length>1),t.filters.reduce((i,r)=>Hk(i,r)))}function Hk(n,e){let t;return wn(n instanceof pi||n instanceof $i),wn(e instanceof pi||e instanceof $i),t=n instanceof pi?e instanceof pi?$i.create([n,e],"and"):aB(n,e):e instanceof pi?aB(e,n):function(i,r){if(wn(i.filters.length>0&&r.filters.length>0),uv(i)&&uv(r))return t2(i,r.getFilters());const s=yk(i)?i:r,a=yk(i)?r:i,d=s.filters.map(f=>Hk(f,a));return $i.create(d,"or")}(n,e),VD(t)}function aB(n,e){if(uv(e))return t2(e,n.getFilters());{const t=e.filters.map(i=>Hk(n,i));return $i.create(t,"or")}}function VD(n){if(wn(n instanceof pi||n instanceof $i),n instanceof pi)return n;const e=n.getFilters();if(1===e.length)return VD(e[0]);if(JF(n))return n;const t=e.map(r=>VD(r)),i=[];return t.forEach(r=>{r instanceof pi?i.push(r):r instanceof $i&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$i.create(i,n.op)}class Bz{constructor(){this.rn=new zk}addToCollectionParentIndex(e,t){return this.rn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(La.min())}updateCollectionGroup(e,t,i){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class zk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new pr(Ii.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pr(Ii.comparator)).toArray()}}const $D=new Uint8Array(0);class Vz{constructor(e,t){this.user=e,this.databaseId=t,this.on=new zk,this.un=new qd(i=>Sm(i),(i,r)=>_I(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:oo(r)};return lB(e).put(s)}return nt.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[SF(t),""],!1,!0);return lB(e).j(r).next(s=>{for(const a of s){if(a.collectionId!==t)break;i.push(Du(a.parent))}return i})}addFieldIndex(e,t){const i=UD(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const s=i.add(r);if(t.indexState){const a=NI(e);return s.next(d=>{a.put(eB(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=UD(e),r=NI(e),s=RI(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=RI(e);let r=!0;const s=new Map;return nt.forEach(this.cn(t),a=>this.an(e,a).next(d=>{r&&(r=!!d),s.set(a,d)})).next(()=>{if(r){let a=ei();const d=[];return nt.forEach(s,(f,g)=>{var v;Pt("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${Sm(t)}`);const I=function(He,je){const Ze=uk(je);if(void 0===Ze)return null;for(const pt of AD(He,Ze.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(g,f),D=function(He,je){const Ze=new Map;for(const pt of Cm(je))for(const Dt of AD(He,pt.fieldPath))switch(Dt.op){case"==":case"in":Ze.set(pt.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return Ze.set(pt.fieldPath.canonicalString(),Dt.value),Array.from(Ze.values())}return null}(g,f),A=function(He,je){const Ze=[];let pt=!0;for(const Dt of Cm(je)){const Ft=0===Dt.kind?o2(He,Dt.fieldPath,He.startAt):a2(He,Dt.fieldPath,He.startAt);Ze.push(Ft.value),pt&&(pt=Ft.inclusive)}return new np(Ze,pt)}(g,f),P=function(He,je){const Ze=[];let pt=!0;for(const Dt of Cm(je)){const Ft=0===Dt.kind?a2(He,Dt.fieldPath,He.endAt):o2(He,Dt.fieldPath,He.endAt);Ze.push(Ft.value),pt&&(pt=Ft.inclusive)}return new np(Ze,pt)}(g,f),V=this.hn(f,g,A),$=this.hn(f,g,P),ae=this.ln(f,g,D),Ie=this.fn(f.indexId,I,V,A.inclusive,$,P.inclusive,ae);return nt.forEach(Ie,He=>i.H(He,t.limit).next(je=>{je.forEach(Ze=>{const pt=Qt.fromSegments(Ze.documentKey);a.has(pt)||(a=a.add(pt),d.push(pt))})}))}).next(()=>d)}return nt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Fz($i.create(e.filters,"and")).map(i=>bk(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,a,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),g=f/(null!=t?t.length:1),v=[];for(let I=0;I<f;++I){const D=t?this.dn(t[I/g]):$D,A=this.wn(e,D,i[I%g],r),P=this._n(e,D,s[I%g],a),V=d.map($=>this.wn(e,D,$,!0));v.push(...this.createRange(A,P,V))}return v}wn(e,t,i,r){const s=new Rm(e,Qt.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Rm(e,Qt.empty(),t,i);return r?s.Je():s}an(e,t){const i=new Lz(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let a=null;for(const d of s)i.tn(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(e,t){let i=2;const r=this.cn(t);return nt.forEach(r,s=>this.an(e,s).next(a=>{a?0!==i&&a.fields.length<function(d){let f=new pr(jr.comparator),g=!1;for(const v of d.filters)for(const I of v.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:f=f.add(I.field));for(const v of d.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new PI;for(const r of Cm(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);Pm.Ve._e(s,a)}return i.Qe()}dn(e){const t=new PI;return Pm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new PI;return Pm.Ve._e(Tm(this.databaseId,t),i.He(function(r){const s=Cm(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new PI);let s=0;for(const a of Cm(e)){const d=i[s++];for(const f of r)if(this.yn(t,a.fieldPath)&&mI(d))r=this.pn(r,a,d);else{const g=f.He(a.kind);Pm.Ve._e(d,g)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const a of i.arrayValue.values||[])for(const d of r){const f=new PI;f.seed(d.Qe()),Pm.Ve._e(a,f.He(t.kind)),s.push(f)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof pi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=UD(e),r=NI(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const a=[];return nt.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{a.push(function(g,v){const I=v?new uI(v.sequenceNumber,new La(Om(v.readTime),new Qt(Du(v.documentKey)),v.largestBatchId)):uI.empty(),D=g.fields.map(([A,P])=>new vD(jr.fromServerFormat(A),P));return new _D(g.indexId,g.collectionGroup,D,I)}(d,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Gn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=UD(e),s=NI(e);return this.Tn(e).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>nt.forEach(d,f=>s.put(eB(f.indexId,this.user,a,i)))))}updateIndexEntries(e,t){const i=new Map;return nt.forEach(t,(r,s)=>{const a=i.get(r.collectionGroup);return(a?nt.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),nt.forEach(d,f=>this.En(e,r,f).next(g=>{const v=this.An(s,f);return g.isEqual(v)?nt.resolve():this.vn(e,s,f,g,v)}))))})}Rn(e,t,i,r){return RI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return RI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=RI(e);let s=new pr(rp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(a,d)=>{s=s.add(new Rm(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}An(e,t){let i=new pr(rp);const r=this.mn(t,e);if(null==r)return i;const s=uk(t);if(null!=s){const a=e.data.field(s.fieldPath);if(mI(a))for(const d of a.arrayValue.values||[])i=i.add(new Rm(t.indexId,e.key,this.dn(d),r))}else i=i.add(new Rm(t.indexId,e.key,$D,r));return i}vn(e,t,i,r,s){Pt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(d,f,g,v,I){const D=d.getIterator(),A=f.getIterator();let P=av(D),V=av(A);for(;P||V;){let $=!1,ae=!1;if(P&&V){const Ie=g(P,V);Ie<0?ae=!0:Ie>0&&($=!0)}else null!=P?ae=!0:$=!0;$?(v(V),V=av(A)):ae?(I(P),P=av(D)):(P=av(D),V=av(A))}}(r,s,rp,d=>{a.push(this.Rn(e,t,i,d))},d=>{a.push(this.Pn(e,t,i,d))}),nt.waitFor(a)}Tn(e){let t=1;return NI(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,d)=>rp(a,d)).filter((a,d,f)=>!d||0!==rp(a,f[d-1]));const r=[];r.push(e);for(const a of i){const d=rp(a,e),f=rp(a,t);if(0===d)r[0]=e.Je();else if(d>0&&f<0)r.push(a),r.push(a.Je());else if(f>0)break}r.push(t);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,$D,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,$D,[]]))}return s}bn(e,t){return rp(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cB)}getMinOffset(e,t){return nt.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||un())).next(cB)}}function lB(n){return Vs(n,"collectionParents")}function RI(n){return Vs(n,"indexEntries")}function UD(n){return Vs(n,"indexConfiguration")}function NI(n){return Vs(n,"indexState")}function cB(n){wn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dk(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new La(e.readTime,e.documentKey,t)}const uB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dB(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let d=0;const f=i.X({range:a},(v,I,D)=>(d++,D.delete()));s.push(f.next(()=>{wn(1===d)}));const g=[];for(const v of t.mutations){const I=NF(e,v.key.path,t.batchId);s.push(r.delete(I)),g.push(v.key)}return nt.waitFor(s).next(()=>g)}function HD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw un();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class zD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){wn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new zD(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).X({index:"userMutationsIndex",range:i},(r,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=_v(e),a=sp(e);return a.add({}).next(d=>{wn("number"==typeof d);const f=new Dk(d,t,i,r),g=function(D,A,P){const V=P.baseMutations.map(ae=>MI(D.fe,ae)),$=P.mutations.map(ae=>MI(D.fe,ae));return{userId:A,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:V,mutations:$}}(this.serializer,this.userId,f),v=[];let I=new pr((D,A)=>Gn(D.canonicalString(),A.canonicalString()));for(const D of r){const A=NF(this.userId,D.key.path,d);I=I.add(D.key.path.popLast()),v.push(a.put(g)),v.push(s.put(A,S6))}return I.forEach(D=>{v.push(this.indexManager.addToCollectionParentIndex(e,D))}),e.addOnCommittedListener(()=>{this.Vn[d]=f.keys()}),nt.waitFor(v).next(()=>f)})}lookupMutationBatch(e,t){return sp(e).get(t).next(i=>i?(wn(i.userId===this.userId),km(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?nt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return sp(e).X({index:"userMutationsIndex",range:r},(a,d,f)=>{d.userId===this.userId&&(wn(d.batchId>=i),s=km(this.serializer,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return sp(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).j("userMutationsIndex",t).next(i=>i.map(r=>km(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=wD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return _v(e).X({range:r},(a,d,f)=>{const[g,v,I]=a,D=Du(v);if(g===this.userId&&t.path.isEqual(D))return sp(e).get(I).next(A=>{if(!A)throw un();wn(A.userId===this.userId),s.push(km(this.serializer,A))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pr(Gn);const r=[];return t.forEach(s=>{const a=wD(this.userId,s.path),d=IDBKeyRange.lowerBound(a),f=_v(e).X({range:d},(g,v,I)=>{const[D,A,P]=g,V=Du(A);D===this.userId&&s.path.isEqual(V)?i=i.add(P):I.done()});r.push(f)}),nt.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=wD(this.userId,i),a=IDBKeyRange.lowerBound(s);let d=new pr(Gn);return _v(e).X({range:a},(f,g,v)=>{const[I,D,A]=f,P=Du(D);I===this.userId&&i.isPrefixOf(P)?P.length===r&&(d=d.add(A)):v.done()}).next(()=>this.Dn(e,d))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(sp(e).get(s).next(a=>{if(null===a)throw un();wn(a.userId===this.userId),i.push(km(this.serializer,a))}))}),nt.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return dB(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),nt.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return _v(e).X({range:i},(s,a,d)=>{if(s[0]===this.userId){const f=Du(s[1]);r.push(f)}else d.done()}).next(()=>{wn(0===r.length)})})}containsKey(e,t){return hB(e,this.userId,t)}xn(e){return fB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hB(n,e,t){const i=wD(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return _v(n).X({range:s,Y:!0},(d,f,g)=>{const[v,I,D]=d;v===e&&I===r&&(a=!0),g.done()}).next(()=>a)}function sp(n){return Vs(n,"mutations")}function _v(n){return Vs(n,"documentMutations")}function fB(n){return Vs(n,"mutationQueues")}class Nm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Nm(0)}static Mn(){return new Nm(-1)}}class $z{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Nm(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Cn.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>vv(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(wn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return vv(e).X((a,d)=>{const f=OI(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>nt.waitFor(s)).next(()=>r)}forEachTarget(e,t){return vv(e).X((i,r)=>{const s=OI(r);t(s)})}$n(e){return pB(e).get("targetGlobalKey").next(t=>(wn(null!==t),t))}On(e,t){return pB(e).put("targetGlobalKey",t)}Fn(e,t){return vv(e).put(X2(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Sm(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return vv(e).X({range:r,index:"queryTargetsIndex"},(a,d,f)=>{const g=OI(d);_I(t,g.target)&&(s=g,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=op(e);return t.forEach(a=>{const d=oo(a.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,a))}),nt.waitFor(r)}removeMatchingKeys(e,t,i){const r=op(e);return nt.forEach(t,s=>{const a=oo(s.path);return nt.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=op(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=op(e);let s=ei();return r.X({range:i,Y:!0},(a,d,f)=>{const g=Du(a[1]),v=new Qt(g);s=s.add(v)}).next(()=>s)}containsKey(e,t){const i=oo(t.path),r=IDBKeyRange.bound([i],[SF(i)],!1,!0);let s=0;return op(e).X({index:"documentTargetsIndex",Y:!0,range:r},([a,d],f,g)=>{0!==a&&(s++,g.done())}).next(()=>s>0)}le(e,t){return vv(e).get(t).next(i=>i?OI(i):null)}}function vv(n){return Vs(n,"targets")}function pB(n){return Vs(n,"targetGlobal")}function op(n){return Vs(n,"targetDocuments")}function gB([n,e],[t,i]){const r=Gn(n,t);return 0===r?Gn(e,i):r}class Uz{constructor(e){this.Ln=e,this.buffer=new pr(gB),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();gB(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ht.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Kf(i)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Yf(i)}yield t.Qn(3e5)}))}}class Hz{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return nt.resolve(Fa.ct);const i=new Uz(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(uB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uB):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,a,d,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,a=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(s=I,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(g=Date.now(),lk()<=xr.in.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${I} documents in `+(g-f)+`ms\nTotal Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class zz{constructor(e,t){this.db=e,this.garbageCollector=function yB(n,e){return new Hz(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return jD(e,i)}removeReference(e,t,i){return jD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return jD(e,t)}Xn(e,t){return function(i,r){let s=!1;return fB(i).Z(a=>hB(i,a,r).next(d=>(d&&(s=!0),nt.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(a,d)=>{if(d<=t){const f=this.Xn(e,a).next(g=>{if(!g)return s++,i.getEntry(e,a).next(()=>(i.removeEntry(a,Cn.min()),op(e).delete([0,oo(a.path)])))});r.push(f)}}).next(()=>nt.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return jD(e,t)}Yn(e,t){const i=op(e);let r,s=Fa.ct;return i.X({index:"documentTargetsIndex"},([a,d],{path:f,sequenceNumber:g})=>{0===a?(s!==Fa.ct&&t(new Qt(Du(r)),s),s=g,r=f):s=Fa.ct}).next(()=>{s!==Fa.ct&&t(new Qt(Du(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jD(n,e){return op(n).put((i=n.currentSequenceNumber,{targetId:0,path:oo(e.path),sequenceNumber:i}));var i}class _B{constructor(){this.changes=new qd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Lm(e).put(i)}removeEntry(e,t,i){return Lm(e).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],FD(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=gr.newInvalidDocument(t);return Lm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(LI(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:gr.newInvalidDocument(t)};return Lm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(LI(t))},(r,s)=>{i={document:this.ts(t,s),size:HD(s)}}).next(()=>i)}getEntries(e,t){let i=sa();return this.ns(e,t,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(e,t){let i=sa(),r=new cr(Qt.comparator);return this.ns(e,t,(s,a)=>{const d=this.ts(s,a);i=i.insert(s,d),r=r.insert(s,HD(a))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return nt.resolve();let r=new pr(IB);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(LI(r.first()),LI(r.last())),a=r.getIterator();let d=a.getNext();return Lm(e).X({index:"documentKeyIndex",range:s},(f,g,v)=>{const I=Qt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&IB(d,I)<0;)i(d,null),d=a.getNext();d&&d.isEqual(I)&&(i(d,g),d=a.hasNext()?a.getNext():null),d?v.G(LI(d)):v.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),FD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lm(e).j(IDBKeyRange.bound(a,d,!0)).next(f=>{let g=sa();for(const v of f){const I=this.ts(Qt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);I.isFoundDocument()&&(bI(t,I)||r.has(I.key))&&(g=g.insert(I.key,I))}return g})}getAllFromCollectionGroup(e,t,i,r){let s=sa();const a=wB(t,i),d=wB(t,La.max());return Lm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(f,g,v)=>{const I=this.ts(Qt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(I.key,I),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(e){return new Gz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bB(e).get("remoteDocumentGlobalKey").next(t=>(wn(!!t),t))}Zn(e,t){return bB(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function Mz(n,e){let t;if(e.document)t=j2(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qt.fromSegments(e.noDocument.path),r=Om(e.noDocument.readTime);t=gr.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return un();{const i=Qt.fromSegments(e.unknownDocument.path),r=Om(e.unknownDocument.version);t=gr.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ar(i[0],i[1]);return Cn.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Cn.min()))return i}return gr.newInvalidDocument(e)}}function vB(n){return new jz(n)}class Gz extends _B{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new qd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new pr((s,a)=>Gn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const d=this.us.get(s);if(t.push(this.os.removeEntry(e,s,d.readTime)),a.isValidDocument()){const f=Q2(this.os.serializer,a);r=r.add(s.path.popLast()),i+=HD(f)-d.size,t.push(this.os.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=Q2(this.os.serializer,a.convertToNoDocument(Cn.min()));t.push(this.os.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),nt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function bB(n){return Vs(n,"remoteDocumentGlobal")}function Lm(n){return Vs(n,"remoteDocumentsV14")}function LI(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wB(n,e){const t=e.documentKey.path.toArray();return[n,FD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function IB(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Gn(t[s],i[s]),r)return r;return r=Gn(t.length,i.length),r||(r=Gn(t[t.length-2],i[i.length-2]),r||Gn(t[t.length-1],i[i.length-1]))}class Wz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CB{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&EI(i.mutation,r,ra.empty(),Ar.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ei()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ei()){const r=Au();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=wI();return s.forEach((d,f)=>{a=a.insert(d,f.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Au();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ei()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,d)=>{t.set(a,d)})})}computeViews(e,t,i,r){let s=sa();const a=II(),d=II();return t.forEach((f,g)=>{const v=i.get(g.key);r.has(g.key)&&(void 0===v||v.mutation instanceof Yd)?s=s.insert(g.key,g):void 0!==v?(a.set(g.key,v.mutation.getFieldMask()),EI(v.mutation,g,v.mutation.getFieldMask(),Ar.now())):a.set(g.key,ra.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,v)=>a.set(g,v)),t.forEach((g,v)=>{var I;return d.set(g,new Wz(v,null!==(I=a.get(g))&&void 0!==I?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=II();let r=new cr((a,d)=>a-d),s=ei();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const d of a)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let v=i.get(f)||ra.empty();v=d.applyToLocalView(g,v),i.set(f,v);const I=(r.get(d.batchId)||ei()).add(f);r=r.insert(d.batchId,I)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,v=f.value,I=g2();v.forEach(D=>{if(!s.has(D)){const A=E2(t.get(D),i.get(D));null!==A&&I.set(D,A),s=s.add(D)}}),a.push(this.documentOverlayCache.saveOverlays(e,g,I))}return nt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ik(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):nt.resolve(Au());let d=-1,f=s;return a.next(g=>nt.forEach(g,(v,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),s.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(e,v).next(D=>{f=f.insert(v,D)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,ei())).next(v=>({batchId:d,changes:p2(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(i=>{let r=wI();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=wI();return this.indexManager.getCollectionParents(e,r).next(a=>nt.forEach(a,d=>{const f=(g=t,v=d.child(r),new Wd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,v;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(g=>{g.forEach((v,I)=>{s=s.insert(v,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((d,f)=>{const g=f.getKey();null===s.get(g)&&(s=s.insert(g,gr.newInvalidDocument(g)))});let a=wI();return s.forEach((d,f)=>{const g=r.get(d);void 0!==g&&EI(g.mutation,f,ra.empty(),Ar.now()),bI(t,f)&&(a=a.insert(d,f))}),a})}}class qz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return nt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Jr(i.createTime)}),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Fk(i.bundledQuery),readTime:Jr(i.readTime)}),nt.resolve();var i}}class Yz{constructor(){this.overlays=new cr(Qt.comparator),this.ls=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Au();return nt.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),nt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),nt.resolve()}getOverlaysForCollection(e,t,i){const r=Au(),s=t.length+1,a=new Qt(t.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return nt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new cr((g,v)=>g-v);const a=this.overlays.getIterator();for(;a.hasNext();){const g=a.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=s.get(g.largestBatchId);null===v&&(v=Au(),s=s.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Au(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=r)););return nt.resolve(d)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Ak(t,i));let s=this.ls.get(t);void 0===s&&(s=ei(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class jk{constructor(){this.fs=new pr($s.ds),this.ws=new pr($s._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new $s(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new $s(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qt(new Ii([])),i=new $s(t,e),r=new $s(t,e+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qt(new Ii([])),i=new $s(t,e),r=new $s(t,e+1);let s=ei();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new $s(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class $s{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qt.comparator(e.key,t.key)||Gn(e.As,t.As)}static _s(e,t){return Gn(e.As,t.As)||Qt.comparator(e.key,t.key)}}class Kz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pr($s.ds)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const a=new Dk(s,t,i,r);this.mutationQueue.push(a);for(const d of r)this.Rs=this.Rs.add(new $s(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $s(t,0),r=new $s(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const d=this.Ps(a.As);s.push(d)}),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pr(Gn);return t.forEach(r=>{const s=new $s(r,0),a=new $s(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],d=>{i=i.add(d.As)})}),nt.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Qt.isDocumentKey(s)||(s=s.child(""));const a=new $s(new Qt(s),0);let d=new pr(Gn);return this.Rs.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.As)),!0)},a),nt.resolve(this.Vs(d))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return nt.forEach(t.mutations,r=>{const s=new $s(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new $s(t,0),r=this.Rs.firstAfterOrEqual(i);return nt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return nt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zz{constructor(e){this.Ds=e,this.docs=new cr(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return nt.resolve(i?i.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let i=sa();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gr.newInvalidDocument(r))}),nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=sa();const a=t.path,d=new Qt(a.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!a.isPrefixOf(g.path))break;g.path.length>a.length+1||dk(xF(v),i)<=0||(r.has(v.key)||bI(t,v))&&(s=s.insert(v.key,v.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,i,r){un()}Cs(e,t){return nt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Qz(this)}getSize(e){return nt.resolve(this.size)}}class Qz extends _B{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),nt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xz{constructor(e){this.persistence=e,this.xs=new qd(t=>Sm(t),_I),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jk,this.targetCount=0,this.Ms=Nm.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),nt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Nm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.Fn(t),nt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((a,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),nt.waitFor(s).next(()=>r)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return nt.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),nt.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return nt.resolve(i)}containsKey(e,t){return nt.resolve(this.ks.containsKey(t))}}class Gk{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xz(this),this.indexManager=new Bz,this.remoteDocumentCache=new Zz(i=>this.referenceDelegate.Ls(i)),this.serializer=new Z2(t),this.qs=new qz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Kz(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Pt("MemoryPersistence","Starting transaction:",e);const r=new Jz(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return nt.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Jz extends MF{constructor(e){super(),this.currentSequenceNumber=e}}class GD{constructor(e){this.persistence=e,this.Qs=new jk,this.js=null}static zs(e){return new GD(e)}get Ws(){if(this.js)return this.js;throw un()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),nt.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Ws,i=>{const r=Qt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Cn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return nt.or([()=>nt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ej{constructor(e){this.serializer=e}O(e,t,i,r){const s=new bD("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0}),d.createObjectStore("documentMutations"),EB(e),function(d){d.createObjectStore("remoteDocuments")}(e));let a=nt.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),EB(e)),a=a.next(()=>function(d){const f=d.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",g)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,f){return f.store("mutations").j().next(g=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0});const v=f.store("mutations"),I=g.map(D=>v.put(D));return nt.waitFor(I)})}(e,s))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(e,s))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:B6});f.createIndex("collectionPathOverlayIndex",V6,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",$6,{unique:!1})}(e)})),i<13&&r>=13&&(a=a.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:D6});f.createIndex("documentKeyIndex",x6),f.createIndex("collectionGroupIndex",A6)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(e,s))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:R6}).createIndex("sequenceNumberIndex",N6,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:L6}).createIndex("documentKeyIndex",F6,{unique:!1})}(e))),a}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=HD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>nt.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(d=>nt.forEach(d,f=>{wn(f.userId===s.userId);const g=km(this.serializer,f);return dB(e,s.userId,g).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,d)=>{const f=new Ii(a),g=[0,oo(f)];s.push(t.get(g).next(v=>v?nt.resolve():t.put({targetId:0,path:oo(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>nt.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:P6});const i=t.store("collectionParents"),r=new zk,s=a=>{if(r.add(a)){const d=a.lastSegment(),f=a.popLast();return i.put({collectionId:d,parent:oo(f)})}};return t.store("remoteDocuments").X({Y:!0},(a,d)=>{const f=new Ii(a);return s(f.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([a,d,f],g)=>{const v=Du(d);return s(v.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=OI(r),a=X2(this.serializer,s);return t.put(a)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,a)=>{const d=t.store("remoteDocumentsV14"),f=(g=a,g.document?new Qt(Ii.fromString(g.document.name).popFirst(5)):g.noDocument?Qt.fromSegments(g.noDocument.path):g.unknownDocument?Qt.fromSegments(g.unknownDocument.path):un()).path.toArray();var g;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(v))}).next(()=>nt.waitFor(r))}si(e,t){const i=t.store("mutations"),r=vB(this.serializer),s=new Gk(GD.zs,this.serializer.fe);return i.j().next(a=>{const d=new Map;return a.forEach(f=>{var g;let v=null!==(g=d.get(f.userId))&&void 0!==g?g:ei();km(this.serializer,f).keys().forEach(I=>v=v.add(I)),d.set(f.userId,v)}),nt.forEach(d,(f,g)=>{const v=new Bs(g),I=BD.de(this.serializer,v),D=s.getIndexManager(v),A=zD.de(v,this.serializer,D,s.referenceDelegate);return new CB(r,A,I,D).recalculateAndSaveOverlaysForDocumentKeys(new pk(t,Fa.ct),f).next()})})}}function EB(n){n.createObjectStore("targetDocuments",{keyPath:O6}).createIndex("documentTargetsIndex",k6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M6,{unique:!0}),n.createObjectStore("targetGlobal")}const Wk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qk{constructor(e,t,i,r,s,a,d,f,g,v,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=a,this.document=d,this.ri=g,this.oi=v,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=D=>Promise.resolve(),!qk.D())throw new Et(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zz(this,r),this.di=t+"main",this.serializer=new Z2(f),this.wi=new lc(this.di,this.ui,new ej(this.serializer)),this.Bs=new $z(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vB(this.serializer),this.qs=new Oz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Et(lt.FAILED_PRECONDITION,Wk);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Fa(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,ht.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ht.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ht.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Kf(e))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return FI(e).get("owner").next(t=>nt.resolve(this.Ri(t)))}Pi(e){return qD(e).delete(this.clientId)}bi(){var e=this;return(0,ht.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vs(i,"clientMetadata");return r.j().next(s=>{const a=e.Si(s,18e5),d=s.filter(f=>-1===a.indexOf(f));return nt.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?nt.resolve(!0):FI(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Et(lt.FAILED_PRECONDITION,Wk);return!1}}return!(!this.networkEnabled||!this.inForeground)||qD(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ht.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new pk(t,Fa.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>qD(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return zD.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vz(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return BD.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Pt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(a=this.ui)?H6:14===a?BF:13===a?FF:12===a?U6:11===a?LF:void un();var a;let d;return this.wi.runTransaction(e,r,s,f=>(d=new pk(f,this.Os?this.Os.next():Fa.ct),"readwrite-primary"===t?this.Ti(d).next(g=>!!g||this.Ei(d)).next(g=>{if(!g)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Et(lt.FAILED_PRECONDITION,AF);return i(d)}).next(g=>this.vi(d).next(()=>g)):this.Oi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Oi(e){return FI(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Et(lt.FAILED_PRECONDITION,Wk)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return FI(e).put("owner",t)}static D(){return lc.D()}Ai(e){const t=FI(e);return t.get("owner").next(i=>this.Ri(i)?(Pt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):nt.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Xr(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,_i.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function FI(n){return Vs(n,"owner")}function qD(n){return Vs(n,"clientMetadata")}function Yk(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Kk{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=ei(),r=ei();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Kk(e,t.fromCache,i,r)}}class TB{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(c2(t))return nt.resolve(null);let i=Lo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=OD(t,null,"F"),i=Lo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ei(...s);return this.Ui.getDocuments(e,a).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.ji(t,d);return this.zi(t,g,a,f.readTime)?this.Ki(e,OD(t,null,"F")):this.Wi(e,g,t,f)}))})))}Gi(e,t,i,r){return c2(t)||r.isEqual(Cn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const a=this.ji(t,s);return this.zi(t,a,i,r)?this.Qi(e,t):(lk()<=xr.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ek(t)),this.Wi(e,a,t,DF(r,-1)))})}ji(e,t){let i=new pr(h2(e));return t.forEach((r,s)=>{bI(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return lk()<=xr.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Ek(t)),this.Ui.getDocumentsMatchingQuery(e,t,La.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class tj{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new cr(Gn),this.Yi=new qd(s=>Sm(s),_I),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function SB(n,e,t,i){return new tj(n,e,t,i)}function DB(n,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,ht.Z)(function*(n,e){const t=en(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],d=[];let f=ei();for(const g of r){a.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of s){d.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(g=>({er:g,removedBatchIds:a,addedBatchIds:d}))})})}),Zk.apply(this,arguments)}function nj(n,e){const t=en(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(a,d,f,g){const v=f.batch,I=v.keys();let D=nt.resolve();return I.forEach(A=>{D=D.next(()=>g.getEntry(d,A)).next(P=>{const V=f.docVersions.get(A);wn(null!==V),P.version.compareTo(V)<0&&(v.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),g.addEntry(P)))})}),D.next(()=>a.mutationQueue.removeMutationBatch(d,v))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=ei();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(d=d.add(a.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function xB(n){const e=en(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ij(n,e){const t=en(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const d=[];e.targetChanges.forEach((v,I)=>{const D=r.get(I);if(!D)return;d.push(t.Bs.removeMatchingKeys(s,v.removedDocuments,I).next(()=>t.Bs.addMatchingKeys(s,v.addedDocuments,I)));let A=D.withSequenceNumber(s.currentSequenceNumber);var P,V,$;null!==e.targetMismatches.get(I)?A=A.withResumeToken(Ts.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),r=r.insert(I,A),V=A,$=v,(0===(P=D).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0)&&d.push(t.Bs.updateTargetData(s,A))});let f=sa(),g=ei();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),d.push(AB(s,a,e.documentUpdates).next(v=>{f=v.nr,g=v.sr})),!i.isEqual(Cn.min())){const v=t.Bs.getLastRemoteSnapshotVersion(s).next(I=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(v)}return nt.waitFor(d).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.Ji=r,s))}function AB(n,e,t){let i=ei(),r=ei();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=sa();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Cn.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):Pt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{nr:a,sr:r}})}function rj(n,e){const t=en(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bv(n,e){const t=en(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,nt.resolve(r)):t.Bs.allocateTargetId(i).next(a=>(r=new Kd(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function wv(n,e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,ht.Z)(function*(n,e,t){const i=en(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Kf(a))throw a;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Qk.apply(this,arguments)}function YD(n,e,t){const i=en(n);let r=Cn.min(),s=ei();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,f,g){const v=en(d),I=v.Yi.get(g);return void 0!==I?nt.resolve(v.Ji.get(I)):v.Bs.getTargetData(f,g)}(i,a,Lo(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,d.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,e,t?r:Cn.min(),t?s:ei())).next(d=>(kB(i,d2(e),d),{documents:d,ir:s})))}function MB(n,e){const t=en(n),i=en(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(a=>a?a.target:null))}function OB(n,e){const t=en(n),i=t.Xi.get(e)||Cn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,DF(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(kB(t,e,r),r))}function kB(n,e,t){let i=n.Xi.get(e)||Cn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function Xk(){return Xk=(0,ht.Z)(function*(n,e,t,i){const r=en(n);let s=ei(),a=sa();for(const g of t){const v=e.rr(g.metadata.name);g.document&&(s=s.add(v));const I=e.ur(g);I.setReadTime(e.cr(g.metadata.readTime)),a=a.insert(v,I)}const d=r.Zi.newChangeBuffer({trackRemovals:!0}),f=yield bv(r,(g=i,Lo(dv(Ii.fromString(`__bundle__/docs/${g}`)))));var g;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>AB(g,d,a).next(v=>(d.apply(g),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(g,f.targetId).next(()=>r.Bs.addMatchingKeys(g,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,v.nr,v.sr)).next(()=>v.nr)))}),Xk.apply(this,arguments)}function oj(n,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ht.Z)(function*(n,e,t=ei()){const i=yield bv(n,Lo(Fk(e.bundledQuery))),r=en(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=Jr(e.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,e);const d=i.withResumeToken(Ts.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(d.targetId,d),r.Bs.updateTargetData(s,d).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),Jk.apply(this,arguments)}function PB(n,e){return`firestore_clients_${n}_${e}`}function RB(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function eP(n,e){return`firestore_targets_${n}_${e}`}class KD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Et(r.error.code,r.error.message))),a?new KD(e,t,r.state,s):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BI{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Et(i.error.code,i.error.message))),s?new BI(e,i.state,r):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Tk();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=kF(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new ZD(e,s):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tP{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tP(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nP{constructor(){this.activeTargetIds=Tk()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new cr(Gn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=PB(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new nP),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ht.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(PB(e.persistenceKey,r));if(s){const a=ZD.ar(r,s);a&&(e.gr=e.gr.insert(a.clientId,a))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(eP(this.persistenceKey,e));if(i){const r=BI.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eP(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pt("SharedClientState","READ",e,t),t}setItem(e,t){Pt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ht.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let a=Fa.ct;if(null!=s)try{const d=JSON.parse(s);wn("number"==typeof d),a=d}catch(d){Xr("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==Fa.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new KD(this.currentUser,e,t,i),s=RB(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=RB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=eP(this.persistenceKey,e),s=new BI(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return ZD.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return KD.ar(new Bs(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return BI.ar(r,t)}br(e){return tP.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ht.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),a=[],d=[];return s.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Wr(a,d).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Tk();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class NB{constructor(){this.Hr=new nP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aj{Yr(e){}shutdown(){}}class LB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QD=null;function rP(){return null===QD?QD=268435456+Math.round(2147483648*Math.random()):QD++,"0x"+QD.toString(16)}const lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const lo="WebChannelConnection";class uj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const a=rP(),d=this.To(e,t);Pt("RestConnection",`Sending RPC '${e}' ${a}:`,d,i);const f={};return this.Eo(f,r,s),this.Ao(e,d,f,i).then(g=>(Pt("RestConnection",`Received RPC '${e}' ${a}: `,g),g),g=>{throw wl("RestConnection",`RPC '${e}' ${a} failed with error: `,g,"url: ",d,"request:",i),g})}vo(e,t,i,r,s,a){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+sv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${lj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=rP();return new Promise((a,d)=>{const f=new a6;f.setWithCredentials(!0),f.listenOnce(r6.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ak.NO_ERROR:const v=f.getResponseJson();Pt(lo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),a(v);break;case ak.TIMEOUT:Pt(lo,`RPC '${e}' ${s} timed out`),d(new Et(lt.DEADLINE_EXCEEDED,"Request time out"));break;case ak.HTTP_ERROR:const I=f.getStatus();if(Pt(lo,`RPC '${e}' ${s} failed with status:`,I,"response text:",f.getResponseText()),I>0){let D=f.getResponseJson();Array.isArray(D)&&(D=D[0]);const A=D?.error;if(A&&A.status&&A.message){const P=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf($)>=0?$:lt.UNKNOWN}(A.status);d(new Et(P,A.message))}else d(new Et(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Et(lt.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Pt(lo,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(r);Pt(lo,`RPC '${e}' ${s} sending request:`,r),f.send(t,"POST",g,i,15)})}Ro(e,t,i){const r=rP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=n6(),d=i6(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.xmlHttpFactory=new o6({})),this.Eo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=s.join("");Pt(lo,`Creating RPC '${e}' stream ${r}: ${v}`,f);const I=a.createWebChannel(v,f);let D=!1,A=!1;const P=new cj({ro:$=>{A?Pt(lo,`Not sending because RPC '${e}' stream ${r} is closed:`,$):(D||(Pt(lo,`Opening RPC '${e}' stream ${r} transport.`),I.open(),D=!0),Pt(lo,`RPC '${e}' stream ${r} sending:`,$),I.send($))},oo:()=>I.close()}),V=($,ae,Ie)=>{$.listen(ae,He=>{try{Ie(He)}catch(je){setTimeout(()=>{throw je},0)}})};return V(I,yD.EventType.OPEN,()=>{A||Pt(lo,`RPC '${e}' stream ${r} transport opened.`)}),V(I,yD.EventType.CLOSE,()=>{A||(A=!0,Pt(lo,`RPC '${e}' stream ${r} transport closed`),P.wo())}),V(I,yD.EventType.ERROR,$=>{A||(A=!0,wl(lo,`RPC '${e}' stream ${r} transport errored:`,$),P.wo(new Et(lt.UNAVAILABLE,"The operation could not be completed")))}),V(I,yD.EventType.MESSAGE,$=>{var ae;if(!A){const Ie=$.data[0];wn(!!Ie);const He=Ie,je=He.error||(null===(ae=He[0])||void 0===ae?void 0:ae.error);if(je){Pt(lo,`RPC '${e}' stream ${r} received error:`,je);const Ze=je.status;let pt=function(Ft){const mn=us[Ft];if(void 0!==mn)return M2(mn)}(Ze),Dt=je.message;void 0===pt&&(pt=lt.INTERNAL,Dt="Unknown error status: "+Ze+" with message "+je.message),A=!0,P.wo(new Et(pt,Dt)),I.close()}else Pt(lo,`RPC '${e}' stream ${r} received:`,Ie),P._o(Ie)}}),V(d,s6.STAT_EVENT,$=>{$.stat===wF.PROXY?Pt(lo,`RPC '${e}' stream ${r} detected buffering proxy`):$.stat===wF.NOPROXY&&Pt(lo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function FB(){return typeof window<"u"?window:null}function XD(){return typeof document<"u"?document:null}function VI(n){return new bz(n,!0)}class sP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class BB{constructor(e,t,i,r,s,a,d,f){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ht.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ht.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ht.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===lt.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===lt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Et(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ht.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dj extends BB{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cz(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:un(),r=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(wn(void 0===g||"string"==typeof g),Ts.fromBase64String(g||"")):(wn(void 0===g||g instanceof Uint8Array),Ts.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,d=a&&function(f){const g=void 0===f.code?lt.UNKNOWN:M2(f.code);return new Et(g,f.message||"")}(a);t=new N2(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=Mu(n,i.document.name),s=Jr(i.document.updateTime),a=i.document.createTime?Jr(i.document.createTime):Cn.min(),d=new Zs({mapValue:{fields:i.document.fields}}),f=gr.newFoundDocument(r,s,a,d);t=new LD(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Mu(n,i.document),s=i.readTime?Jr(i.readTime):Cn.min(),a=gr.newNoDocument(r,s);t=new LD([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const i=e.documentRemove,r=Mu(n,i.document);t=new LD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return un();{const i=e.filter,{count:r=0,unchangedNames:s}=i,a=new pz(r,s);t=new R2(i.targetId,a)}}var f;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Cn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Cn.min():s.readTime?Jr(s.readTime):Cn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=AI(this.serializer),t.addTarget=function(r,s){let a;const d=s.target;if(a=xD(d)?{documents:G2(r,d)}:{query:Lk(r,d)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=V2(r,s.resumeToken);const f=kk(r,s.expectedCount);null!==f&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Cn.min())>0){a.readTime=mv(r,s.snapshotVersion.toTimestamp());const f=kk(r,s.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,e);const i=function Tz(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=AI(this.serializer),t.removeTarget=e,this.Wo(t)}}class hj extends BB{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ez(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(i,r){let s=Jr(i.updateTime?i.updateTime:r);return s.isEqual(Cn.min())&&(s=Jr(r)),new uz(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Jr(e.commitTime);return this.listener.cu(i,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=AI(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>MI(this.serializer,i))};this.Wo(t)}}class fj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Et(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Et(lt.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,t,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Et(lt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class gj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xr(t),this.mu=!1):Pt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class mj{constructor(e,t,i,r,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,ht.Z)(function*(){var f;ap(a)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,ht.Z)(function*(g){const v=en(g);v.vu.add(4),yield Iv(v),v.bu.set("Unknown"),v.vu.delete(4),yield $I(v)}),function(g){return f.apply(this,arguments)})(a))}))}),this.bu=new gj(i,r)}}function $I(n){return aP.apply(this,arguments)}function aP(){return aP=(0,ht.Z)(function*(n){if(ap(n))for(const e of n.Ru)yield e(!0)}),aP.apply(this,arguments)}function Iv(n){return lP.apply(this,arguments)}function lP(){return lP=(0,ht.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),lP.apply(this,arguments)}function JD(n,e){const t=en(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),dP(t)?uP(t):Ev(t).Ko()&&cP(t,e))}function UI(n,e){const t=en(n),i=Ev(t);t.Au.delete(e),i.Ko()&&VB(t,e),0===t.Au.size&&(i.Ko()?i.jo():ap(t)&&t.bu.set("Unknown"))}function cP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ev(n).su(e)}function VB(n,e){n.Vu.qt(e),Ev(n).iu(e)}function uP(n){n.Vu=new mz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ev(n).start(),n.bu.gu()}function dP(n){return ap(n)&&!Ev(n).Uo()&&n.Au.size>0}function ap(n){return 0===en(n).vu.size}function $B(n){n.Vu=void 0}function yj(n){return hP.apply(this,arguments)}function hP(){return hP=(0,ht.Z)(function*(n){n.Au.forEach((e,t)=>{cP(n,e)})}),hP.apply(this,arguments)}function _j(n,e){return fP.apply(this,arguments)}function fP(){return fP=(0,ht.Z)(function*(n,e){$B(n),dP(n)?(n.bu.Iu(e),uP(n)):n.bu.set("Unknown")}),fP.apply(this,arguments)}function vj(n,e,t){return pP.apply(this,arguments)}function pP(){return pP=(0,ht.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof N2&&2===e.state&&e.cause)try{yield(i=(0,ht.Z)(function*(r,s){const a=s.cause;for(const d of s.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ex(n,i)}else if(e instanceof LD?n.Vu.Ht(e):e instanceof R2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Cn.min()))try{const i=yield xB(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=r.Au.get(f);g&&r.Au.set(f,g.withResumeToken(d.resumeToken,s))}}),a.targetMismatches.forEach((d,f)=>{const g=r.Au.get(d);if(!g)return;r.Au.set(d,g.withResumeToken(Ts.EMPTY_BYTE_STRING,g.snapshotVersion)),VB(r,d);const v=new Kd(g.target,d,f,g.sequenceNumber);cP(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield ex(n,i)}var i}),pP.apply(this,arguments)}function ex(n,e,t){return gP.apply(this,arguments)}function gP(){return gP=(0,ht.Z)(function*(n,e,t){if(!Kf(e))throw e;n.vu.add(1),yield Iv(n),n.bu.set("Offline"),t||(t=()=>xB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ht.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $I(n)}))}),gP.apply(this,arguments)}function UB(n,e){return e().catch(t=>ex(n,t,e))}function Cv(n){return mP.apply(this,arguments)}function mP(){return mP=(0,ht.Z)(function*(n){const e=en(n),t=lp(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bj(e);)try{const r=yield rj(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,wj(e,r)}catch(r){yield ex(e,r)}HB(e)&&zB(e)}),mP.apply(this,arguments)}function bj(n){return ap(n)&&n.Eu.length<10}function wj(n,e){n.Eu.push(e);const t=lp(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function HB(n){return ap(n)&&!lp(n).Uo()&&n.Eu.length>0}function zB(n){lp(n).start()}function Ij(n){return yP.apply(this,arguments)}function yP(){return yP=(0,ht.Z)(function*(n){lp(n).hu()}),yP.apply(this,arguments)}function Cj(n){return _P.apply(this,arguments)}function _P(){return _P=(0,ht.Z)(function*(n){const e=lp(n);for(const t of n.Eu)e.uu(t.mutations)}),_P.apply(this,arguments)}function Ej(n,e,t){return vP.apply(this,arguments)}function vP(){return vP=(0,ht.Z)(function*(n,e,t){const i=n.Eu.shift(),r=xk.from(i,e,t);yield UB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Cv(n)}),vP.apply(this,arguments)}function Tj(n,e){return bP.apply(this,arguments)}function bP(){return bP=(0,ht.Z)(function*(n,e){var t;e&&lp(n).ou&&(yield(t=(0,ht.Z)(function*(i,r){if(A2(s=r.code)&&s!==lt.ABORTED){const a=i.Eu.shift();lp(i).Qo(),yield UB(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Cv(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),HB(n)&&zB(n)}),bP.apply(this,arguments)}function jB(n,e){return wP.apply(this,arguments)}function wP(){return wP=(0,ht.Z)(function*(n,e){const t=en(n);t.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=ap(t);t.vu.add(3),yield Iv(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $I(t)}),wP.apply(this,arguments)}function IP(n,e){return CP.apply(this,arguments)}function CP(){return CP=(0,ht.Z)(function*(n,e){const t=en(n);e?(t.vu.delete(2),yield $I(t)):e||(t.vu.add(2),yield Iv(t),t.bu.set("Unknown"))}),CP.apply(this,arguments)}function Ev(n){return n.Su||(n.Su=function(e,t,i){const r=en(e);return r.fu(),new dj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:yj.bind(null,n),ao:_j.bind(null,n),nu:vj.bind(null,n)}),n.Ru.push(function(){var e=(0,ht.Z)(function*(t){t?(n.Su.Qo(),dP(n)?uP(n):n.bu.set("Unknown")):(yield n.Su.stop(),$B(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function lp(n){return n.Du||(n.Du=function(e,t,i){const r=en(e);return r.fu(),new hj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Ij.bind(null,n),ao:Tj.bind(null,n),au:Cj.bind(null,n),cu:Ej.bind(null,n)}),n.Ru.push(function(){var e=(0,ht.Z)(function*(t){t?(n.Du.Qo(),yield Cv(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class EP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,d=new EP(e,t,a,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Et(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),Kf(n))return new Et(lt.UNAVAILABLE,`${e}: ${n}`);throw n}class Sv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qt.comparator(t.key,i.key):(t,i)=>Qt.comparator(t.key,i.key),this.keyedMap=wI(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Sv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Sv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class GB{constructor(){this.Cu=new cr(Qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):un():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Dv{constructor(e,t,i,r,s,a,d,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new Dv(e,t,Sv.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Sj{constructor(){this.Nu=void 0,this.listeners=[]}}class Dj{constructor(){this.queries=new qd(e=>u2(e),vI),this.onlineState="Unknown",this.ku=new Set}}function TP(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,ht.Z)(function*(n,e){const t=en(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Sj),r)try{s.Nu=yield t.onListen(i)}catch(a){const d=Tv(a,`Initialization of query '${Ek(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&AP(t)}),SP.apply(this,arguments)}function DP(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,ht.Z)(function*(n,e){const t=en(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),xP.apply(this,arguments)}function xj(n,e){const t=en(n);let i=!1;for(const r of e){const a=t.queries.get(r.query);if(a){for(const d of a.listeners)d.$u(r)&&(i=!0);a.Nu=r}}i&&AP(t)}function Aj(n,e,t){const i=en(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function AP(n){n.ku.forEach(e=>{e.next()})}class MP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Dv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Dv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mj{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class WB{constructor(e){this.serializer=e}rr(e){return Mu(this.serializer,e)}ur(e){return e.metadata.exists?j2(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Jr(e)}}class Oj{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qB(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Ii.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new WB(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const d=(t.get(a)||ei()).add(s);t.set(a,d)}}return t}complete(){var e=this;return(0,ht.Z)(function*(){const t=yield function sj(n,e,t,i){return Xk.apply(this,arguments)}(e.localStore,new WB(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield oj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function qB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YB{constructor(e){this.key=e}}class KB{constructor(e){this.key=e}}class ZB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ei(),this.mutatedKeys=ei(),this.tc=h2(e),this.ec=new Sv(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new GB,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((v,I)=>{const D=r.get(v),A=bI(this.query,I)?I:null,P=!!D&&this.mutatedKeys.has(D.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let $=!1;D&&A?D.data.isEqual(A.data)?P!==V&&(i.track({type:3,doc:A}),$=!0):this.rc(D,A)||(i.track({type:2,doc:A}),$=!0,(f&&this.tc(A,f)>0||g&&this.tc(A,g)<0)&&(d=!0)):!D&&A?(i.track({type:0,doc:A}),$=!0):D&&!A&&(i.track({type:1,doc:D}),$=!0,(f||g)&&(d=!0)),$&&(A?(a=a.add(A),s=V?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:d,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((g,v)=>function(I,D){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return A(I)-A(D)}(g.type,v.type)||this.tc(g.doc,v.doc)),this.oc(i);const a=t?this.uc():[],d=0===this.Zu.size&&this.current?1:0,f=d!==this.Xu;return this.Xu=d,0!==s.length||f?{snapshot:new Dv(this.query,e.ec,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new GB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ei(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new KB(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new YB(i))}),t}hc(e){this.Yu=e.ir,this.Zu=ei();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Dv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Pj{constructor(e){this.key=e,this.fc=!1}}class Rj{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new qd(d=>u2(d),vI),this._c=new Map,this.mc=new Set,this.gc=new cr(Qt.comparator),this.yc=new Map,this.Ic=new jk,this.Tc={},this.Ec=new Map,this.Ac=Nm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Nj(n,e){return OP.apply(this,arguments)}function OP(){return OP=(0,ht.Z)(function*(n,e){const t=eR(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield bv(t.localStore,Lo(e)),d=t.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield kP(t,e,i,"current"===d,a.resumeToken),t.isPrimaryClient&&JD(t.remoteStore,a)}return r}),OP.apply(this,arguments)}function kP(n,e,t,i,r){return PP.apply(this,arguments)}function PP(){return PP=(0,ht.Z)(function*(n,e,t,i,r){n.Rc=(I,D,A)=>{return(P=(0,ht.Z)(function*(V,$,ae,Ie){let He=$.view.sc(ae);He.zi&&(He=yield YD(V.localStore,$.query,!1).then(({documents:pt})=>$.view.sc(pt,He)));const je=Ie&&Ie.targetChanges.get($.targetId),Ze=$.view.applyChanges(He,V.isPrimaryClient,je);return zP(V,$.targetId,Ze.cc),Ze.snapshot}),function(V,$,ae,Ie){return P.apply(this,arguments)})(n,I,D,A);var P};const s=yield YD(n.localStore,e,!0),a=new ZB(e,s.ir),d=a.sc(s.documents),f=DI.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),g=a.applyChanges(d,n.isPrimaryClient,f);zP(n,t,g.cc);const v=new kj(e,t,a);return n.wc.set(e,v),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),g.snapshot}),PP.apply(this,arguments)}function Lj(n,e){return RP.apply(this,arguments)}function RP(){return RP=(0,ht.Z)(function*(n,e){const t=en(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!vI(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),UI(t.remoteStore,i.targetId),xv(t,i.targetId)}).catch(Yf))):(xv(t,i.targetId),yield wv(t.localStore,i.targetId,!0))}),RP.apply(this,arguments)}function NP(){return NP=(0,ht.Z)(function*(n,e,t){const i=tR(n);try{const r=yield function(s,a){const d=en(s),f=Ar.now(),g=a.reduce((D,A)=>D.add(A.key),ei());let v,I;return d.persistence.runTransaction("Locally write mutations","readwrite",D=>{let A=sa(),P=ei();return d.Zi.getEntries(D,g).next(V=>{A=V,A.forEach(($,ae)=>{ae.isValidDocument()||(P=P.add($))})}).next(()=>d.localDocuments.getOverlayedDocuments(D,A)).next(V=>{v=V;const $=[];for(const ae of a){const Ie=hz(ae,v.get(ae.key).overlayedDocument);null!=Ie&&$.push(new Yd(ae.key,Ie,KF(Ie.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(D,f,$,a)}).next(V=>{I=V;const $=V.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(D,V.batchId,$)})}).then(()=>({batchId:I.batchId,changes:p2(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,d){let f=s.Tc[s.currentUser.toKey()];f||(f=new cr(Gn)),f=f.insert(a,d),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield Zd(i,r.changes),yield Cv(i.remoteStore)}catch(r){const s=Tv(r,"Failed to persist write");t.reject(s)}}),NP.apply(this,arguments)}function QB(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,ht.Z)(function*(n,e){const t=en(n);try{const i=yield ij(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.yc.get(s);a&&(wn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?wn(a.fc):r.removedDocuments.size>0&&(wn(a.fc),a.fc=!1))}),yield Zd(t,i,e)}catch(i){yield Yf(i)}}),LP.apply(this,arguments)}function XB(n,e,t){const i=en(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,a)=>{const d=a.view.Mu(e);d.snapshot&&r.push(d.snapshot)}),function(s,a){const d=en(s);d.onlineState=a;let f=!1;d.queries.forEach((g,v)=>{for(const I of v.listeners)I.Mu(a)&&(f=!0)}),f&&AP(d)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Bj(n,e,t){return FP.apply(this,arguments)}function FP(){return FP=(0,ht.Z)(function*(n,e,t){const i=en(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let a=new cr(Qt.comparator);a=a.insert(s,gr.newNoDocument(s,Cn.min()));const d=ei().add(s),f=new SI(Cn.min(),new Map,new cr(Gn),a,d);yield QB(i,f),i.gc=i.gc.remove(s),i.yc.delete(e),jP(i)}else yield wv(i.localStore,e,!1).then(()=>xv(i,e,t)).catch(Yf)}),FP.apply(this,arguments)}function Vj(n,e){return BP.apply(this,arguments)}function BP(){return BP=(0,ht.Z)(function*(n,e){const t=en(n),i=e.batch.batchId;try{const r=yield nj(t.localStore,e);HP(t,i,null),UP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Zd(t,r)}catch(r){yield Yf(r)}}),BP.apply(this,arguments)}function $j(n,e,t){return VP.apply(this,arguments)}function VP(){return VP=(0,ht.Z)(function*(n,e,t){const i=en(n);try{const r=yield function(s,a){const d=en(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,a).next(v=>(wn(null!==v),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,e);HP(i,e,t),UP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Zd(i,r)}catch(r){yield Yf(r)}}),VP.apply(this,arguments)}function $P(){return $P=(0,ht.Z)(function*(n,e){const t=en(n);ap(t.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=en(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Tv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),$P.apply(this,arguments)}function UP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function HP(n,e,t){const i=en(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function xv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||JB(n,i)})}function JB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(UI(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),jP(n))}function zP(n,e,t){for(const i of t)i instanceof YB?(n.Ic.addReference(i.key,e),Hj(n,i)):i instanceof KB?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||JB(n,i.key)):un()}function Hj(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Pt("SyncEngine","New document in limbo: "+t),n.mc.add(i),jP(n))}function jP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qt(Ii.fromString(e)),i=n.Ac.next();n.yc.set(i,new Pj(t)),n.gc=n.gc.insert(t,i),JD(n.remoteStore,new Kd(Lo(dv(t.path)),i,"TargetPurposeLimboResolution",Fa.ct))}}function Zd(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=(0,ht.Z)(function*(n,e,t){const i=en(n),r=[],s=[],a=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,f)=>{a.push(i.Rc(f,e,t).then(g=>{if((g||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,g?.fromCache?"not-current":"current"),g){r.push(g);const v=Kk.Li(f.targetId,g);s.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(d=(0,ht.Z)(function*(f,g){const v=en(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>nt.forEach(g,D=>nt.forEach(D.Fi,A=>v.persistence.referenceDelegate.addReference(I,D.targetId,A)).next(()=>nt.forEach(D.Bi,A=>v.persistence.referenceDelegate.removeReference(I,D.targetId,A)))))}catch(I){if(!Kf(I))throw I;Pt("LocalStore","Failed to update sequence numbers: "+I)}for(const I of g){const D=I.targetId;if(!I.fromCache){const A=v.Ji.get(D),V=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);v.Ji=v.Ji.insert(D,V)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,s))}),GP.apply(this,arguments)}function zj(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,ht.Z)(function*(n,e){const t=en(n);if(!t.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const i=yield DB(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(a=>{a.forEach(d=>{d.reject(new Et(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zd(t,i.er)}var r}),WP.apply(this,arguments)}function jj(n,e){const t=en(n),i=t.yc.get(e);if(i&&i.fc)return ei().add(i.key);{let r=ei();const s=t._c.get(e);if(!s)return r;for(const a of s){const d=t.wc.get(a);r=r.unionWith(d.view.nc)}return r}}function Gj(n,e){return qP.apply(this,arguments)}function qP(){return qP=(0,ht.Z)(function*(n,e){const t=en(n),i=yield YD(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&zP(t,e.targetId,r.cc),r}),qP.apply(this,arguments)}function Wj(n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,ht.Z)(function*(n,e){const t=en(n);return OB(t.localStore,e).then(i=>Zd(t,i))}),YP.apply(this,arguments)}function qj(n,e,t,i){return KP.apply(this,arguments)}function KP(){return KP=(0,ht.Z)(function*(n,e,t,i){const r=en(n),s=yield function(a,d){const f=en(a),g=en(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>g.Sn(v,d).next(I=>I?f.localDocuments.getDocuments(v,I):nt.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Cv(r.remoteStore):"acknowledged"===t||"rejected"===t?(HP(r,e,i||null),UP(r,e),d=e,en(en(r.localStore).mutationQueue).Cn(d)):un(),yield Zd(r,s)):Pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),KP.apply(this,arguments)}function ZP(){return ZP=(0,ht.Z)(function*(n,e){const t=en(n);if(eR(t),tR(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield eV(t,i.toArray());t.vc=!0,yield IP(t.remoteStore,!0);for(const s of r)JD(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(xv(t,a),wv(t.localStore,a,!0))),UI(t.remoteStore,a)}),yield r,yield eV(t,i),function(s){const a=en(s);a.yc.forEach((d,f)=>{UI(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new cr(Qt.comparator)}(t),t.vc=!1,yield IP(t.remoteStore,!1)}}),ZP.apply(this,arguments)}function eV(n,e,t){return QP.apply(this,arguments)}function QP(){return QP=(0,ht.Z)(function*(n,e,t){const i=en(n),r=[],s=[];for(const a of e){let d;const f=i._c.get(a);if(f&&0!==f.length){d=yield bv(i.localStore,Lo(f[0]));for(const g of f){const v=i.wc.get(g),I=yield Gj(i,v);I.snapshot&&s.push(I.snapshot)}}else{const g=yield MB(i.localStore,a);d=yield bv(i.localStore,g),yield kP(i,tV(g),a,!1,d.resumeToken)}r.push(d)}return i.dc.nu(s),r}),QP.apply(this,arguments)}function tV(n){return l2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kj(n){const e=en(n);return en(en(e.localStore).persistence).$i()}function Zj(n,e,t,i){return XP.apply(this,arguments)}function XP(){return XP=(0,ht.Z)(function*(n,e,t,i){const r=en(n);if(r.vc)return void Pt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield OB(r.localStore,d2(s[0])),d=SI.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ts.EMPTY_BYTE_STRING);yield Zd(r,a,d);break}case"rejected":yield wv(r.localStore,e,!0),xv(r,e,i);break;default:un()}}),XP.apply(this,arguments)}function Qj(n,e,t){return JP.apply(this,arguments)}function JP(){return JP=(0,ht.Z)(function*(n,e,t){const i=eR(n);if(i.vc){for(const r of e){if(i._c.has(r)){Pt("SyncEngine","Adding an already active target "+r);continue}const s=yield MB(i.localStore,r),a=yield bv(i.localStore,s);yield kP(i,tV(s),a.targetId,!1,a.resumeToken),JD(i.remoteStore,a)}for(const r of t)i._c.has(r)&&(yield wv(i.localStore,r,!1).then(()=>{UI(i.remoteStore,r),xv(i,r)}).catch(Yf))}}),JP.apply(this,arguments)}function eR(n){const e=en(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bj.bind(null,e),e.dc.nu=xj.bind(null,e.eventManager),e.dc.Pc=Aj.bind(null,e.eventManager),e}function tR(n){const e=en(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$j.bind(null,e),e}class HI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ht.Z)(function*(){t.serializer=VI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return SB(this.persistence,new TB,e.initialUser,this.serializer)}createPersistence(e){return new Gk(GD.zs,this.serializer)}createSharedClientState(e){return new NB}terminate(){var e=this;return(0,ht.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nR extends HI{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ht.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield tR(i.Vc.syncEngine),yield Cv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return SB(this.persistence,new TB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new mB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new E6(t,this.persistence);return new C6(e.asyncQueue,i)}createPersistence(e){const t=Yk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new qk(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,FB(),XD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new NB}}class nV extends nR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ht.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof iP&&(i.sharedClientState.syncEngine={jr:qj.bind(null,r),zr:Zj.bind(null,r),Wr:Qj.bind(null,r),$i:Kj.bind(null,r),Qr:Wj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,ht.Z)(function*(a){yield function Yj(n,e){return ZP.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=FB();if(!iP.D(t))throw new Et(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Yk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iP(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Av{initialize(e,t){var i=this;return(0,ht.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>XB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=zj.bind(null,i.syncEngine),yield IP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dj}createDatastore(e){const t=VI(e.databaseInfo.databaseId),i=new uj(e.databaseInfo);return new fj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>XB(this.syncEngine,d,0),a=LB.D()?new LB:new aj,new mj(t,i,r,s,a);var t,i,r,s,a}createSyncEngine(e,t){return function(i,r,s,a,d,f,g){const v=new Rj(i,r,s,a,d,f);return g&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ht.Z)(function*(t){const i=en(t);Pt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Iv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iV(n,e=10240){let t=0;return{read:()=>(0,ht.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ht.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class e4{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Es,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ht.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ht.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ht.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new Mj(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ht.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,ht.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ht.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class t4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ht.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Et(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ht.Z)(function*(s,a){const d=en(s),f=AI(d.serializer)+"/documents",g={documents:a.map(A=>xI(d.serializer,A))},v=yield d.vo("BatchGetDocuments",f,g,a.length),I=new Map;v.forEach(A=>{const P=function Iz(n,e){return"found"in e?function(t,i){wn(!!i.found);const r=Mu(t,i.found.name),s=Jr(i.found.updateTime),a=i.found.createTime?Jr(i.found.createTime):Cn.min(),d=new Zs({mapValue:{fields:i.found.fields}});return gr.newFoundDocument(r,s,a,d)}(n,e):"missing"in e?function(t,i){wn(!!i.missing),wn(!!i.readTime);const r=Mu(t,i.missing),s=Jr(i.readTime);return gr.newNoDocument(r,s)}(n,e):un()}(d.serializer,A);I.set(P.key.toString(),P)});const D=[];return a.forEach(A=>{const P=I.get(A.toString());wn(!!P),D.push(P)}),D}),function(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new gv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ht.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Qt.fromPath(r);e.mutations.push(new Sk(s,e.precondition(s)))}),yield(i=(0,ht.Z)(function*(r,s){const a=en(r),d=AI(a.serializer)+"/documents",f={writes:s.map(g=>MI(a.serializer,g))};yield a.Io("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw un();t=Cn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Et(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cn.min())?Mr.exists(!1):Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cn.min()))throw new Et(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class n4{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new sP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ht.Z)(function*(){const t=new t4(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!hI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!A2(t)}return!1}}class i4{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Bs.UNAUTHENTICATED,this.clientId=TF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,ht.Z)(function*(d){Pt("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Pt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,ht.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Tv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function nx(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,ht.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ht.Z)(function*(s){i.isEqual(s)||(yield DB(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iR.apply(this,arguments)}function rR(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,ht.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oR(n);Pt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>jB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>jB(e.remoteStore,s)),n._onlineComponents=e}),sR.apply(this,arguments)}function rV(n){return"FirebaseError"===n.name?n.code===lt.FAILED_PRECONDITION||n.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function oR(n){return aR.apply(this,arguments)}function aR(){return aR=(0,ht.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rV(t))throw t;wl("Error using user provided cache. Falling back to memory cache: "+t),yield nx(n,new HI)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield nx(n,new HI);return n._offlineComponents}),aR.apply(this,arguments)}function ix(n){return lR.apply(this,arguments)}function lR(){return lR=(0,ht.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield rR(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield rR(n,new Av))),n._onlineComponents}),lR.apply(this,arguments)}function sV(n){return oR(n).then(e=>e.persistence)}function rx(n){return oR(n).then(e=>e.localStore)}function oV(n){return ix(n).then(e=>e.remoteStore)}function cR(n){return ix(n).then(e=>e.syncEngine)}function Mv(n){return uR.apply(this,arguments)}function uR(){return uR=(0,ht.Z)(function*(n){const e=yield ix(n),t=e.eventManager;return t.onListen=Nj.bind(null,e.syncEngine),t.onUnlisten=Lj.bind(null,e.syncEngine),t}),uR.apply(this,arguments)}function lV(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(r,s,a,d,f){const g=new tx({next:I=>{s.enqueueAndForget(()=>DP(r,v));const D=I.docs.has(a);!D&&I.fromCache?f.reject(new Et(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&d&&"server"===d.source?f.reject(new Et(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),v=new MP(dv(a.path),g,{includeMetadataChanges:!0,Ku:!0});return TP(r,v)}(yield Mv(n),n.asyncQueue,e,t,i)})),i.promise}function cV(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(r,s,a,d,f){const g=new tx({next:I=>{s.enqueueAndForget(()=>DP(r,v)),I.fromCache&&"server"===d.source?f.reject(new Et(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),v=new MP(a,g,{includeMetadataChanges:!0,Ku:!0});return TP(r,v)}(yield Mv(n),n.asyncQueue,e,t,i)})),i.promise}function uV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const dV=new Map;function dR(n,e,t){if(!t)throw new Et(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hV(n,e,t,i){if(!0===e&&!0===i)throw new Et(lt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fV(n){if(!Qt.isDocumentKey(n))throw new Et(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pV(n){if(Qt.isDocumentKey(n))throw new Et(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":un()}function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Et(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sx(n);throw new Et(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gV(n,e){if(e<=0)throw new Et(lt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mV{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Et(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Et(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uV(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zI{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Et(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new d6;switch(t.type){case"firstParty":return new g6(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Et(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dV.get(e);t&&(Pt("ComponentProvider","Removing Datastore"),dV.delete(e),t.terminate())}(this),Promise.resolve()}}class mr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Qs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Ou extends Qs{constructor(e,t,i){super(e,t,dv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Qt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function _V(n,e,...t){if(n=(0,_i.m9)(n),dR("collection","path",e),n instanceof zI){const i=Ii.fromString(e,...t);return pV(i),new Ou(n,null,i)}{if(!(n instanceof mr||n instanceof Ou))throw new Et(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ii.fromString(e,...t));return pV(i),new Ou(n.firestore,null,i)}}function ox(n,e,...t){if(n=(0,_i.m9)(n),1===arguments.length&&(e=TF.A()),dR("doc","path",e),n instanceof zI){const i=Ii.fromString(e,...t);return fV(i),new mr(n,null,new Qt(i))}{if(!(n instanceof mr||n instanceof Ou))throw new Et(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ii.fromString(e,...t));return fV(i),new mr(n.firestore,n instanceof Ou?n.converter:null,new Qt(i))}}function vV(n,e){return n=(0,_i.m9)(n),e=(0,_i.m9)(e),(n instanceof mr||n instanceof Ou)&&(e instanceof mr||e instanceof Ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hR(n,e){return n=(0,_i.m9)(n),e=(0,_i.m9)(e),n instanceof Qs&&e instanceof Qs&&n.firestore===e.firestore&&vI(n._query,e._query)&&n.converter===e.converter}class f4{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sP(this,"async_queue_retry"),this.Xc=()=>{const t=XD();t&&Pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=XD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=XD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Es;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ht.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Kf(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=EP.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&un()}verifyOperationInProgress(){}sa(){var e=this;return(0,ht.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function fR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class p4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Es,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yr extends zI{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new f4,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bV(this),this._firestoreClient.terminate()}}function es(n){return n._firestoreClient||bV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bV(n){var e,t,i;const r=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new G6(n._databaseId,d,n._persistenceKey,(g=r).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,uV(g.experimentalLongPollingOptions),g.useFetchStreams));var d,g;n._firestoreClient=new i4(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function wV(n,e,t){const i=new Es;return n.asyncQueue.enqueue((0,ht.Z)(function*(){try{yield nx(n,t),yield rR(n,e),i.resolve()}catch(r){const s=r;if(!rV(s))throw s;wl("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function IV(n){if(n._initialized||n._terminated)throw new Et(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ku(Ts.fromBase64String(e))}catch(t){throw new Et(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ku(Ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Et(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fm{constructor(e){this._methodName=e}}class ax{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const T4=/^__.*__$/;class S4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Yd(e,this.data,this.fieldMask,t,this.fieldTransforms):new pv(e,this.data,t,this.fieldTransforms)}}class CV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class lx{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dx(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(EV(this.ca)&&T4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class D4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||VI(e)}ya(e,t,i,r=!1){return new lx({ca:e,methodName:t,ga:i,path:jr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(n){const e=n._freezeSettings(),t=VI(n._databaseId);return new D4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cx(n,e,t,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,e,t,r);yR("Data must be an object, but it was:",a,i);const d=DV(i,a);let f,g;if(s.merge)f=new ra(a.fieldMask),g=a.fieldTransforms;else if(s.mergeFields){const v=[];for(const I of s.mergeFields){const D=WI(e,I,t);if(!a.contains(D))throw new Et(lt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);AV(v,D)||v.push(D)}f=new ra(v),g=a.fieldTransforms.filter(I=>f.covers(I.field))}else f=null,g=a.fieldTransforms;return new S4(new Zs(d),f,g)}class GI extends Fm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GI}}function TV(n,e,t){return new lx({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pR extends Fm{_toFieldTransform(e){return new CI(e.path,new hv)}isEqual(e){return e instanceof pR}}class x4 extends Fm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TV(this,e,!0),i=this.pa.map(s=>Vm(s,t)),r=new xm(i);return new CI(e.path,r)}isEqual(e){return this===e}}class A4 extends Fm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TV(this,e,!0),i=this.pa.map(s=>Vm(s,t)),r=new Am(i);return new CI(e.path,r)}isEqual(e){return this===e}}class M4 extends Fm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fv(e.serializer,_2(e.serializer,this.Ia));return new CI(e.path,t)}isEqual(e){return this===e}}function gR(n,e,t,i){const r=n.ya(1,e,t);yR("Data must be an object, but it was:",r,i);const s=[],a=Zs.empty();Zf(i,(f,g)=>{const v=ux(e,f,t);g=(0,_i.m9)(g);const I=r.da(v);if(g instanceof GI)s.push(v);else{const D=Vm(g,I);null!=D&&(s.push(v),a.set(v,D))}});const d=new ra(s);return new CV(a,d,r.fieldTransforms)}function mR(n,e,t,i,r,s){const a=n.ya(1,e,t),d=[WI(e,i,t)],f=[r];if(s.length%2!=0)throw new Et(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)d.push(WI(e,s[D])),f.push(s[D+1]);const g=[],v=Zs.empty();for(let D=d.length-1;D>=0;--D)if(!AV(g,d[D])){const A=d[D];let P=f[D];P=(0,_i.m9)(P);const V=a.da(A);if(P instanceof GI)g.push(A);else{const $=Vm(P,V);null!=$&&(g.push(A),v.set(A,$))}}const I=new ra(g);return new CV(v,I,a.fieldTransforms)}function SV(n,e,t,i=!1){return Vm(t,n.ya(i?4:3,e))}function Vm(n,e){if(xV(n=(0,_i.m9)(n)))return yR("Unsupported field value:",e,n),DV(n,e);if(n instanceof Fm)return function(t,i){if(!EV(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const a of t){let d=Vm(a,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,_i.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _2(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ar.fromDate(t);return{timestampValue:mv(i.serializer,r)}}if(t instanceof Ar){const r=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mv(i.serializer,r)}}if(t instanceof ax)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ku)return{bytesValue:V2(i.serializer,t._byteString)};if(t instanceof mr){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Pk(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${sx(t)}`)}(n,e)}function DV(n,e){const t={};return $F(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zf(n,(i,r)=>{const s=Vm(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function xV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof ax||n instanceof ku||n instanceof mr||n instanceof Fm)}function yR(n,e,t){if(!xV(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=sx(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function WI(n,e,t){if((e=(0,_i.m9)(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return ux(n,e);throw dx("Field path arguments must be of type string or ",n,!1,void 0,t)}const O4=new RegExp("[~\\*/\\[\\]]");function ux(n,e,t){if(e.search(O4)>=0)throw dx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qd(...e.split("."))._internalPath}catch{throw dx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dx(n,e,t,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new Et(lt.INVALID_ARGUMENT,d+n+f)}function AV(n,e){return n.some(t=>t.isEqual(e))}class qI{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new k4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class k4 extends qI{data(){return super.data()}}function hx(n,e){return"string"==typeof e?ux(n,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function MV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Et(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _R{}class YI extends _R{}function cp(n,e,...t){let i=[];e instanceof _R&&i.push(e),i=i.concat(t),function(r){const s=r.filter(d=>d instanceof Ov).length,a=r.filter(d=>d instanceof KI).length;if(s>1||s>0&&a>0)throw new Et(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class KI extends YI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new KI(e,t,i)}_apply(e){const t=this._parse(e);return RV(e._query,t),new Qs(e.firestore,e.converter,Ck(e._query,t))}_parse(e){const t=Bm(e.firestore);return function(r,s,a,d,f,g,v){let I;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Et(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){PV(v,g);const D=[];for(const A of v)D.push(kV(d,r,A));I={arrayValue:{values:D}}}else I=kV(d,r,v)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||PV(v,g),I=SV(a,"where",v,"in"===g||"not-in"===g);return pi.create(f,g,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ov extends _R{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ov(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:$i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const d of a)RV(s,d),s=Ck(s,d)}(e._query,t),new Qs(e.firestore,e.converter,Ck(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vR extends YI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vR(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Et(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Et(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new cv(r,s);return function(d,f){if(null===wk(d)){const g=MD(d);null!==g&&NV(0,g,f.field)}}(i,a),a}(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Wd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class fx extends YI{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new fx(e,t,i)}_apply(e){return new Qs(e.firestore,e.converter,OD(e._query,this._limit,this._limitType))}}class px extends YI{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new px(e,t,i)}_apply(e){const t=OV(e,this.type,this._docOrFields,this._inclusive);return new Qs(e.firestore,e.converter,(r=t,new Wd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gx extends YI{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gx(e,t,i)}_apply(e){const t=OV(e,this.type,this._docOrFields,this._inclusive);return new Qs(e.firestore,e.converter,(r=t,new Wd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function OV(n,e,t,i){if(t[0]=(0,_i.m9)(t[0]),t[0]instanceof qI)return function(r,s,a,d,f){if(!d)throw new Et(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const g=[];for(const v of Dm(r))if(v.field.isKeyField())g.push(Tm(s,d.key));else{const I=d.data.field(v.field);if(CD(I))throw new Et(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const D=v.field.canonicalString();throw new Et(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}g.push(I)}return new np(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Bm(n.firestore);return function(s,a,d,f,g,v){const I=s.explicitOrderBy;if(g.length>I.length)throw new Et(lt.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let A=0;A<g.length;A++){const P=g[A];if(I[A].field.isKeyField()){if("string"!=typeof P)throw new Et(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof P}`);if(!Ik(s)&&-1!==P.indexOf("/"))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${P}' contains a slash.`);const V=s.path.child(Ii.fromString(P));if(!Qt.isDocumentKey(V))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const $=new Qt(V);D.push(Tm(a,$))}else{const V=SV(d,f,P);D.push(V)}}return new np(D,v)}(n._query,n.firestore._databaseId,r,e,t,i)}}function kV(n,e,t){if("string"==typeof(t=(0,_i.m9)(t))){if(""===t)throw new Et(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ik(e)&&-1!==t.indexOf("/"))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ii.fromString(t));if(!Qt.isDocumentKey(i))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tm(n,new Qt(i))}if(t instanceof mr)return Tm(n,t._key);throw new Et(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sx(t)}.`)}function PV(n,e){if(!Array.isArray(n)||0===n.length)throw new Et(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RV(n,e){if(e.isInequality()){const i=MD(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=wk(n);null!==s&&NV(0,r,s)}const t=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Et(lt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function NV(n,e,t){if(!t.isEqual(e))throw new Et(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bR{convertValue(e,t="none"){switch(ep(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zf(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new ax(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ED(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pI(e));default:return null}}convertTimestamp(e){const t=Qf(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ii.fromString(e);wn(K2(i));const r=new Xf(i.get(1),i.get(3)),s=new Qt(i.popFirst(5));return r.isEqual(t)||Xr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function mx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class U4 extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}class $m{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xd extends qI{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ZI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ZI extends Xd{data(e={}){return super.data(e)}}class up{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ZI(this._firestore,this._userDataWriter,i.key,i,new $m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ZI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $m(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new ZI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $m(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==a.type&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),g=s.indexOf(a.doc.key)),{type:z4(a.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function FV(n,e){return n instanceof Xd&&e instanceof Xd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof up&&e instanceof up&&n._firestore===e._firestore&&hR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class dp extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function BV(n,e,t){n=gi(n,mr);const i=gi(n.firestore,yr),r=mx(n.converter,e,t);return kv(i,[cx(Bm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Mr.none())])}function VV(n,e,t,...i){n=gi(n,mr);const r=gi(n.firestore,yr),s=Bm(r);let a;return a="string"==typeof(e=(0,_i.m9)(e))||e instanceof Qd?mR(s,"updateDoc",n._key,e,t,i):gR(s,"updateDoc",n._key,e),kv(r,[a.toMutation(n._key,Mr.exists(!0))])}function $V(n,...e){var t,i,r;n=(0,_i.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||fR(e[a])||(s=e[a],a++);const d={includeMetadataChanges:s.includeMetadataChanges};if(fR(e[a])){const I=e[a];e[a]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[a+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[a+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let f,g,v;if(n instanceof mr)g=gi(n.firestore,yr),v=dv(n._key.path),f={next:I=>{e[a]&&e[a](wR(g,n,I))},error:e[a+1],complete:e[a+2]};else{const I=gi(n,Qs);g=gi(I.firestore,yr),v=I._query;const D=new dp(g);f={next:A=>{e[a]&&e[a](new up(g,D,I,A))},error:e[a+1],complete:e[a+2]},MV(n._query)}return function(I,D,A,P){const V=new tx(P),$=new MP(D,V,A);return I.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return TP(yield Mv(I),$)})),()=>{V.Dc(),I.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return DP(yield Mv(I),$)}))}}(es(g),v,d,f)}function kv(n,e){return function(t,i){const r=new Es;return t.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function Fj(n,e,t){return NP.apply(this,arguments)}(yield cR(t),i,r)})),r.promise}(es(n),e)}function wR(n,e,t){const i=t.docs.get(e._key),r=new dp(n);return new Xd(n,r,e._key,i,new $m(t.hasPendingWrites,t.fromCache),e.converter)}const aG={maxAttempts:5};class UV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bm(e)}set(e,t,i){this._verifyNotCommitted();const r=hp(e,this._firestore),s=mx(r.converter,t,i),a=cx(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Mr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=hp(e,this._firestore);let a;return a="string"==typeof(t=(0,_i.m9)(t))||t instanceof Qd?mR(this._dataReader,"WriteBatch.update",s._key,t,i,r):gR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hp(e,this._firestore);return this._mutations=this._mutations.concat(new gv(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Et(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hp(n,e){if((n=(0,_i.m9)(n)).firestore!==e)throw new Et(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bm(e)}get(e){const t=hp(e,this._firestore),i=new U4(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return un();const s=r[0];if(s.isFoundDocument())return new qI(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new qI(this._firestore,i,t._key,null,t.converter);throw un()})}set(e,t,i){const r=hp(e,this._firestore),s=mx(r.converter,t,i),a=cx(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=hp(e,this._firestore);let a;return a="string"==typeof(t=(0,_i.m9)(t))||t instanceof Qd?mR(this._dataReader,"Transaction.update",s._key,t,i,r):gR(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=hp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hp(e,this._firestore),i=new dp(this._firestore);return super.get(e).then(r=>new Xd(this._firestore,i,t._key,r._document,new $m(!1,!1),t.converter))}}function IR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function zV(){if(typeof Uint8Array>"u")throw new Et("unimplemented","Uint8Arrays are not available in this environment.")}function jV(){if(!function z6(){return typeof atob<"u"}())throw new Et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){sv=Bd.SDK_VERSION,(0,Bd._registerComponent)(new lm.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),a=new yr(new f6(t.getProvider("auth-internal")),new m6(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Et(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,Bd.registerVersion)(IF,"3.13.0",n),(0,Bd.registerVersion)(IF,"3.13.0","esm2017")}();class QI{constructor(e){this._delegate=e}static fromBase64String(e){return jV(),new QI(ku.fromBase64String(e))}static fromUint8Array(e){return zV(),new QI(ku.fromUint8Array(e))}toBase64(){return jV(),this._delegate.toBase64()}toUint8Array(){return zV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CR(n){return function yG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class _G{enableIndexedDbPersistence(e,t){return function m4(n,e){IV(n=gi(n,yr));const t=es(n);if(t._uninitializedComponentsProvider)throw new Et(lt.FAILED_PRECONDITION,"SDK cache is already specified.");wl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Av;return wV(t,r,new nR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function y4(n){IV(n=gi(n,yr));const e=es(n);if(e._uninitializedComponentsProvider)throw new Et(lt.FAILED_PRECONDITION,"SDK cache is already specified.");wl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Av;return wV(e,i,new nV(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _4(n){if(n._initialized&&!n._terminated)throw new Et(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Es;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{yield(t=(0,ht.Z)(function*(i){if(!lc.D())return Promise.resolve();const r=i+"main";yield lc.delete(r)}),function(i){return t.apply(this,arguments)})(Yk(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class GV{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function yV(n,e,t,i={}){var r;const s=(n=gi(n,zI))._getSettings(),a=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=Bs.MOCK_USER;else{d=(0,_i.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Et(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bs(g)}n._authCredentials=new h6(new CF(d,f))}}(this._delegate,e,t,i)}enableNetwork(){return function b4(n){return function r4(n){return n.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield sV(n),t=yield oV(n);return e.setNetworkEnabled(!0),function(i){const r=en(i);return r.vu.delete(0),$I(r)}(t)}))}(es(n=gi(n,yr)))}(this._delegate)}disableNetwork(){return function w4(n){return function s4(n){return n.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield sV(n),t=yield oV(n);return e.setNetworkEnabled(!1),(i=(0,ht.Z)(function*(r){const s=en(r);s.vu.add(0),yield Iv(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(es(n=gi(n,yr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,hV("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function v4(n){return function(e){const t=new Es;return e.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function Uj(n,e){return $P.apply(this,arguments)}(yield cR(e),t)})),t.promise}(es(n=gi(n,yr)))}(this._delegate)}onSnapshotsInSync(e){return function X4(n,e){return function l4(n,e){const t=new tx(e);return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return i=yield Mv(n),r=t,en(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return i=yield Mv(n),r=t,void en(i).ku.delete(r);var i,r}))}}(es(n=gi(n,yr)),fR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pv(this,_V(this._delegate,e))}catch(t){throw Fo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Il(this,ox(this._delegate,e))}catch(t){throw Fo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bo(this,function h4(n,e){if(n=gi(n,zI),dR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Et(lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qs(n,null,(t=e,new Wd(Ii.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cG(n,e,t){n=gi(n,yr);const i=Object.assign(Object.assign({},aG),t);return function(r){if(r.maxAttempts<1)throw new Et(lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const d=new Es;return r.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){const f=yield function aV(n){return ix(n).then(e=>e.datastore)}(r);new n4(r.asyncQueue,f,a,s,d).run()})),d.promise}(es(n),r=>e(new lG(n,r)),i)}(this._delegate,t=>e(new WV(this,t)))}batch(){return es(this._delegate),new qV(new UV(this._delegate,e=>kv(this._delegate,e)))}loadBundle(e){return function I4(n,e){const t=es(n=gi(n,yr)),i=new p4;return function c4(n,e,t,i){const r=function(s,a){let d;return d="string"==typeof s?O2().encode(s):s,f=function(f,g){if(f instanceof Uint8Array)return iV(f,g);if(f instanceof ArrayBuffer)return iV(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new e4(f,a);var f}(t,VI(e));n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){!function Xj(n,e,t){const i=en(n);var r;(r=(0,ht.Z)(function*(s,a,d){try{const f=yield a.getMetadata();if(yield function(D,A){const P=en(D),V=Jr(A.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",$=>P.qs.getBundleMetadata($,A.id)).then($=>!!$&&$.createTime.compareTo(V)>=0)}(s.localStore,f))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(D=f).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);d._updateProgress(qB(f));const g=new Oj(f,s.localStore,a.serializer);let v=yield a.bc();for(;v;){const D=yield g.zu(v);D&&d._updateProgress(D),v=yield a.bc()}const I=yield g.complete();return yield Zd(s,I.Ju,void 0),yield function(D,A){const P=en(D);return P.persistence.runTransaction("Save bundle","readwrite",V=>P.qs.saveBundleMetadata(V,A))}(s.localStore,f),d._completeWith(I.progress),Promise.resolve(I.Hu)}catch(f){return wl("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var D}),function(s,a,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield cR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function C4(n,e){return function u4(n,e){return n.asyncQueue.enqueue((0,ht.Z)(function*(){return function(t,i){const r=en(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield rx(n),e)}))}(es(n=gi(n,yr)),e).then(t=>t?new Qs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Bo(this,t):null)}}class yx extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new QI(new ku(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Il.forKey(t,this.firestore,null)}}class WV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yx(e)}get(e){const t=Hm(e);return this._delegate.get(t).then(i=>new XI(this._firestore,new Xd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Hm(e);return i?(IR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Hm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Hm(e);return this._delegate.delete(t),this}}class qV{constructor(e){this._delegate=e}set(e,t,i){const r=Hm(e);return i?(IR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Hm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Hm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Um{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new ZI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JI(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Um.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Um(e,new yx(e),t),r.set(t,s)),s}}Um.INSTANCES=new WeakMap;class Il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yx(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Il(t,new mr(t._delegate,i,new Qt(e)))}static forKey(e,t,i){return new Il(t,new mr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pv(this.firestore,_V(this._delegate,e))}catch(t){throw Fo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_i.m9)(e))instanceof mr&&vV(this._delegate,e)}set(e,t){t=IR("DocumentReference.set",t);try{return t?BV(this._delegate,e,t):BV(this._delegate,e)}catch(i){throw Fo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?VV(this._delegate,e):VV(this._delegate,e,t,...i)}catch(r){throw Fo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Z4(n){return kv(gi(n.firestore,yr),[new gv(n._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=YV(e),i=KV(e,r=>new XI(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return $V(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function G4(n){n=gi(n,mr);const e=gi(n.firestore,yr),t=es(e),i=new dp(e);return function o4(n,e){const t=new Es;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(i=(0,ht.Z)(function*(r,s,a){try{const d=yield function(f,g){const v=en(f);return v.persistence.runTransaction("read document","readonly",I=>v.localDocuments.getDocument(I,g))}(r,s);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Et(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Tv(d,`Failed to get document '${s} from cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield rx(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Xd(e,i,n._key,r,new $m(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function W4(n){n=gi(n,mr);const e=gi(n.firestore,yr);return lV(es(e),n._key,{source:"server"}).then(t=>wR(e,n,t))}(this._delegate):function j4(n){n=gi(n,mr);const e=gi(n.firestore,yr);return lV(es(e),n._key).then(t=>wR(e,n,t))}(this._delegate),t.then(i=>new XI(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Il(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}function Fo(n,e,t){return n.message=n.message.replace(e,t),n}function YV(n){for(const e of n)if("object"==typeof e&&!CR(e))return e;return{}}function KV(n,e){var t,i;let r;return r=CR(n[0])?n[0]:CR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class XI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return FV(this._delegate,e._delegate)}}class JI extends XI{data(e){const t=this._delegate.data(e);return function u6(n,e){n||un()}(void 0!==t),t}}class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yx(e)}where(e,t,i){try{return new Bo(this.firestore,cp(this._delegate,function P4(n,e,t){const i=e,r=hx("where",n);return KI._create(r,i,t)}(e,t,i)))}catch(r){throw Fo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bo(this.firestore,cp(this._delegate,function R4(n,e="asc"){const t=e,i=hx("orderBy",n);return vR._create(i,t)}(e,t)))}catch(i){throw Fo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bo(this.firestore,cp(this._delegate,function N4(n){return gV("limit",n),fx._create("limit",n,"F")}(e)))}catch(t){throw Fo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bo(this.firestore,cp(this._delegate,function L4(n){return gV("limitToLast",n),fx._create("limitToLast",n,"L")}(e)))}catch(t){throw Fo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bo(this.firestore,cp(this._delegate,function F4(...n){return px._create("startAt",n,!0)}(...e)))}catch(t){throw Fo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bo(this.firestore,cp(this._delegate,function B4(...n){return px._create("startAfter",n,!1)}(...e)))}catch(t){throw Fo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bo(this.firestore,cp(this._delegate,function V4(...n){return gx._create("endBefore",n,!1)}(...e)))}catch(t){throw Fo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bo(this.firestore,cp(this._delegate,function $4(...n){return gx._create("endAt",n,!0)}(...e)))}catch(t){throw Fo(t,"endAt()","Query.endAt()")}}isEqual(e){return hR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Y4(n){n=gi(n,Qs);const e=gi(n.firestore,yr),t=es(e),i=new dp(e);return function a4(n,e){const t=new Es;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(i=(0,ht.Z)(function*(r,s,a){try{const d=yield YD(r,s,!0),f=new ZB(s,d.ir),g=f.sc(d.documents),v=f.applyChanges(g,!1);a.resolve(v.snapshot)}catch(d){const f=Tv(d,`Failed to execute query '${s} against cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield rx(n),e,t);var i})),t.promise}(t,n._query).then(r=>new up(e,i,n,r))}(this._delegate):"server"===e?.source?function K4(n){n=gi(n,Qs);const e=gi(n.firestore,yr),t=es(e),i=new dp(e);return cV(t,n._query,{source:"server"}).then(r=>new up(e,i,n,r))}(this._delegate):function q4(n){n=gi(n,Qs);const e=gi(n.firestore,yr),t=es(e),i=new dp(e);return MV(n._query),cV(t,n._query).then(r=>new up(e,i,n,r))}(this._delegate),t.then(i=>new ER(this.firestore,new up(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=YV(e),i=KV(e,r=>new ER(this.firestore,new up(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return $V(this._delegate,t,i)}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}class bG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new JI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ER{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new JI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new JI(this._firestore,i))})}isEqual(e){return FV(this._delegate,e._delegate)}}class Pv extends Bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Il(this.firestore,e):null}doc(e){try{return new Il(this.firestore,void 0===e?ox(this._delegate):ox(this._delegate,e))}catch(t){throw Fo(t,"doc()","CollectionReference.doc()")}}add(e){return function Q4(n,e){const t=gi(n.firestore,yr),i=ox(n),r=mx(n.converter,e);return kv(t,[cx(Bm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Il(this.firestore,t))}isEqual(e){return vV(this._delegate,e._delegate)}withConverter(e){return new Pv(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}function Hm(n){return gi(n,mr)}class TR{constructor(...e){this._delegate=new Qd(...e)}static documentId(){return new TR(jr.keyField().canonicalString())}isEqual(e){return(e=(0,_i.m9)(e))instanceof Qd&&this._delegate._internalPath.isEqual(e._internalPath)}}class zm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dG(){return new pR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zm(e)}static delete(){const e=function uG(){return new GI("deleteField")}();return e._methodName="FieldValue.delete",new zm(e)}static arrayUnion(...e){const t=function hG(...n){return new x4("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zm(t)}static arrayRemove(...e){const t=function fG(...n){return new A4("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zm(t)}static increment(e){const t=function pG(n){return new M4("increment",n)}(e);return t._methodName="FieldValue.increment",new zm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wG={Firestore:GV,GeoPoint:ax,Timestamp:Ar,Blob:QI,Transaction:WV,WriteBatch:qV,DocumentReference:Il,DocumentSnapshot:XI,Query:Bo,QueryDocumentSnapshot:JI,QuerySnapshot:ER,CollectionReference:Pv,FieldPath:TR,FieldValue:zm,setLogLevel:function vG(n){!function c6(n){qf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ZV(n,e){return function EG(n,e=BS.z){return new er.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function SR(n,e){return ZV(n,e).pipe((0,vn.U)(t=>({payload:t,type:"query"})))}function _x(n,e){return SR(n,e).pipe(Fg(void 0),G_(),(0,vn.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const f=r.find(v=>v.doc.ref.isEqual(a.ref)),g=t?.payload.docs.find(v=>v.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function QV(n,e,t){return _x(n,t).pipe(Bg((i,r)=>function SG(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function DG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),function Ow(n,e=dl.y){return n=n??VS,(0,Vr.e)((t,i)=>{let r,s=!0;t.subscribe((0,hr.x)(i,a=>{const d=e(a);(s||!n(r,d))&&(s=!1,r=d,i.next(a))}))})}(),(0,vn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function DR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function XV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function CG(n){(function IG(n,e){n.INTERNAL.registerComponent(new lm.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},wG)))})(n,(e,t)=>new GV(e,t,new _G)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(W_.Z);class JV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=_x(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Fg(void 0),G_(),Tr(([i,r])=>r.length>0||!i),(0,vn.U)(([i,r])=>r),Is.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bg((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XV(e);return QV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Is.iC)}valueChanges(e={}){return SR(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Is.iC)}get(e){return(0,fi.D)(this.query.get(e)).pipe(Is.iC)}add(e){return this.ref.add(e)}doc(e){return new e$(this.ref.doc(e),this.afs)}}class e${constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=t$(i,t);return new JV(r,s,this.afs)}snapshotChanges(){return function TG(n,e){return ZV(n,e).pipe(Fg(void 0),G_(),(0,vn.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Is.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fi.D)(this.ref.get(e)).pipe(Is.iC)}}class xG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_x(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Tr(t=>t.length>0),Is.iC):_x(this.query,this.afs.schedulers.outsideAngular).pipe(Is.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bg((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XV(e);return QV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Is.iC)}valueChanges(e={}){return SR(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Is.iC)}get(e){return(0,fi.D)(this.query.get(e)).pipe(Is.iC)}}const AG=new o.OlP("angularfire2.enableFirestorePersistence"),MG=new o.OlP("angularfire2.firestore.persistenceSettings"),OG=new o.OlP("angularfire2.firestore.settings"),kG=new o.OlP("angularfire2.firestore.use-emulator");function t$(n,e=(t=>t)){return{query:e(n),ref:n}}let xR=(()=>{class n{constructor(t,i,r,s,a,d,f,g,v,I,D,A,P,V,$,ae,Ie){this.schedulers=f;const He=(0,Pa.on)(t,d,i),je=v;I&&Aw(He,d,D,P,V,$,A,ae),[this.firestore,this.persistenceEnabled$]=(0,Pa.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const Ze=d.runOutsideAngular(()=>He.firestore());if(s&&Ze.settings(s),je&&Ze.useEmulator(...je),r&&!gc(a)){const pt=()=>{try{return(0,fi.D)(Ze.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(Dt){return typeof console<"u"&&console.warn(Dt),fn(!1)}};return[Ze,d.runOutsideAngular(pt)]}return[Ze,fn(!1)]},[s,je,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=t$(r,i),d=this.schedulers.ngZone.run(()=>s);return new JV(d,a,this)}collectionGroup(t,i){const r=i||(a=>a),s=this.firestore.collectionGroup(t);return new xG(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new e$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Pa.Dh),o.LFG(Pa.xv,8),o.LFG(AG,8),o.LFG(OG,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Is.HU),o.LFG(MG,8),o.LFG(kG,8),o.LFG(Vf,8),o.LFG(NS,8),o.LFG(LS,8),o.LFG(Dw,8),o.LFG(xO,8),o.LFG(xw,8),o.LFG(FS,8),o.LFG(gm,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var eC=R(3435),n$=R(9804);const i$=n=>({create:e=>LG(n,e),dismiss:(e,t,i)=>$G(document,e,t,n,i),getTop:()=>(0,ht.Z)(function*(){return tC(document,n)})()}),RG=i$("ion-modal"),NG=i$("ion-popover"),LG=(n,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(n).then(()=>{const t=document.createElement(n);return t.classList.add("overlay-hidden"),Object.assign(t,Object.assign(Object.assign({},e),{hasController:!0})),o$(document).appendChild(t),new Promise(i=>(0,n$.c)(t,i))}):Promise.resolve(),$G=(n,e,t,i,r)=>{const s=tC(n,i,r);return s?s.dismiss(e,t):Promise.reject("overlay does not exist")},tC=(n,e,t)=>{const i=((n,e)=>((n,e)=>(void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)))(n,e).filter(t=>!(n=>n.classList.contains("overlay-hidden"))(t)))(n,e);return void 0===t?i[i.length-1]:i.find(r=>r.id===t)},o$=n=>n.querySelector("ion-app")||n.body;class GG{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return void 0!==i?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return void 0===i?t:"string"==typeof i?"true"===i:!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?void 0!==t?t:NaN:i}set(e,t){this.m.set(e,t)}}const fp=new GG,c$=n=>d$(n),d$=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return null==e&&(e=n.Ionic.platforms=ZG(n),e.forEach(t=>n.document.documentElement.classList.add(`plt-${t}`))),e},ZG=n=>{const e=fp.get("platform");return Object.keys(m$).filter(t=>{const i=e?.[t];return"function"==typeof i?i(n):m$[t](n)})},OR=n=>!!(jm(n,/iPad/i)||jm(n,/Macintosh/i)&&bx(n)),h$=n=>jm(n,/android|sink/i),bx=n=>o5(n,"(any-pointer:coarse)"),f$=n=>p$(n)||g$(n),p$=n=>!!(n.cordova||n.phonegap||n.PhoneGap),g$=n=>!!n.Capacitor?.isNative,jm=(n,e)=>e.test(n.navigator.userAgent),o5=(n,e)=>{var t;return null===(t=n.matchMedia)||void 0===t?void 0:t.call(n,e).matches},m$={ipad:OR,iphone:n=>jm(n,/iPhone/i),ios:n=>jm(n,/iPhone|iPod/i)||OR(n),android:h$,phablet:n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return i>390&&i<520&&r>620&&r<800},tablet:n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return OR(n)||(n=>h$(n)&&!jm(n,/mobile/i))(n)||i>460&&i<820&&r>780&&r<1400},cordova:p$,capacitor:g$,electron:n=>jm(n,/electron/i),pwa:n=>{var e;return!(!(null===(e=n.matchMedia)||void 0===e?void 0:e.call(n,"(display-mode: standalone)").matches)&&!n.navigator.standalone)},mobile:bx,mobileweb:n=>bx(n)&&!f$(n),desktop:n=>!bx(n),hybrid:f$};R(1144),R(7582);class _${constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,i){return this.ctrl.dismiss(e,t,i)}getTop(){return this.ctrl.getTop()}}class v${constructor(e={}){this.data=e}get(e){return this.data[e]}}let nC=(()=>{class n{constructor(){this.zone=(0,o.f3M)(o.R0b),this.applicationRef=(0,o.f3M)(o.z2F)}create(t,i,r){return new g5(t,i,this.applicationRef,this.zone,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class g5{constructor(e,t,i,r,s){this.environmentInjector=e,this.injector=t,this.applicationRef=i,this.zone=r,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,i,r){return this.zone.run(()=>new Promise(s=>{const a={...i};void 0!==this.elementReferenceKey&&(a[this.elementReferenceKey]=e),s(m5(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,t,a,r,this.elementReferenceKey))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(i=>{const r=this.elRefMap.get(t);if(r){r.destroy(),this.elRefMap.delete(t);const s=this.elEventsMap.get(t);s&&(s(),this.elEventsMap.delete(t))}i()}))}}const m5=(n,e,t,i,r,s,a,d,f,g,v)=>{const I=o.zs3.create({providers:_5(f),parent:t}),D=(0,o.LMc)(d,{environmentInjector:e,elementInjector:I}),A=D.instance,P=D.location.nativeElement;if(f&&(v&&void 0!==A[v]&&console.error(`[Ionic Error]: ${v} is a reserved property when using ${a.tagName.toLowerCase()}. Rename or remove the "${v}" property from ${d.name}.`),Object.assign(A,f)),g)for(const $ of g)P.classList.add($);const V=b$(n,A,P);return a.appendChild(P),i.attachView(D.hostView),r.set(P,D),s.set(P,V),P},y5=[eC.L,eC.a,eC.b,eC.c,eC.d],b$=(n,e,t)=>n.run(()=>{const i=y5.filter(r=>"function"==typeof e[r]).map(r=>{const s=a=>e[r](a.detail);return t.addEventListener(r,s),()=>t.removeEventListener(r,s)});return()=>i.forEach(r=>r())}),w$=new o.OlP("NavParamsToken"),_5=n=>[{provide:w$,useValue:n},{provide:v$,useFactory:v5,deps:[w$]}],v5=n=>new v$(n);let b5=(()=>{class n extends _${constructor(){super(RG),this.angularDelegate=(0,o.f3M)(nC),this.injector=(0,o.f3M)(o.zs3),this.environmentInjector=(0,o.f3M)(o.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),w5=(()=>{class n extends _${constructor(){super(NG),this.angularDelegate=(0,o.f3M)(nC),this.injector=(0,o.f3M)(o.zs3),this.environmentInjector=(0,o.f3M)(o.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),I5=(()=>{class n{constructor(t,i){this.doc=t,this.backButton=new ir.x,this.keyboardDidShow=new ir.x,this.keyboardDidHide=new ir.x,this.pause=new ir.x,this.resume=new ir.x,this.resize=new ir.x,i.run(()=>{let r;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(d=>d.register(s,f=>i.run(()=>a(f))))},Nv(this.pause,t,"pause"),Nv(this.resume,t,"resume"),Nv(this.backButton,t,"ionBackButton"),Nv(this.resize,this.win,"resize"),Nv(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Nv(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{r=s}),this.win?.cordova?t.addEventListener("deviceready",()=>{r("cordova")},{once:!0}):r("dom")})}is(t){return((n,e)=>("string"==typeof n&&(e=n,n=void 0),c$(n).includes(e)))(this.win,t)}platforms(){return c$(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return C5(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(t){const i=this.win.navigator;return!!(i?.userAgent&&i.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C5=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return i?decodeURIComponent(i[1].replace(/\+/g," ")):null},Nv=(n,e,t)=>{e&&e.addEventListener(t,i=>{const r=i?.detail;n.next(r)})};let Lv=(()=>{class n{constructor(t,i,r,s){this.location=i,this.serializer=r,this.router=s,this.direction=I$,this.animated=C$,this.guessDirection="forward",this.lastNavId=-1,s&&s.events.subscribe(a=>{if(a instanceof zg){const d=a.restoredState?a.restoredState.navigationId:a.id;this.guessDirection=d<this.lastNavId?"back":"forward",this.guessAnimation=a.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?a.id:d}}),t.backButton.subscribeWithPriority(0,a=>{this.pop(),a()})}navigateForward(t,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(t,i)}navigateBack(t,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(t,i)}navigateRoot(t,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(t,i)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){var t=this;return(0,ht.Z)(function*(){let i=t.topOutlet;for(;i;){if(yield i.pop())return!0;i=i.parentOutlet}return!1})()}setDirection(t,i,r,s){this.direction=t,this.animated=E5(t,i,r),this.animationBuilder=s}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let i,t="root";const r=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,i=this.guessAnimation):(i=this.animated,t=this.direction),this.direction=I$,this.animated=C$,this.animationBuilder=void 0,{direction:t,animation:i,animationBuilder:r}}navigate(t,i){if(Array.isArray(t))return this.router.navigate(t,i);{const r=this.serializer.parse(t.toString());return void 0!==i.queryParams&&(r.queryParams={...i.queryParams}),void 0!==i.fragment&&(r.fragment=i.fragment),this.router.navigateByUrl(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(I5),o.LFG(Fe),o.LFG(Ib),o.LFG(Fi,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E5=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},I$="auto",C$=void 0,E$=new o.OlP("USERCONFIG"),O$=new o.OlP("");let $5=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=cu([i.queryParams,i.params,i.data]).pipe(Dr(([s,a,d],f)=>(d={...s,...a,...d},0===f?fn(d):Promise.resolve(d)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const a=(0,o.qFp)(i.component);if(a)for(const{templateName:d}of a.inputs)t.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function H5(n){return n?.componentInputBindingEnabled?new $5:null}let W5=(()=>{class n{constructor(t,i,r,s,a){this.locationStrategy=t,this.navCtrl=i,this.elementRef=r,this.router=s,this.routerLink=a,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const t=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=t}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(oe),o.Y36(Lv),o.Y36(o.SBq),o.Y36(Fi),o.Y36(Pf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),n})();const k$=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);R(886),R(143),R(963),R(462),R(9531);var J5=R(27),eW=R(1180),tW=(R(2533),R(8417),R(7693),R(3419));R(6412);const iW=J5.i;let BR=(()=>{class n extends W5{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[o.qOj]}),n})();const Gq={provide:as,useExisting:(0,o.Gpc)(()=>P$),multi:!0};let P$=(()=>{class n extends gf{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("max",i._enabled?i.max:null)},features:[o._Bn([Gq]),o.qOj]}),n})();const Wq={provide:as,useExisting:(0,o.Gpc)(()=>R$),multi:!0};let R$=(()=>{class n extends Dd{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("min",i._enabled?i.min:null)},features:[o._Bn([Wq]),o.qOj]}),n})();const qq=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(0,eW.s)({...n,_zoneGate:s=>t.run(s)});const r="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function nW(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(R.e(6748).then(R.t.bind(R,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var i=new URL("b","http://a");return i.pathname="c%20d","http://a/c%20d"===i.href&&i.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(R.e(2214).then(R.t.bind(R,4144,23)))}return Promise.all(n)}().then(()=>((n,e)=>{if(!(typeof window>"u"))return iW(),(0,tW.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:k$,jmp:s=>t.runOutsideAngular(s),ael(s,a,d,f){s[r](a,d,f)},rel(s,a,d,f){s.removeEventListener(a,d,f)}}))}};let Yq=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:E$,useValue:t},{provide:o.ip1,useFactory:qq,multi:!0,deps:[E$,X,o.R0b]},{provide:O$,useFactory:H5,deps:[Fi]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nC,b5,w5],imports:[Gi]}),n})(),N$=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.firestore=r,this.title="login-flow"}ngOnInit(){this.afAuth.onAuthStateChanged(t=>{t?(t&&this.firestore.collection("users").doc(t.uid).get().subscribe(i=>{if(i.exists){const r=i.data();if(r&&r.lastLogin){const s=new Date(r.lastLogin.toDate());((new Date).getTime()-s.getTime())/864e5>7&&this.afAuth.signOut().then(()=>{this.router.navigate(["/otp"],{queryParams:{isNewUser:"false"}}),console.log("User email:",t.email)})}}}),this.router.navigate(["/home"]),console.log("User email:",t.email)):this.router.navigate(["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Vf),o.Y36(Fi),o.Y36(xR))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],["routerLink","",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item","active"],["routerLink","land",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["routerLink","app",1,"nav-link"],["routerLink","about",1,"nav-link"]],template:function(t,i){1&t&&(o.TgZ(0,"nav",0)(1,"a",1),o._uU(2,"Winnipeg"),o.qZA(),o.TgZ(3,"button",2),o._UZ(4,"span",3),o.qZA(),o.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),o._uU(9,"Home "),o.TgZ(10,"span",8),o._uU(11,"(current)"),o.qZA()()(),o.TgZ(12,"li",9)(13,"a",10),o._uU(14,"APP"),o.qZA()(),o.TgZ(15,"li",9)(16,"a",11),o._uU(17,"About"),o.qZA()()()()(),o._UZ(18,"router-outlet"))},dependencies:[Hb,im,BR],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-weight:bolder;font-size:25px;margin-left:20px}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#000;font-size:16px}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),_n=(()=>{class n{static addClass(t,i){t.classList?t.classList.add(i):t.className+=" "+i}static addMultipleClasses(t,i){if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,i){return t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return t?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var a=0;a<r.length;a++){if(r[a]==t)return s;r[a].attributes&&r[a].attributes[i]&&1==r[a].nodeType&&s++}return-1}static relativePosition(t,i){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const s=i.offsetHeight,a=i.getBoundingClientRect(),d=this.getViewport();let f,g;a.top+s+r.height>d.height?(f=-1*r.height,t.style.transformOrigin="bottom",a.top+f<0&&(f=-1*a.top)):(f=s,t.style.transformOrigin="top"),g=r.width>d.width?-1*a.left:a.left+r.width>d.width?-1*(a.left+r.width-d.width):0,t.style.top=f+"px",t.style.left=g+"px"}static absolutePosition(t,i){let A,P,r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.height,a=r.width,d=i.offsetHeight,f=i.offsetWidth,g=i.getBoundingClientRect(),v=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),D=this.getViewport();g.top+d+s>D.height?(A=g.top+v-s,t.style.transformOrigin="bottom",A<0&&(A=v)):(A=d+g.top+v,t.style.transformOrigin="top"),P=g.left+a>D.width?Math.max(0,g.left+I+f-a):g.left+I,t.style.top=A+"px",t.style.left=P+"px"}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const s=/(auto|scroll)/,a=d=>{let f=window.getComputedStyle(d,null);return s.test(f.getPropertyValue("overflow"))||s.test(f.getPropertyValue("overflowX"))||s.test(f.getPropertyValue("overflowY"))};for(let d of r){let f=1===d.nodeType&&d.dataset.scrollselectors;if(f){let g=f.split(",");for(let v of g){let I=this.findSingle(d,v);I&&a(I)&&i.push(I)}}9!==d.nodeType&&a(d)&&i.push(d)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,a=getComputedStyle(t).getPropertyValue("paddingTop"),d=a?parseFloat(a):0,f=t.getBoundingClientRect(),v=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-s-d,I=t.scrollTop,D=t.clientHeight,A=this.getOuterHeight(i);v<0?t.scrollTop=I+v:v+A>D&&(t.scrollTop=I+v-D+A)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,a=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}static fadeOut(t,i){var r=1,d=50/i;let f=setInterval(()=>{(r-=d)<=0&&(r=0,clearInterval(f)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(a){return-1!==[].indexOf.call(document.querySelectorAll(a),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||s.clientWidth,height:t.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let s of i)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class L${constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=_n.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Or{static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,a,d,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((a=e.length)!=t.length)return!1;for(s=a;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var f=e instanceof Date,g=t instanceof Date;if(f!=g)return!1;if(f&&g)return e.getTime()==t.getTime();var v=e instanceof RegExp,I=t instanceof RegExp;if(v!=I)return!1;if(v&&I)return e.toString()==t.toString();var D=Object.keys(e);if((a=D.length)!==Object.keys(t).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,D[s]))return!1;for(s=a;0!=s--;)if(!this.equalsByValue(e[d=D[s]],t[d]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),r=e;for(let s=0,a=i.length;s<a;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let a=0;a<i.length;a++)if(this.findIndexInList(i[a],r)>t){i.splice(a,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}}var F$=0;function B$(){return"pr_id_"+ ++F$}var Jd=function Kq(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,a,d)=>{a&&(a.style.zIndex=String(((s,a)=>{let d=n.length>0?n[n.length-1]:{key:s,value:a},f=d.value+(d.key===s?0:a)+1;return n.push({key:s,value:f}),f})(s,d)))},clear:s=>{s&&((s=>{n=n.filter(a=>a.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const V$=["*"];let co=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Ex=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[co.STARTS_WITH,co.CONTAINS,co.NOT_CONTAINS,co.ENDS_WITH,co.EQUALS,co.NOT_EQUALS],numeric:[co.EQUALS,co.NOT_EQUALS,co.LESS_THAN,co.LESS_THAN_OR_EQUAL_TO,co.GREATER_THAN,co.GREATER_THAN_OR_EQUAL_TO],date:[co.DATE_IS,co.DATE_IS_NOT,co.DATE_BEFORE,co.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new ir.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$$=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Zq=(()=>{class n{constructor(){this.filters={startsWith:(t,i,r)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let s=Or.removeAccents(i.toString()).toLocaleLowerCase(r);return Or.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let s=Or.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Or.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(t,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let s=Or.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Or.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(t,i,r)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let s=Or.removeAccents(i.toString()).toLocaleLowerCase(r),a=Or.removeAccents(t.toString()).toLocaleLowerCase(r);return-1!==a.indexOf(s,a.length-s.length)},equals:(t,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():Or.removeAccents(t.toString()).toLocaleLowerCase(r)==Or.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(t,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():Or.removeAccents(t.toString()).toLocaleLowerCase(r)==Or.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(t,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Or.equals(t,i[r]))return!0;return!1},between:(t,i)=>null==i||null==i[0]||null==i[1]||null!=t&&(t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1]),lt:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<i.getTime():t<i),lte:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i),gt:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>i.getTime():t>i),gte:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i),is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>null==i||null!=t&&t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>null==i||null!=t&&t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>null==i||null!=t&&t.getTime()<i.getTime(),dateAfter:(t,i)=>null==i||null!=t&&t.getTime()>i.getTime()}}filter(t,i,r,s,a){let d=[];if(t)for(let f of t)for(let g of i){let v=Or.resolveFieldData(f,g);if(this.filters[s](v,r,a)){d.push(f);break}}return d}register(t,i){this.filters[t]=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VR=(()=>{class n{constructor(){this.messageSource=new ir.x,this.clearSource=new ir.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Qq=(()=>{class n{constructor(){this.clickSource=new ir.x,this.clickObservable=this.clickSource.asObservable()}add(t){t&&this.clickSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:V$,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:V$,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),Bv=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})(),$R=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(_n.removeClass(i,"p-ink-active"),!_n.getHeight(i)&&!_n.getWidth(i)){let d=Math.max(_n.getOuterWidth(this.el.nativeElement),_n.getOuterHeight(this.el.nativeElement));i.style.height=d+"px",i.style.width=d+"px"}let r=_n.getOffset(this.el.nativeElement),s=t.pageX-r.left+document.body.scrollTop-_n.getWidth(i)/2,a=t.pageY-r.top+document.body.scrollLeft-_n.getHeight(i)/2;i.style.top=a+"px",i.style.left=s+"px",_n.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let d=this.getInk();d&&_n.removeClass(d,"p-ink-active")},401)}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&_n.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),_n.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),_n.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Ex,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})();function e9(n,e){1&n&&o.GkF(0)}const t9=function(n,e,t,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":e,"p-button-icon-top":t,"p-button-icon-bottom":i}};function n9(n,e){if(1&n&&o._UZ(0,"span",4),2&n){const t=o.oxw();o.Tol(t.loading?"p-button-loading-icon "+t.loadingIcon:t.icon),o.Q6J("ngClass",o.l5B(4,t9,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),o.uIk("aria-hidden",!0)}}function i9(n,e){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.uIk("aria-hidden",t.icon&&!t.label),o.xp6(1),o.Oqu(t.label||"\xa0")}}function r9(n,e){if(1&n&&(o.TgZ(0,"span",4),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.Tol(t.badgeClass),o.Q6J("ngClass",t.badgeStyleClass()),o.xp6(1),o.Oqu(t.badge)}}const s9=function(n,e,t,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":e,"p-disabled":t,"p-button-loading":i,"p-button-loading-label-only":r}},o9=["*"];let a9=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,_n.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&_n.addClass(t,i);let r=this.getIconClass();r&&_n.addMultipleClasses(t,r);let s=_n.findSingle(this.el.nativeElement,".p-button-label");s?this.el.nativeElement.insertBefore(t,s):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=_n.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=_n.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(_n.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Vv=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Bv,4),2&t){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:o9,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),o.Hsn(1),o.YNc(2,e9,1,0,"ng-container",1),o.YNc(3,n9,1,9,"span",2),o.YNc(4,i9,2,2,"span",3),o.YNc(5,r9,2,4,"span",2),o.qZA()),2&t&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",o.qbA(11,s9,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),o.uIk("type",i.type)("aria-label",i.ariaLabel),o.xp6(2),o.Q6J("ngTemplateOutlet",i.contentTemplate),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate&&(i.icon||i.loading)),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate&&i.badge))},dependencies:[Wn,li,it,ct,$R],encapsulation:2,changeDetection:0}),n})(),l9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Tx]}),n})();function c9(n,e){1&n&&o.GkF(0)}function u9(n,e){if(1&n&&(o.TgZ(0,"div",8),o.Hsn(1,1),o.YNc(2,c9,1,0,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",t.headerTemplate)}}function d9(n,e){1&n&&o.GkF(0)}function h9(n,e){if(1&n&&(o.TgZ(0,"div",9),o._uU(1),o.YNc(2,d9,1,0,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",t.header," "),o.xp6(1),o.Q6J("ngTemplateOutlet",t.titleTemplate)}}function f9(n,e){1&n&&o.GkF(0)}function p9(n,e){if(1&n&&(o.TgZ(0,"div",10),o._uU(1),o.YNc(2,f9,1,0,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",t.subheader," "),o.xp6(1),o.Q6J("ngTemplateOutlet",t.subtitleTemplate)}}function g9(n,e){1&n&&o.GkF(0)}function m9(n,e){1&n&&o.GkF(0)}function y9(n,e){if(1&n&&(o.TgZ(0,"div",11),o.Hsn(1,2),o.YNc(2,m9,1,0,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",t.footerTemplate)}}const _9=["*",[["p-header"]],[["p-footer"]]],v9=["*","p-header","p-footer"];let rC=(()=>{class n{constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-card"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,Xq,5),o.Suo(r,Jq,5),o.Suo(r,Bv,4)),2&t){let s;o.iGM(s=o.CRH())&&(i.headerFacet=s.first),o.iGM(s=o.CRH())&&(i.footerFacet=s.first),o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:v9,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,i){1&t&&(o.F$t(_9),o.TgZ(0,"div",0),o.YNc(1,u9,3,1,"div",1),o.TgZ(2,"div",2),o.YNc(3,h9,3,2,"div",3),o.YNc(4,p9,3,2,"div",4),o.TgZ(5,"div",5),o.Hsn(6),o.YNc(7,g9,1,0,"ng-container",6),o.qZA(),o.YNc(8,y9,3,1,"div",7),o.qZA()()),2&t&&(o.Tol(i.styleClass),o.Q6J("ngClass","p-card p-component")("ngStyle",i.style),o.xp6(1),o.Q6J("ngIf",i.headerFacet||i.headerTemplate),o.xp6(2),o.Q6J("ngIf",i.header||i.titleTemplate),o.xp6(1),o.Q6J("ngIf",i.subheader||i.subtitleTemplate),o.xp6(3),o.Q6J("ngTemplateOutlet",i.contentTemplate),o.xp6(1),o.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Wn,li,it,ct],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),b9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Gm]}),n})(),Sx=(()=>{class n{constructor(t,i,r){this.el=t,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(lu,8),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i.onInput(s)}),2&t&&o.ekj("p-filled",i.filled)}}),n})(),w9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})();const I9=function(){return{width:"360px"}};let C9=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}navigateToOtp(){this.router.navigate(["/auth"],{queryParams:{email:this.userEmail}})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:10,vars:4,consts:[[1,"fullscreen-bg"],[1,"overlay-form"],["header","Let's get started"],[1,"p-fluid"],[1,"field"],["for","email"],["pInputText","","id","email","type","text",3,"ngModel","ngModelChange"],[1,"fields"],["label","Signup",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"div",4)(5,"label",5),o._uU(6,"Email"),o.qZA(),o.TgZ(7,"input",6),o.NdJ("ngModelChange",function(s){return i.userEmail=s}),o.qZA()(),o.TgZ(8,"div",7)(9,"p-button",8),o.NdJ("click",function(){return i.navigateToOtp()}),o.qZA()()()()()()),2&t&&(o.xp6(2),o.Akn(o.DdM(3,I9)),o.xp6(5),o.Q6J("ngModel",i.userEmail))},dependencies:[lf,Ed,lu,Vv,rC,Sx],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}.fullscreen-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay-form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.field[_ngcontent-%COMP%]{margin-top:20px}.fields[_ngcontent-%COMP%]{margin-top:60px}@media screen and (max-width: 600px){.overlay-text[_ngcontent-%COMP%]{font-size:25px;font-weight:700}}@media screen and (max-width: 400px){.overlay-text[_ngcontent-%COMP%]{font-size:25px}}"]}),n})();const pp_stripe_publishableKey="pk_test_51OUR7RBnqdtkmq3AxtKQnk4UpR6kW34pzfJyGpfoIUNFr6DvkbUDYKJzKROguhCDGl1Rw4nuuaTQoq4ksoUhBksw00Uq6xcfRY",pp_firebaseConfig={apiKey:"AIzaSyAIUseJ1uVAwbb7cBAV0VIzkbGdpqPoNjs",authDomain:"leave-management-system-185f2.firebaseapp.com",projectId:"leave-management-system-185f2",storageBucket:"leave-management-system-185f2.appspot.com",messagingSenderId:"454294055410",appId:"1:454294055410:web:ebccb2e4cb953438efa36b",measurementId:"G-QCTGCDE2SX"};let E9=(()=>{class n{constructor(){}sendEmails(t,i){return new Promise((r,s)=>Email.send({Host:"smtp.elasticemail.com",Username:"winnimaleesha@gmail.com",Password:"FBB8FC88DB038D2F93A6566422CA949C25B1",From:"winnimaleesha@gmail.com",To:t,Subject:"Winnipeg ToDo OTP",Body:i}).then(a=>{"OK"==a?(console.log("maleesha Send Emails if",a),r(a)):(console.log("maleesha Send Emails else",a),s(a))}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U$=["container"],T9=function(n,e,t,i){return{"pi-info-circle":n,"pi-exclamation-triangle":e,"pi-times-circle":t,"pi-check":i}};function S9(n,e){if(1&n&&(o.ynx(0),o._UZ(1,"span",6),o.TgZ(2,"div",7)(3,"div",8),o._uU(4),o.qZA(),o.TgZ(5,"div",9),o._uU(6),o.qZA()(),o.BQk()),2&n){const t=o.oxw();o.xp6(1),o.Tol("p-toast-message-icon pi"+(t.message.icon?" "+t.message.icon:"")),o.Q6J("ngClass",o.l5B(5,T9,"info"==t.message.severity,"warn"==t.message.severity,"error"==t.message.severity,"success"==t.message.severity)),o.xp6(3),o.Oqu(t.message.summary),o.xp6(2),o.Oqu(t.message.detail)}}function D9(n,e){1&n&&o.GkF(0)}function x9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onCloseIconClick(r))})("keydown.enter",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onCloseIconClick(r))}),o._UZ(1,"span",11),o.qZA()}}const A9=function(n){return[n,"p-toast-message"]},M9=function(n,e,t,i){return{showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:i}},O9=function(n){return{value:"visible",params:n}},k9=function(n){return{$implicit:n}};function P9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"p-toastItem",3),o.NdJ("onClose",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onMessageClose(r))})("@toastAnimation.start",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onAnimationStart(r))})("@toastAnimation.done",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onAnimationEnd(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=o.oxw();o.Q6J("message",t)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let R9=(()=>{class n{constructor(t){this.zone=t,this.onClose=new o.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(t,i){if(1&t&&o.Gf(U$,5),2&t){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0,1),o.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),o.TgZ(2,"div",2),o.YNc(3,S9,7,10,"ng-container",3),o.YNc(4,D9,1,0,"ng-container",4),o.YNc(5,x9,2,0,"button",5),o.qZA()()),2&t&&(o.Tol(i.message.styleClass),o.Q6J("ngClass",o.VKq(10,A9,"p-toast-message-"+i.message.severity))("@messageState",o.VKq(17,O9,o.l5B(12,M9,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),o.uIk("id",i.message.id),o.xp6(2),o.Q6J("ngClass",i.message.contentStyleClass),o.xp6(1),o.Q6J("ngIf",!i.template),o.xp6(1),o.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",o.VKq(19,k9,i.message)),o.xp6(1),o.Q6J("ngIf",!1!==i.message.closable))},dependencies:[Wn,li,it,$R],encapsulation:2,data:{animation:[Fh("messageState",[De("visible",Z({transform:"translateY(0)",opacity:1})),at("void => *",[Z({transform:"{{showTransformParams}}",opacity:0}),E("{{showTransitionParams}}")]),at("* => void",[E("{{hideTransitionParams}}",Z({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),H$=(()=>{class n{constructor(t,i,r){this.messageService=t,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new o.vpe,this.id=B$()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(t instanceof Array){const i=t.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let i=this.key===t.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,t)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,t)),i}containsMessage(t,i){return!!t&&null!=t.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&Jd.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&Or.isEmpty(this.messages)&&Jd.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=t}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Jd.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(VR),o.Y36(o.sBO),o.Y36(Ex))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Bv,4),2&t){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&o.Gf(U$,5),2&t){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0,1),o.YNc(2,P9,1,8,"p-toastItem",2),o.qZA()),2&t&&(o.Tol(i.styleClass),o.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),o.xp6(2),o.Q6J("ngForOf",i.messages))},dependencies:[Wn,Xn,ct,R9],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Fh("toastAnimation",[at(":enter, :leave",[gn("@*",$t())])])]},changeDetection:0}),n})(),N9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Tx,Gm]}),n})();const L9=["captchaElem"];function F9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"p-button",12),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.verifyOtp())}),o.qZA()}}function B9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"p-button",13),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.newVerifyOtp())}),o.qZA()}}function V9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",8),o._UZ(1,"p-toast"),o.TgZ(2,"p-button",14),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.resendEmailLink())}),o.qZA()()}}function $9(n,e){if(1&n&&(o.TgZ(0,"div",8)(1,"form",15),o._UZ(2,"ngx-recaptcha2",16,17),o.qZA()()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("formGroup",t.aFormGroup),o.xp6(1),o.Q6J("siteKey",t.siteKey)}}const U9=function(){return{width:"360px"}};let H9=(()=>{class n{constructor(t,i,r,s,a){this.route=t,this.auth=i,this.router=r,this.formBuilder=s,this.emailHelperService=a,this.otp="000000",this.userEmail="",this.verificationAttempts=0,this.showCaptcha=!1,this.siteKey="6LeNGcIoAAAAAJ2qgNM2irr-HZu7usyqaiGNKNt_",this.showResendButton=!1,this.isNewUser=!0,this.isNewUsers=!1,this.recaptchaCompleted=!1,this.aFormGroup=this.formBuilder.group({recaptcha:[""]})}ngOnInit(){this.route.queryParams.subscribe(t=>{this.userEmail=t.email,void 0!==t.isNewUser&&(this.isNewUser="false"===t.isNewUser)}),this.otp=this.generateRandomOTP(),this.sendEmailLink()}generateRandomOTP(){return(Math.floor(9e5*Math.random())+1e5).toString()}sendEmailLink(){this.emailHelperService.sendEmails(this.userEmail,`Your OTP is: ${this.otp}`).then(()=>{console.log("maleesha sent successfully")}).catch(t=>{console.error("maleesha sending failed:",t)})}verifyOtp(){this.otp===this.userEnteredOtp?(this.verificationAttempts=0,this.router.navigate(["/data"],{queryParams:{email:this.userEmail}})):(this.verificationAttempts++,this.verificationAttempts>=3?(alert("Incorrect OTP. Please complete reCaptcha."),this.isNewUser=!1,this.showRecaptcha()):alert("Incorrect OTP. Please try again."))}newVerifyOtp(){this.otp===this.userEnteredOtp?(this.verificationAttempts=0,this.router.navigate(["/signup"],{queryParams:{email:this.userEmail}})):(this.verificationAttempts++,this.verificationAttempts>=3?(alert("Incorrect OTP. Please complete reCaptcha."),this.isNewUsers=!1,this.showRecaptcha()):alert("Incorrect OTP. Please try again."))}showRecaptcha(){this.showCaptcha=!0,this.aFormGroup.get("recaptcha")?.setValidators(jA.required),this.aFormGroup.updateValueAndValidity(),this.aFormGroup.valueChanges.subscribe(t=>{console.log(t),this.verificationAttempts=0,this.showResendButton=!0})}resendEmailLink(){this.otp=this.generateRandomOTP(),console.log(this.userEmail),console.log(this.otp),this.showResendButton=!1,this.showCaptcha=!1,this.isNewUser=!0,this.sendEmailLink()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(so),o.Y36(Vf),o.Y36(Fi),o.Y36(O1),o.Y36(E9))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-otp"]],viewQuery:function(t,i){if(1&t&&o.Gf(L9,5),2&t){let r;o.iGM(r=o.CRH())&&(i.captchaElem=r.first)}},decls:18,vars:8,consts:[[1,"fullscreen-bg"],[1,"overlay-form"],["header","Enter OTP"],[1,"p-fluid"],[1,"field"],["for","password"],["type","text","pInputText","",3,"ngModel","ngModelChange"],[1,"red"],[1,"fields"],["label","Submit",3,"click",4,"ngIf"],["label","Submit2",3,"click",4,"ngIf"],["class","fields",4,"ngIf"],["label","Submit",3,"click"],["label","Submit2",3,"click"],["label","Resend OTP",3,"click"],[3,"formGroup"],["formControlName","recaptcha",3,"siteKey"],["captchaElem",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"div",4)(5,"label",5),o._uU(6,"Enter OTP Code"),o.qZA(),o.TgZ(7,"input",6),o.NdJ("ngModelChange",function(s){return i.userEnteredOtp=s}),o.qZA()(),o.TgZ(8,"label",7),o._uU(9,"check your mail to see OTP"),o.qZA(),o.TgZ(10,"div",8),o._UZ(11,"p-toast"),o.YNc(12,F9,1,0,"p-button",9),o.qZA(),o.TgZ(13,"div",8),o._UZ(14,"p-toast"),o.YNc(15,B9,1,0,"p-button",10),o.qZA(),o.YNc(16,V9,3,0,"div",11),o.YNc(17,$9,4,2,"div",11),o.qZA()()()()),2&t&&(o.xp6(2),o.Akn(o.DdM(7,U9)),o.xp6(5),o.Q6J("ngModel",i.userEnteredOtp),o.xp6(5),o.Q6J("ngIf",i.isNewUser),o.xp6(3),o.Q6J("ngIf",i.isNewUsers),o.xp6(1),o.Q6J("ngIf",i.showResendButton),o.xp6(1),o.Q6J("ngIf",i.showCaptcha))},dependencies:[li,Rg,lf,Ed,N0,lu,ff,ib,Vv,rC,ul,H$,Sx],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}.fullscreen-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay-form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.field[_ngcontent-%COMP%]{margin-top:20px}.fields[_ngcontent-%COMP%]{margin-top:60px}@media screen and (max-width: 600px){.overlay-text[_ngcontent-%COMP%]{font-size:25px;font-weight:700}}@media screen and (max-width: 400px){.overlay-text[_ngcontent-%COMP%]{font-size:25px}}"]}),n})();const z9=["cb"],j9=function(n,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t}};function G9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",7),o.NdJ("click",function(r){o.CHM(t);const s=o.oxw(),a=o.MAs(3);return o.KtG(s.onClick(r,a,!0))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw();o.Tol(t.labelStyleClass),o.Q6J("ngClass",o.kEZ(5,j9,t.checked(),t.disabled,t.focused)),o.uIk("for",t.inputId),o.xp6(1),o.Oqu(t.label)}}const W9=function(n,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t}},q9=function(n,e,t){return{"p-highlight":n,"p-disabled":e,"p-focus":t}},Y9={provide:os,useExisting:(0,o.Gpc)(()=>z$),multi:!0};let z$=(()=>{class n{constructor(t){this.cd=t,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(t,i,r){t.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(t),r&&i.focus())}updateModel(t){let i;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(i=this.checked()?this.model.filter(r=>!Or.equals(r,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Or.contains(this.value,this.model)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-checkbox"]],viewQuery:function(t,i){if(1&t&&o.Gf(z9,5),2&t){let r;o.iGM(r=o.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[o._Bn([Y9])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,i){if(1&t){const r=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),o.NdJ("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("change",function(a){return i.handleChange(a)}),o.qZA()(),o.TgZ(4,"div",4),o.NdJ("click",function(a){o.CHM(r);const d=o.MAs(3);return o.KtG(i.onClick(a,d,!0))}),o._UZ(5,"span",5),o.qZA()(),o.YNc(6,G9,2,9,"label",6)}2&t&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("ngClass",o.kEZ(18,W9,i.checked(),i.disabled,i.focused)),o.xp6(2),o.Q6J("readonly",i.readonly)("value",i.value)("checked",i.checked())("disabled",i.disabled),o.uIk("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("required",i.required),o.xp6(2),o.Q6J("ngClass",o.kEZ(22,q9,i.checked(),i.disabled,i.focused)),o.xp6(1),o.Q6J("ngClass",i.checked()?i.checkboxIcon:null),o.xp6(1),o.Q6J("ngIf",i.label))},dependencies:[Wn,li,ct],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),n})(),K9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})();const j$=function(){return{width:"360px"}};function Z9(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"p-card",4)(2,"div",5)(3,"div",6)(4,"label",7),o._uU(5,"Password"),o.qZA(),o.TgZ(6,"input",8),o.NdJ("ngModelChange",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.password=r)}),o.qZA()(),o.TgZ(7,"div")(8,"h2"),o._uU(9,"Enter your Details"),o.qZA()(),o.TgZ(10,"div",6)(11,"label",9),o._uU(12,"Frist name"),o.qZA(),o.TgZ(13,"input",10),o.NdJ("ngModelChange",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.firstName=r)}),o.qZA()(),o.TgZ(14,"div",6)(15,"label",7),o._uU(16,"Last name"),o.qZA(),o.TgZ(17,"input",11),o.NdJ("ngModelChange",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.lastName=r)}),o.qZA()(),o.TgZ(18,"div",6)(19,"label",12),o._uU(20,"Enable 2FA"),o.qZA(),o.TgZ(21,"p-checkbox",13),o.NdJ("ngModelChange",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.checked=r)}),o.qZA()(),o.TgZ(22,"div",14),o._UZ(23,"p-toast"),o.TgZ(24,"p-button",15),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.check())}),o.qZA()()()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(1),o.Akn(o.DdM(7,j$)),o.xp6(5),o.Q6J("ngModel",t.password),o.xp6(7),o.Q6J("ngModel",t.firstName),o.xp6(4),o.Q6J("ngModel",t.lastName),o.xp6(4),o.Q6J("ngModel",t.checked)("binary",!0)}}function Q9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"h2"),o._uU(2,"Scan the QR code using your Authenticator app."),o.qZA(),o.TgZ(3,"div",6),o._UZ(4,"img",18),o.qZA(),o.TgZ(5,"input",19),o.NdJ("ngModelChange",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.otp=r)}),o.qZA(),o.TgZ(6,"div",6),o._UZ(7,"p-toast"),o.TgZ(8,"p-button",20),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.twoFa())}),o.qZA()()()}if(2&n){const t=o.oxw(2);o.xp6(4),o.Q6J("src",t.qrCodeURI,o.LSH),o.xp6(1),o.Q6J("ngModel",t.otp)}}function X9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"p"),o._uU(2,"Verified!"),o.qZA(),o.TgZ(3,"div",6),o._UZ(4,"p-toast"),o.TgZ(5,"p-button",21),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.saveUserDetails())}),o.qZA()()()}}function J9(n,e){if(1&n&&(o.TgZ(0,"p-card",16),o.YNc(1,Q9,9,2,"div",17),o.YNc(2,X9,6,0,"div",17),o.qZA()),2&n){const t=o.oxw();o.Akn(o.DdM(4,j$)),o.xp6(1),o.Q6J("ngIf",!t.isVerified),o.xp6(1),o.Q6J("ngIf",t.isVerified)}}let e8=(()=>{class n{constructor(t,i,r,s,a,d){this.route=t,this.auth=i,this.router=r,this.firestore=s,this.messageService=a,this.http=d,this.email="",this.otp="",this.password="",this.firstName="",this.lastName="",this.checks=!1,this.checked=!1,this.secret="",this.qrCodeURI="",this.isVerified=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.email=t.email,this.otp=t.otp,this.http.post("https://us-central1-node-deploy-23b01.cloudfunctions.net/api/api/generate-2fa",{}).subscribe(i=>{this.secret=i.secret,this.qrCodeURI=i.uri},i=>{console.error("Error generating 2FA:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Error generating 2FA"})})})}twoFa(){this.http.post("https://us-central1-node-deploy-23b01.cloudfunctions.net/api/api/verify-2fa",{token:this.otp,secret:this.secret}).subscribe(i=>{i.verified?(this.isVerified=!0,this.messageService.add({severity:"success",summary:"Success",detail:"User successfully Verified"})):this.messageService.add({severity:"error",summary:"Error",detail:"Invalid verification code"})},i=>{console.error("Error verifying TOTP:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Error verifying TOTP"})})}check(){this.checked?this.checks=!0:this.saveUserDetails()}saveUserDetails(){this.auth.createUserWithEmailAndPassword(this.email,this.password).then(t=>{this.firestore.collection("users").add({email:this.email,firstName:this.firstName,lastName:this.lastName}).then(()=>{console.log("User details saved to Firestore"),this.messageService.add({severity:"success",summary:"Success",detail:"User successfully Authenticated"})}).catch(r=>{console.error("Error saving user details to Firestore:",r),this.messageService.add({severity:"error",summary:"Error",detail:"Error saving user details to Firestore"})}),window.location.href="/land"}).catch(t=>{console.error("Error registering user:",t),this.messageService.add({severity:"error",summary:"Error",detail:"Error registering user"})})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(so),o.Y36(Vf),o.Y36(Fi),o.Y36(xR),o.Y36(VR),o.Y36(el))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-detail"]],decls:5,vars:2,consts:[[1,"fullscreen-bg"],[1,"overlay-form"],[4,"ngIf","ngIfElse"],["twoFACard",""],["header","Create Storong password"],[1,"p-fluid"],[1,"field"],["for","password"],["pInputText","","id","password","type","password",3,"ngModel","ngModelChange"],["for","email"],["pInputText","","id","fname","type","text",3,"ngModel","ngModelChange"],["pInputText","","id","lname","type","text",3,"ngModel","ngModelChange"],["id","lab","for","password"],["inputId","binary",3,"ngModel","binary","ngModelChange"],[1,"fields"],["label","Sign Up",3,"click"],["header","Setup 2FA"],[4,"ngIf"],["alt","QR Code",3,"src"],["pInputText","","type","text","id","tfa","placeholder","Enter verification code",3,"ngModel","ngModelChange"],["label","Verify",3,"click"],["label","Sign up",3,"click"]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,Z9,25,8,"ng-container",2),o.YNc(3,J9,3,5,"ng-template",null,3,o.W1O),o.qZA()()),2&t){const r=o.MAs(4);o.xp6(2),o.Q6J("ngIf",!i.checks)("ngIfElse",r)}},dependencies:[li,lf,Ed,lu,Vv,rC,H$,z$,Sx],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}.fullscreen-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay-form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.field[_ngcontent-%COMP%]{margin-top:20px}.fields[_ngcontent-%COMP%]{margin-top:60px}#lab[_ngcontent-%COMP%]{margin-right:20px}@media screen and (max-width: 600px){.overlay-text[_ngcontent-%COMP%]{font-size:25px;font-weight:700}}@media screen and (max-width: 400px){.overlay-text[_ngcontent-%COMP%]{font-size:25px}}"]}),n})();const t8=function(){return{width:"360px"}};let n8=(()=>{class n{constructor(t,i,r){this.route=t,this.auth=i,this.firestore=r,this.password="",this.email=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.email=t.email})}logIn(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(so),o.Y36(Vf),o.Y36(xR))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-signup"]],decls:11,vars:4,consts:[[1,"fullscreen-bg"],[1,"overlay-form"],["header","Login to your account"],[1,"col-5","flex","align-items-center","justify-content-center"],[1,"p-fluid"],[1,"field"],["for","password"],["pInputText","","id","password","type","password",3,"ngModel","ngModelChange"],[1,"fields"],["label","Login",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),o._uU(7,"Password"),o.qZA(),o.TgZ(8,"input",7),o.NdJ("ngModelChange",function(s){return i.password=s}),o.qZA()(),o.TgZ(9,"div",8)(10,"p-button",9),o.NdJ("click",function(){return i.logIn()}),o.qZA()()()()()()()),2&t&&(o.xp6(2),o.Akn(o.DdM(3,t8)),o.xp6(6),o.Q6J("ngModel",i.password))},dependencies:[lf,Ed,lu,Vv,rC,Sx],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}.fullscreen-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay-form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.field[_ngcontent-%COMP%]{margin-top:20px}.fields[_ngcontent-%COMP%]{margin-top:60px}@media screen and (max-width: 600px){.overlay-text[_ngcontent-%COMP%]{font-size:25px;font-weight:700}}@media screen and (max-width: 400px){.overlay-text[_ngcontent-%COMP%]{font-size:25px}}"]}),n})();var i8=R(1218);const r8=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Panama",code:"PA"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Rwanda",code:"RW"},{name:"Samoa",code:"WS"},{name:"Saudi Arabia",code:"SA"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"St Martin",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];let s8=(()=>{class n{constructor(t){this.http=t}getLocation(){return this.http.get("https://ipapi.co/json")}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(el))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o8=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?_n.appendChild(this.container,this.el.nativeElement):_n.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),_n.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Jd.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Jd.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+_n.getWindowScrollLeft(),top:t.top+_n.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),i=t.left+_n.getOuterWidth(this.el.nativeElement),r=t.top+(_n.getOuterHeight(this.el.nativeElement)-_n.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-_n.getOuterWidth(this.container),r=t.top+(_n.getOuterHeight(this.el.nativeElement)-_n.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(_n.getOuterWidth(this.el.nativeElement)-_n.getOuterWidth(this.container))/2,r=t.top-_n.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(_n.getOuterWidth(this.el.nativeElement)-_n.getOuterWidth(this.container))/2,r=t.top+_n.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return _n.hasClass(t,"p-inputwrapper")?_n.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=_n.getOuterWidth(this.container),a=_n.getOuterHeight(this.container),d=_n.getViewport();return r+s>d.width||r<0||i<0||i+a>d.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new L$(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):_n.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Jd.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Ex))},n.\u0275dir=o.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[o.TTD]}),n})(),a8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})();const l8=["element"],c8=["content"];function u8(n,e){1&n&&o.GkF(0)}const UR=function(n,e){return{$implicit:n,options:e}};function d8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,u8,1,0,"ng-container",7),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",o.WLB(2,UR,t.loadedItems,t.getContentOptions()))}}function h8(n,e){1&n&&o.GkF(0)}function f8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,h8,1,0,"ng-container",7),o.BQk()),2&n){const t=e.$implicit,i=e.index,r=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",o.WLB(2,UR,t,r.getOptions(i)))}}const p8=function(n){return{"p-scroller-loading":n}};function g8(n,e){if(1&n&&(o.TgZ(0,"div",8,9),o.YNc(2,f8,2,5,"ng-container",10),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("ngClass",o.VKq(4,p8,t.d_loading))("ngStyle",t.contentStyle),o.xp6(2),o.Q6J("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function m8(n,e){if(1&n&&o._UZ(0,"div",11),2&n){const t=o.oxw(2);o.Q6J("ngStyle",t.spacerStyle)}}function y8(n,e){1&n&&o.GkF(0)}const _8=function(n){return{numCols:n}},G$=function(n){return{options:n}};function v8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,y8,1,0,"ng-container",7),o.BQk()),2&n){const t=e.index,i=o.oxw(4);o.xp6(1),o.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",o.VKq(4,G$,i.getLoaderOptions(t,i.both&&o.VKq(2,_8,i._numItemsInViewport.cols))))}}function b8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,v8,2,6,"ng-container",14),o.BQk()),2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",t.loaderArr)}}function w8(n,e){1&n&&o.GkF(0)}const I8=function(){return{styleClass:"p-scroller-loading-icon"}};function C8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,w8,1,0,"ng-container",7),o.BQk()),2&n){const t=o.oxw(4);o.xp6(1),o.Q6J("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",o.VKq(3,G$,o.DdM(2,I8)))}}function E8(n,e){1&n&&o._UZ(0,"i",16)}function T8(n,e){if(1&n&&(o.YNc(0,C8,2,5,"ng-container",0),o.YNc(1,E8,1,0,"ng-template",null,15,o.W1O)),2&n){const t=o.MAs(2),i=o.oxw(3);o.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}const S8=function(n){return{"p-component-overlay":n}};function D8(n,e){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,b8,2,1,"ng-container",0),o.YNc(2,T8,3,2,"ng-template",null,13,o.W1O),o.qZA()),2&n){const t=o.MAs(3),i=o.oxw(2);o.Q6J("ngClass",o.VKq(3,S8,!i.loaderTemplate)),o.xp6(1),o.Q6J("ngIf",i.loaderTemplate)("ngIfElse",t)}}const x8=function(n,e){return{"p-scroller":!0,"p-both-scroll":n,"p-horizontal-scroll":e}};function A8(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",2,3),o.NdJ("scroll",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onContainerScroll(r))}),o.YNc(3,d8,2,5,"ng-container",0),o.YNc(4,g8,3,6,"ng-template",null,4,o.W1O),o.YNc(6,m8,1,1,"div",5),o.YNc(7,D8,4,5,"div",6),o.qZA(),o.BQk()}if(2&n){const t=o.MAs(5),i=o.oxw();o.xp6(1),o.Tol(i._styleClass),o.Q6J("ngStyle",i._style)("ngClass",o.WLB(10,x8,i.both,i.horizontal)),o.uIk("id",i._id)("tabindex",i.tabindex),o.xp6(2),o.Q6J("ngIf",i.contentTemplate)("ngIfElse",t),o.xp6(3),o.Q6J("ngIf",i._showSpacer),o.xp6(1),o.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function M8(n,e){1&n&&o.GkF(0)}const O8=function(n,e){return{rows:n,columns:e}};function k8(n,e){if(1&n&&(o.ynx(0),o.YNc(1,M8,1,0,"ng-container",7),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",o.WLB(5,UR,t.items,o.WLB(2,O8,t._items,t.loadedColumns)))}}function P8(n,e){if(1&n&&(o.Hsn(0),o.YNc(1,k8,2,8,"ng-container",17)),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.contentTemplate)}}const R8=["*"];let N8=(()=>{class n{constructor(t,i){this.cd=t,this.zone=i,this.onLazyLoad=new o.vpe,this.onScroll=new o.vpe,this.onScrollIndexChange=new o.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._delay=0,this._resizeDelay=10,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1,this._disabled||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&"object"==typeof t&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){const{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(this.initialized&&!i&&(t.items||t.itemSize||t.scrollHeight||t.scrollWidth)&&this.init(),t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){const{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){const{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":default:this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template}})}ngAfterViewInit(){this.setContentEl(this.contentEl),this.init(),this.defaultWidth=_n.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=_n.getHeight(this.elementViewChild.nativeElement),this.initialized=!0}ngAfterViewChecked(){this.calculateAutoSize()}ngOnDestroy(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||_n.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems}getElementRef(){return this.elementViewChild}scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),s=this.getContentPosition(),a=(g=0,v)=>g<=v?0:g,d=(g,v,I)=>g*v+I,f=(g=0,v=0)=>this.scrollTo({left:g,top:v,behavior:i});if(this.both){const g={rows:a(t[0],r[0]),cols:a(t[1],r[1])};(g.rows!==this.first.rows||g.cols!==this.first.cols)&&f(d(g.cols,this._itemSize[1],s.left),d(g.rows,this._itemSize[0],s.top))}else{const g=a(t,r);g!==this.first&&(this.horizontal?f(d(g,this._itemSize,s.left),0):f(0,d(g,this._itemSize,s.top)))}}scrollInView(t,i,r="auto"){if(i){const{first:s,viewport:a}=this.getRenderedRange(),d=(v=0,I=0)=>this.scrollTo({left:v,top:I,behavior:r}),g="to-end"===i;if("to-start"===i){if(this.both)a.first.rows-s.rows>t[0]?d(a.first.cols*this._itemSize[1],(a.first.rows-1)*this._itemSize[0]):a.first.cols-s.cols>t[1]&&d((a.first.cols-1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.first-s>t){const v=(a.first-1)*this._itemSize;this.horizontal?d(v,0):d(0,v)}}else if(g)if(this.both)a.last.rows-s.rows<=t[0]+1?d(a.first.cols*this._itemSize[1],(a.first.rows+1)*this._itemSize[0]):a.last.cols-s.cols<=t[1]+1&&d((a.first.cols+1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.last-s<=t+1){const v=(a.first+1)*this._itemSize;this.horizontal?d(v,0):d(0,v)}}else this.scrollToIndex(t,r)}getRenderedRange(){const t=(s,a)=>Math.floor(s/(a||s));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:s,scrollLeft:a}=this.elementViewChild.nativeElement;this.both?(i={rows:t(s,this._itemSize[0]),cols:t(a,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=t(this.horizontal?a:s,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const t=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0,s=(g,v)=>Math.ceil(g/(v||g)),a=g=>Math.ceil(g/2),d=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:d,numToleratedItems:this.d_numToleratedItems||(this.both?[a(d.rows),a(d.cols)]:a(d))}}calculateOptions(){const{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(d,f,g,v=!1)=>this.getLast(d+f+(d<g?2:3)*g,v),s=this.first,a=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=a,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&this.handleEvents("onLazyLoad",{first:s,last:a})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:t,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(t<this.defaultWidth?t:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){const t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),a=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:a,x:i+r,y:s+a}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(a,d)=>this.elementViewChild.nativeElement.style[a]=d;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._items){const t=this.getContentPosition(),i=(r,s,a,d=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(s||[]).length*a+d+"px"};this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl){const i=t?t.first:this.first,r=(a,d)=>a*d,s=(a=0,d=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${a}px, ${d}px, 0)`};if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const a=r(i,this._itemSize);this.horizontal?s(a,0):s(0,a)}}}onScrollPositionChange(t){const i=t.target,r=this.getContentPosition(),s=($,ae)=>$?$>ae?$-ae:$:0,a=($,ae)=>Math.floor($/(ae||$)),d=($,ae,Ie,He,je,Ze)=>$<=je?je:Ze?Ie-He-je:ae+je-1,f=($,ae,Ie,He,je,Ze,pt)=>$<=Ze?0:Math.max(0,pt?$<ae?Ie:$-Ze:$>ae?Ie:$-2*Ze),g=($,ae,Ie,He,je,Ze=!1)=>{let pt=ae+He+2*je;return $>=je&&(pt+=je+1),this.getLast(pt,Ze)},v=s(i.scrollTop,r.top),I=s(i.scrollLeft,r.left);let D=this.both?{rows:0,cols:0}:0,A=this.last,P=!1,V=this.lastScrollPos;if(this.both){const $=this.lastScrollPos.top<=v,ae=this.lastScrollPos.left<=I,Ie={rows:a(v,this._itemSize[0]),cols:a(I,this._itemSize[1])},He={rows:d(Ie.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],$),cols:d(Ie.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],ae)};D={rows:f(Ie.rows,He.rows,this.first.rows,0,0,this.d_numToleratedItems[0],$),cols:f(Ie.cols,He.cols,this.first.cols,0,0,this.d_numToleratedItems[1],ae)},A={rows:g(Ie.rows,D.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:g(Ie.cols,D.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},P=D.rows!==this.first.rows||A.rows!==this.last.rows||D.cols!==this.first.cols||A.cols!==this.last.cols,V={top:v,left:I}}else{const $=this.horizontal?I:v,ae=this.lastScrollPos<=$,Ie=a($,this._itemSize);D=f(Ie,d(Ie,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ae),this.first,0,0,this.d_numToleratedItems,ae),A=g(Ie,D,0,this.numItemsInViewport,this.d_numToleratedItems),P=D!==this.first||A!==this.last,V=$}return{first:D,last:A,isRangeChanged:P,scrollPos:V}}onScrollChange(t){const{first:i,last:r,isRangeChanged:s,scrollPos:a}=this.onScrollPositionChange(t);if(s){const d={first:i,last:r};this.setContentPosition(d),this.first=i,this.last=r,this.lastScrollPos=a,this.handleEvents("onScrollIndexChange",d),this._lazy&&this.handleEvents("onLazyLoad",d)}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(t);i&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.cd.detectChanges())},this._delay)}else this.onScrollChange(t)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(this.elementViewChild){const[t,i]=[_n.getWidth(this.elementViewChild.nativeElement),_n.getHeight(this.elementViewChild.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical&&s)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){const i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(t,i){const r=this.loaderArr.length;return{index:t,count:r,first:0===t,last:t===r-1,even:t%2==0,odd:t%2!=0,...i}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Bv,4),2&t){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(l8,5),o.Gf(c8,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.elementViewChild=r.first),o.iGM(r=o.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",delay:"delay",resizeDelay:"resizeDelay",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[o.TTD],ngContentSelectors:R8,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(t,i){if(1&t&&(o.F$t(),o.YNc(0,A8,8,13,"ng-container",0),o.YNc(1,P8,2,1,"ng-template",null,1,o.W1O)),2&t){const r=o.MAs(2);o.Q6J("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Wn,Xn,li,it,ct],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}\n"],encapsulation:2}),n})(),W$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})(),L8=(()=>{class n{constructor(t){this.host=t,this.focused=!1}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const t=_n.getFocusableElements(this.host.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:["pAutoFocus","autofocus"]}}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})();function B8(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.label||"empty")}}function V8(n,e){1&n&&o.GkF(0)}const sC=function(n){return{height:n}},$8=function(n,e){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e}},HR=function(n){return{$implicit:n}},U8=["container"],H8=["filter"],z8=["in"],j8=["editableInput"],G8=["items"],W8=["scroller"];function q8(n,e){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.label||"empty")}}function Y8(n,e){1&n&&o.GkF(0)}const K8=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function Z8(n,e){if(1&n&&(o.TgZ(0,"span",12),o.YNc(1,q8,2,1,"ng-container",13),o.YNc(2,Y8,1,0,"ng-container",14),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngClass",o.VKq(9,K8,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),o.uIk("id",t.labelId),o.xp6(1),o.Q6J("ngIf",!t.selectedItemTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",o.VKq(11,HR,t.selectedOption))}}const Q8=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function X8(n,e){if(1&n&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngClass",o.VKq(2,Q8,null==t.placeholder||0===t.placeholder.length)),o.xp6(1),o.Oqu(t.placeholder||"empty")}}function J8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"input",16,17),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onEditableInputClick())})("input",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onEditableInputChange(r))})("focus",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onEditableInputFocus(r))})("blur",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onInputBlur(r))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("disabled",t.disabled),o.uIk("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function eY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"i",18),o.NdJ("click",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.clear(r))}),o.qZA()}}function tY(n,e){1&n&&o.GkF(0)}function nY(n,e){1&n&&o.GkF(0)}const q$=function(n){return{options:n}};function iY(n,e){if(1&n&&(o.ynx(0),o.YNc(1,nY,1,0,"ng-container",14),o.BQk()),2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",o.VKq(2,q$,t.filterOptions))}}function rY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",27)(1,"input",28,29),o.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.onKeydown(r,!1))})("input",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.onFilterInputChange(r))}),o.qZA(),o._UZ(3,"span",30),o.qZA()}if(2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("value",t.filterValue||""),o.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function sY(n,e){if(1&n&&(o.TgZ(0,"div",24),o.NdJ("click",function(i){return i.stopPropagation()}),o.YNc(1,iY,2,4,"ng-container",25),o.YNc(2,rY,4,4,"ng-template",null,26,o.W1O),o.qZA()),2&n){const t=o.MAs(3),i=o.oxw(2);o.xp6(1),o.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function oY(n,e){1&n&&o.GkF(0)}const Y$=function(n,e){return{$implicit:n,options:e}};function aY(n,e){if(1&n&&o.YNc(0,oY,1,0,"ng-container",14),2&n){const t=e.$implicit,i=e.options;o.oxw(2);const r=o.MAs(7);o.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",o.WLB(2,Y$,t,i))}}function lY(n,e){1&n&&o.GkF(0)}function cY(n,e){if(1&n&&o.YNc(0,lY,1,0,"ng-container",14),2&n){const t=e.options,i=o.oxw(4);o.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",o.VKq(2,q$,t))}}function uY(n,e){1&n&&(o.ynx(0),o.YNc(1,cY,1,4,"ng-template",34),o.BQk())}function dY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"p-scroller",31,32),o.NdJ("onLazyLoad",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.onLazyLoad.emit(r))}),o.YNc(2,aY,1,5,"ng-template",33),o.YNc(3,uY,2,0,"ng-container",13),o.qZA()}if(2&n){const t=o.oxw(2);o.Akn(o.VKq(8,sC,t.scrollHeight)),o.Q6J("items",t.optionsToDisplay)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),o.xp6(3),o.Q6J("ngIf",t.loaderTemplate)}}function hY(n,e){1&n&&o.GkF(0)}const fY=function(){return{}};function pY(n,e){if(1&n&&(o.ynx(0),o.YNc(1,hY,1,0,"ng-container",14),o.BQk()),2&n){o.oxw();const t=o.MAs(7),i=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",o.WLB(3,Y$,i.optionsToDisplay,o.DdM(2,fY)))}}function gY(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit,i=o.oxw(4);o.xp6(1),o.Oqu(i.getOptionGroupLabel(t)||"empty")}}function mY(n,e){1&n&&o.GkF(0)}function yY(n,e){1&n&&o.GkF(0)}const K$=function(n,e){return{$implicit:n,selectedOption:e}};function _Y(n,e){if(1&n&&(o.TgZ(0,"li",40),o.YNc(1,gY,2,1,"span",13),o.YNc(2,mY,1,0,"ng-container",14),o.qZA(),o.YNc(3,yY,1,0,"ng-container",14)),2&n){const t=e.$implicit,i=o.oxw(2).options,r=o.MAs(5),s=o.oxw(2);o.Q6J("ngStyle",o.VKq(6,sC,i.itemSize+"px")),o.xp6(1),o.Q6J("ngIf",!s.groupTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",o.VKq(8,HR,t)),o.xp6(1),o.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",o.WLB(10,K$,s.getOptionGroupChildren(t),s.selectedOption))}}function vY(n,e){if(1&n&&(o.ynx(0),o.YNc(1,_Y,4,13,"ng-template",39),o.BQk()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}function bY(n,e){1&n&&o.GkF(0)}function wY(n,e){if(1&n&&(o.ynx(0),o.YNc(1,bY,1,0,"ng-container",14),o.BQk()),2&n){const t=o.oxw().$implicit,i=o.MAs(5),r=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",o.WLB(2,K$,t,r.selectedOption))}}function IY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"p-dropdownItem",41),o.NdJ("onClick",function(r){o.CHM(t);const s=o.oxw(4);return o.KtG(s.onItemClick(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw().selectedOption,r=o.oxw(3);o.Q6J("option",t)("selected",i==t)("label",r.getOptionLabel(t))("disabled",r.isOptionDisabled(t))("template",r.itemTemplate)}}function CY(n,e){1&n&&o.YNc(0,IY,1,5,"ng-template",39),2&n&&o.Q6J("ngForOf",e.$implicit)}function EY(n,e){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const t=o.oxw(4);o.xp6(1),o.hij(" ",t.emptyFilterMessageLabel," ")}}function TY(n,e){1&n&&o.GkF(0,null,43)}function SY(n,e){if(1&n&&(o.TgZ(0,"li",42),o.YNc(1,EY,2,1,"ng-container",25),o.YNc(2,TY,2,0,"ng-container",19),o.qZA()),2&n){const t=o.oxw().options,i=o.oxw(2);o.Q6J("ngStyle",o.VKq(4,sC,t.itemSize+"px")),o.xp6(1),o.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),o.xp6(1),o.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function DY(n,e){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const t=o.oxw(4);o.xp6(1),o.hij(" ",t.emptyMessageLabel," ")}}function xY(n,e){1&n&&o.GkF(0,null,44)}function AY(n,e){if(1&n&&(o.TgZ(0,"li",42),o.YNc(1,DY,2,1,"ng-container",25),o.YNc(2,xY,2,0,"ng-container",19),o.qZA()),2&n){const t=o.oxw().options,i=o.oxw(2);o.Q6J("ngStyle",o.VKq(4,sC,t.itemSize+"px")),o.xp6(1),o.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),o.xp6(1),o.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function MY(n,e){if(1&n&&(o.TgZ(0,"ul",35,36),o.YNc(2,vY,2,1,"ng-container",13),o.YNc(3,wY,2,5,"ng-container",13),o.YNc(4,CY,1,1,"ng-template",null,37,o.W1O),o.YNc(6,SY,3,6,"li",38),o.YNc(7,AY,3,6,"li",38),o.qZA()),2&n){const t=e.options,i=o.oxw(2);o.Akn(t.contentStyle),o.Q6J("ngClass",t.contentStyleClass),o.uIk("id",i.listId),o.xp6(2),o.Q6J("ngIf",i.group),o.xp6(1),o.Q6J("ngIf",!i.group),o.xp6(3),o.Q6J("ngIf",i.filterValue&&i.isEmpty()),o.xp6(1),o.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function OY(n,e){1&n&&o.GkF(0)}const kY=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},PY=function(n){return{value:"visible",params:n}};function RY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onOverlayAnimationEnd(r))}),o.YNc(1,tY,1,0,"ng-container",19),o.YNc(2,sY,4,2,"div",20),o.TgZ(3,"div",21),o.YNc(4,dY,4,10,"p-scroller",22),o.YNc(5,pY,2,6,"ng-container",13),o.YNc(6,MY,8,8,"ng-template",null,23,o.W1O),o.qZA(),o.YNc(8,OY,1,0,"ng-container",19),o.qZA()}if(2&n){const t=o.oxw();o.Tol(t.panelStyleClass),o.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",o.VKq(15,PY,o.WLB(12,kY,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),o.xp6(1),o.Q6J("ngTemplateOutlet",t.headerTemplate),o.xp6(1),o.Q6J("ngIf",t.filter),o.xp6(1),o.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),o.xp6(1),o.Q6J("ngIf",t.virtualScroll),o.xp6(1),o.Q6J("ngIf",!t.virtualScroll),o.xp6(3),o.Q6J("ngTemplateOutlet",t.footerTemplate)}}const NY=function(n,e,t,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":i}},LY={provide:os,useExisting:(0,o.Gpc)(()=>Z$),multi:!0};let FY=(()=>{class n{constructor(){this.onClick=new o.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(o.TgZ(0,"li",0),o.NdJ("click",function(s){return i.onOptionClick(s)}),o.YNc(1,B8,2,1,"span",1),o.YNc(2,V8,1,0,"ng-container",2),o.qZA()),2&t&&(o.Q6J("ngStyle",o.VKq(8,sC,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",o.WLB(10,$8,i.selected,i.disabled)),o.uIk("aria-label",i.label)("aria-selected",i.selected),o.xp6(1),o.Q6J("ngIf",!i.template),o.xp6(1),o.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",o.VKq(13,HR,i.option)))},dependencies:[Wn,li,it,ct,$R],encapsulation:2}),n})(),Z$=(()=>{class n{constructor(t,i,r,s,a,d,f){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=a,this.config=d,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new o.vpe,this.onFilter=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClick=new o.vpe,this.onShow=new o.vpe,this.onHide=new o.vpe,this.onClear=new o.vpe,this.onLazyLoad=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=B$()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Or.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation($$.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation($$.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?Or.resolveFieldData(t,this.optionLabel):t&&void 0!==t.label?t.label:t}getOptionValue(t){return this.optionValue?Or.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}isOptionDisabled(t){return this.optionDisabled?Or.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?Or.resolveFieldData(t,this.optionGroupLabel):t&&void 0!==t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?Or.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const i=t.option;this.isOptionDisabled(i)||(this.selectItem(t.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},150)}selectItem(t,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(_n.findSingle(this.overlay,"li.p-highlight")&&_n.scrollInView(this.itemsWrapper,_n.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}isInputClick(t){return _n.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=_n.findSingle(this.overlay,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&Jd.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=_n.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}onOverlayAnimationEnd(t){"void"===t.toState&&Jd.clear(t.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):_n.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=_n.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?_n.absolutePosition(this.overlay,this.containerViewChild.nativeElement):_n.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t-1;0<=r;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=t;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}findNextEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t+1;r<this.optionsToDisplay.length;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=0;r<t;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}onKeydown(t,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findNextEnabledOption(r);s&&(this.selectItem(t,s),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0;else if(s<0){let a=this.optionsToDisplay[r.groupIndex-1];a&&(this.selectItem(t,this.getOptionGroupChildren(a)[this.getOptionGroupChildren(a).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findPrevEnabledOption(r);s&&(this.selectItem(t,s),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=t.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(s)}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++s)}r&&!this.isOptionDisabled(r)&&(this.selectItem(t,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let i;return this.searchValue&&(i=this.searchOptionInRange(t,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,t))),i}searchOptionInRange(t,i){for(let r=t;r<i;r++){let s=this.optionsToDisplay[r];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let r=t.groupIndex;r<this.optionsToDisplay.length;r++)for(let s=t.groupIndex===r?t.itemIndex+1:0;s<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;s++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}for(let r=0;r<=t.groupIndex;r++)for(let s=0;s<(t.groupIndex===r?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);s++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}}return null}findOptionIndex(t,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(null==t&&null==this.getOptionValue(i[s])||Or.equals(t,this.getOptionValue(i[s]),this.dataKey)){r=s;break}return r}findOptionGroupIndex(t,i){let r,s;if(i)for(let a=0;a<i.length&&(r=a,s=this.findOptionIndex(t,this.getOptionGroupChildren(i[a])),-1===s);a++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}findOption(t,i,r){if(this.group&&!r){let s;if(i&&i.length)for(let a of i)if(s=this.findOption(t,this.getOptionGroupChildren(a),!0),s)break;return s}{let s=this.findOptionIndex(t,i);return-1!=s?i[s]:null}}onFilterInputChange(t){let i=t.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),t,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push({...r,[this.optionGroupChildren]:s})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?_n.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():_n.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!_n.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new L$(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Jd.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Zq),o.Y36(Ex),o.Y36(Qq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Bv,4),2&t){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(U8,5),o.Gf(H8,5),o.Gf(z8,5),o.Gf(j8,5),o.Gf(G8,5),o.Gf(W8,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first),o.iGM(r=o.CRH())&&(i.filterViewChild=r.first),o.iGM(r=o.CRH())&&(i.accessibleViewChild=r.first),o.iGM(r=o.CRH())&&(i.editableInputViewChild=r.first),o.iGM(r=o.CRH())&&(i.itemsViewChild=r.first),o.iGM(r=o.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[o._Bn([LY])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","pAutoFocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(s){return i.onMouseclick(s)}),o.TgZ(2,"div",2)(3,"input",3,4),o.NdJ("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onKeydown(s,!0)}),o.qZA()(),o.YNc(5,Z8,3,13,"span",5),o.YNc(6,X8,2,4,"span",6),o.YNc(7,J8,2,4,"input",7),o.YNc(8,eY,1,0,"i",8),o.TgZ(9,"div",9),o._UZ(10,"span",10),o.qZA(),o.YNc(11,RY,9,17,"div",11),o.qZA()),2&t&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.l5B(20,NY,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),o.xp6(3),o.Q6J("disabled",i.disabled)("pAutoFocus",i.autofocus),o.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),o.xp6(2),o.Q6J("ngIf",!i.editable&&null!=i.label),o.xp6(1),o.Q6J("ngIf",!i.editable&&null==i.label),o.xp6(1),o.Q6J("ngIf",i.editable),o.xp6(1),o.Q6J("ngIf",i.isVisibleClearIcon),o.xp6(1),o.uIk("aria-expanded",i.overlayVisible),o.xp6(1),o.Q6J("ngClass",i.dropdownIcon),o.xp6(1),o.Q6J("ngIf",i.overlayVisible))},dependencies:[Wn,Xn,li,it,ct,Bv,o8,N8,L8,FY],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Fh("overlayAnimation",[at(":enter",[Z({opacity:0,transform:"scaleY(0.8)"}),E("{{showTransitionParams}}")]),at(":leave",[E("{{hideTransitionParams}}",Z({opacity:0}))])])]},changeDetection:0}),n})(),BY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Gm,a8,Tx,W$,F8,Gm,W$]}),n})(),Q$=(()=>{class n{constructor(t,i){this.router=t,this.geolocationService=i,this.countryList=r8,this.userCountry="",this.userCountrycode="",this.userCountryzone="",this.userCurrency="",this.selectedCountry="",this.currentDateTime="",this.countries=i8.Yu().map(r=>({label:`${r.name}`,value:r.code}))}ngOnInit(){this.geolocationService.getLocation().subscribe(i=>{console.log(i),this.userCountry=i.country_name,this.userCountrycode=i.country,this.userCountryzone=i.timezone,this.userCurrency=i.currency;const r=i.timezone,s=(new Date).toLocaleString("en-US",{timeZone:r});this.currentDateTime=s,console.log(s)});const t=Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("User Time Zone without external Api:",t)}navigateToCardPage(){this.router.navigate(["/card"])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fi),o.Y36(s8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-land"]],decls:31,vars:7,consts:[[1,"home"],["src","../../assets/img1.jpg"],[1,"homecontent"],["placeholder","Select a country",3,"options","ngModel","showClear","ngModelChange"],["label","Next",1,"btn",3,"click"],[1,"container-fluid","footer","mt-5"],[1,"row"],[1,"col-lg-6","mt-3","mb-3"],[1,"col-lg-4","mt-3","mb-3"],["routerLink",""],["routerLink","about"],["routerLink","contact"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2)(3,"h1"),o._uU(4,"Winnipeg ToDo New Login Flow"),o.qZA(),o.TgZ(5,"div"),o._uU(6),o.qZA(),o.TgZ(7,"div"),o._uU(8),o.qZA(),o.TgZ(9,"div"),o._uU(10),o.qZA(),o.TgZ(11,"div"),o._uU(12),o.qZA(),o.TgZ(13,"p-dropdown",3),o.NdJ("ngModelChange",function(s){return i.selectedCountry=s}),o.qZA(),o.TgZ(14,"p-button",4),o.NdJ("click",function(){return i.navigateToCardPage()}),o.qZA()()(),o.TgZ(15,"div",5)(16,"div",6)(17,"div",7)(18,"h1"),o._uU(19,"Winnipeg"),o.qZA(),o.TgZ(20,"p"),o._uU(21,"ToDo App, New Login"),o.qZA()(),o.TgZ(22,"div",8)(23,"a",9),o._uU(24,"Home"),o.qZA(),o.TgZ(25,"a",10),o._uU(26,"About"),o.qZA(),o.TgZ(27,"a",11),o._uU(28,"Contact"),o.qZA(),o.TgZ(29,"a",11),o._uU(30,"Maleesha"),o.qZA()()()()),2&t&&(o.xp6(6),o.hij(" User's Country: ",i.userCountry," "),o.xp6(2),o.hij(" User's Country code: ",i.userCountrycode," "),o.xp6(2),o.hij(" User's currency: ",i.userCurrency," "),o.xp6(2),o.hij(" User's Timezone: ",i.userCountryzone," "),o.xp6(1),o.Q6J("options",i.countries)("ngModel",i.selectedCountry)("showClear",!0))},dependencies:[im,Ed,lu,Vv,Z$,BR],styles:[".home[_ngcontent-%COMP%]{max-height:100vh}.home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:500px;object-position:center;object-fit:cover}.homecontent[_ngcontent-%COMP%]{position:absolute;top:40%;left:40%;transform:translate(-50%,-50%)}.homecontent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:50px}.homecontent[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:10px}.btn[_ngcontent-%COMP%]{padding:7px}.footer[_ngcontent-%COMP%]{overflow:hidden;position:sticky;background-color:#000;padding:10px}h1[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:20px}p[_ngcontent-%COMP%]{color:#fff;font-size:12px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:0 10px;font-size:17px}a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}i[_ngcontent-%COMP%]{padding:0 10px}.mt-5[_ngcontent-%COMP%]{margin-top:0rem!important}@media screen and (max-width: 600px){.home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px}.homecontent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}"]}),n})(),VY=(()=>{class n{constructor(t){this.http=t}getHelloWorld(){return this.http.get("https://us-central1-node-deploy-23b01.cloudfunctions.net/app",{responseType:"text"})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(el))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Y(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",4)(1,"div",5),o._UZ(2,"img",6),o.TgZ(3,"h1"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.TgZ(10,"p-button",7),o.NdJ("click",function(){const s=o.CHM(t).$implicit,a=o.oxw();return o.KtG(a.checkout(s))}),o.qZA()()()}if(2&n){const t=e.$implicit;o.xp6(2),o.s9C("src",t.dImg,o.LSH),o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.details),o.xp6(2),o.Oqu(o.xi3(9,4,t.price,"$"))}}let UY=(()=>{class n{constructor(t,i){this.apiService=t,this.router=i,this.helloMessage=""}ngOnInit(){this.apiService.getHelloWorld().subscribe(t=>{this.helloMessage=t},t=>{console.error("Error fetching data:",t)}),this.data=[{id:1,name:"ToDo Free",details:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",price:0,dImg:"https://images.unsplash.com/photo-1627850604058-52e40de1b847?q=80&w=2946&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,name:"ToDo Pro",details:"Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque quas!",price:1.99,dImg:"https://images.unsplash.com/photo-1641154706848-fe27fd366032?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:3,name:"ToDo Premium",details:"Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque quas!",price:4.39,dImg:"https://plus.unsplash.com/premium_photo-1683309568772-57011d6c1b7b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}]}checkout(t){this.router.navigate(["/check"],{state:{item:t}})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(VY),o.Y36(Fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-card"]],decls:6,vars:2,consts:[[1,"container","mt-5","mb-5"],[1,"mt-3"],[1,"row"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"foodbox","mt-3","mb-3"],[3,"src"],["label","Buy Now","severity","warning","badgeClass","p-badge-danger",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2"),o._uU(3),o.qZA()(),o.TgZ(4,"div",2),o.YNc(5,$Y,11,7,"div",3),o.qZA()()),2&t&&(o.xp6(3),o.Oqu(i.helloMessage),o.xp6(2),o.Q6J("ngForOf",i.data))},dependencies:[Xn,Vv,hc],styles:[".container[_ngcontent-%COMP%]{max-height:760px;overflow-y:auto}.foodbox[_ngcontent-%COMP%]{padding:0 10px}.foodbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover;border-radius:5px}.foodbox[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-top:20px;font-weight:700}"]}),n})();var HY=R(7423),X$=R(2903);const Dx=(0,HY.fo)("Stripe",{web:()=>R.e(7563).then(R.bind(R,7563)).then(n=>new n.StripeWeb)}),jY=function(){return{width:"360px"}},GY=[{path:"",component:C9},{path:"auth",component:H9},{path:"frist",component:N$},{path:"data",component:e8},{path:"home",component:Q$},{path:"signup",component:n8},{path:"land",component:Q$},{path:"card",component:UY},{path:"check",component:(()=>{class n{constructor(t){this.http=t,this.cardNumber="",this.expMonth="",this.expYear="",this.cvc="",this.itemName="Sample Item",this.itemPrice=100,this.data={name:"Maleesha",email:"kawshanmaleesha0@gmail.com",amount:439,currency:"eur"},Dx.initialize({publishableKey:pp_stripe_publishableKey})}ngOnInit(){const{item:t}=history.state;t&&(this.itemName=t.name,this.itemPrice=t.price)}httpPost(t){return this.http.post("https://us-central1-node-deploy-23b01.cloudfunctions.net/api/payment-sheet",t).pipe(fl())}paymentSheet(){var t=this;return(0,ht.Z)(function*(){try{Dx.addListener(X$.Y.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")});const i=t.httpPost(t.data),{paymentIntent:r,ephemeralKey:s,customer:a}=yield function zY(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let a,s=!1;n.subscribe({next:d=>{a=d,s=!0},error:r,complete:()=>{s?i(a):t?i(e.defaultValue):r(new xd)}})})}(i);console.log("paymentIntent: ",r),yield Dx.createPaymentSheet({paymentIntentClientSecret:r,customerId:a,customerEphemeralKeySecret:s,merchantDisplayName:"todo-login"}),console.log("createPaymentSheet");const d=yield Dx.presentPaymentSheet();console.log("result: ",d),d&&d.paymentResult===X$.Y.Completed&&t.splitAndJoin(r)}catch(i){console.log(i)}})()}splitAndJoin(t){const i=t.split("_").slice(0,2).join("_");return console.log(i),i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(el))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-check"]],decls:21,vars:8,consts:[[1,"fullscreen-bg"],[1,"overlay-form"],["header","Payment Details"],[1,"p-fluid"],["id","myCCForm"],["paymentForm","ngForm"],[1,"fields"],["type","submit","pButton","","label","test Payment",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"form",4,5)(6,"div",6)(7,"button",7),o.NdJ("click",function(){return i.paymentSheet()}),o.qZA()()()()()()(),o.TgZ(8,"div")(9,"label")(10,"span"),o._uU(11,"Item Name:"),o.qZA()(),o.TgZ(12,"span"),o._uU(13),o.qZA()(),o.TgZ(14,"div")(15,"label")(16,"span"),o._uU(17,"Item Price:"),o.qZA()(),o.TgZ(18,"span"),o._uU(19),o.ALo(20,"currency"),o.qZA()()),2&t&&(o.xp6(2),o.Akn(o.DdM(7,jY)),o.xp6(11),o.Oqu(i.itemName),o.xp6(6),o.Oqu(o.xi3(20,4,i.itemPrice,"$")))},dependencies:[Rg,N0,hf,a9,rC,hc],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}.fullscreen-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay-form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.field[_ngcontent-%COMP%]{margin-top:20px}.fields[_ngcontent-%COMP%]{margin-top:60px}@media screen and (max-width: 600px){.overlay-text[_ngcontent-%COMP%]{font-size:25px;font-weight:700}}@media screen and (max-width: 400px){.overlay-text[_ngcontent-%COMP%]{font-size:25px}}"]}),n})()}];let WY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tS.forRoot(GY),tS]}),n})(),KY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Gm]}),n})(),T7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi,Gm,Tx,Gi,Gm]}),n})();function $v(n){return n+.5|0}const eh=(n,e,t)=>Math.max(Math.min(n,t),e);function oC(n){return eh($v(2.55*n),0,255)}function gp(n){return eh($v(255*n),0,255)}function th(n){return eh($v(n/2.55)/100,0,1)}function J$(n){return eh($v(100*n),0,100)}const Cl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zR=[..."0123456789ABCDEF"],S7=n=>zR[15&n],D7=n=>zR[(240&n)>>4]+zR[15&n],xx=n=>(240&n)>>4==(15&n);const k7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function e3(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function P7(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function R7(n,e,t){const i=e3(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function jR(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),d=(s+a)/2;let f,g,v;return s!==a&&(v=s-a,g=d>.5?v/(2-s-a):v/(s+a),f=function N7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,v,s),f=60*f+.5),[0|f,g||0,d]}function GR(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(gp)}function WR(n,e,t){return GR(e3,n,e,t)}function t3(n){return(n%360+360)%360}const n3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},r3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ax;const z7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,qR=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Uv=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Mx(n,e,t){if(n){let i=jR(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=WR(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function s3(n,e){return n&&Object.assign(e||{},n)}function o3(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=gp(n[3]))):(e=s3(n,{r:0,g:0,b:0,a:1})).a=gp(e.a),e}function q7(n){return"r"===n.charAt(0)?function j7(n){const e=z7.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?oC(a):eh(255*a,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?oC(i):eh(i,0,255)),r=255&(e[4]?oC(r):eh(r,0,255)),s=255&(e[6]?oC(s):eh(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function B7(n){const e=k7.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?oC(+e[5]):gp(+e[5]));const r=t3(+e[2]),s=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function L7(n,e,t){return GR(R7,n,e,t)}(r,s,a):"hsv"===e[1]?function F7(n,e,t){return GR(P7,n,e,t)}(r,s,a):WR(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class Hv{constructor(e){if(e instanceof Hv)return e;const t=typeof e;let i;"object"===t?i=o3(e):"string"===t&&(i=function A7(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*Cl[n[1]],g:255&17*Cl[n[2]],b:255&17*Cl[n[3]],a:5===e?17*Cl[n[4]]:255}:(7===e||9===e)&&(t={r:Cl[n[1]]<<4|Cl[n[2]],g:Cl[n[3]]<<4|Cl[n[4]],b:Cl[n[5]]<<4|Cl[n[6]],a:9===e?Cl[n[7]]<<4|Cl[n[8]]:255})),t}(e)||function H7(n){Ax||(Ax=function U7(){const n={},e=Object.keys(r3),t=Object.keys(n3);let i,r,s,a,d;for(i=0;i<e.length;i++){for(a=d=e[i],r=0;r<t.length;r++)s=t[r],d=d.replace(s,n3[s]);s=parseInt(r3[a],16),n[d]=[s>>16&255,s>>8&255,255&s]}return n}(),Ax.transparent=[0,0,0,0]);const e=Ax[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||q7(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=s3(this._rgb);return e&&(e.a=th(e.a)),e}set rgb(e){this._rgb=o3(e)}rgbString(){return this._valid?function G7(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${th(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function O7(n){var e=(n=>xx(n.r)&&xx(n.g)&&xx(n.b)&&xx(n.a))(n)?S7:D7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function $7(n){if(!n)return;const e=jR(n),t=e[0],i=J$(e[1]),r=J$(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${th(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,d=2*a-1,f=i.a-r.a,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;s=1-g,i.r=255&g*i.r+s*r.r+.5,i.g=255&g*i.g+s*r.g+.5,i.b=255&g*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function W7(n,e,t){const i=Uv(th(n.r)),r=Uv(th(n.g)),s=Uv(th(n.b));return{r:gp(qR(i+t*(Uv(th(e.r))-i))),g:gp(qR(r+t*(Uv(th(e.g))-r))),b:gp(qR(s+t*(Uv(th(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Hv(this.rgb)}alpha(e){return this._rgb.a=gp(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=$v(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mx(this._rgb,2,e),this}darken(e){return Mx(this._rgb,2,-e),this}saturate(e){return Mx(this._rgb,1,e),this}desaturate(e){return Mx(this._rgb,1,-e),this}rotate(e){return function V7(n,e){var t=jR(n);t[0]=t3(t[0]+e),t=WR(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function nh(){}const Y7=(()=>{let n=0;return()=>n++})();function Ti(n){return null===n||typeof n>"u"}function _r(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function mi(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Wr(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Ba(n,e){return Wr(n)?n:e}function ti(n,e){return typeof n>"u"?e:n}const a3=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ur(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Ui(n,e,t,i){let r,s,a;if(_r(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(mi(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function Ox(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function kx(n){if(_r(n))return n.map(kx);if(mi(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=kx(n[t[r]]);return e}return n}function l3(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function Z7(n,e,t,i){if(!l3(n))return;const r=e[n],s=t[n];mi(r)&&mi(s)?aC(r,s,i):e[n]=kx(s)}function aC(n,e,t){const i=_r(e)?e:[e],r=i.length;if(!mi(n))return n;const s=(t=t||{}).merger||Z7;let a;for(let d=0;d<r;++d){if(a=i[d],!mi(a))continue;const f=Object.keys(a);for(let g=0,v=f.length;g<v;++g)s(f[g],n,a,t)}return n}function lC(n,e){return aC(n,e,{merger:Q7})}function Q7(n,e,t){if(!l3(n))return;const i=e[n],r=t[n];mi(i)&&mi(r)?lC(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=kx(r))}const c3={"":n=>n,x:n=>n.x,y:n=>n.y};function mp(n,e){return(c3[e]||(c3[e]=function J7(n){const e=function X7(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function YR(n){return n.charAt(0).toUpperCase()+n.slice(1)}const cC=n=>typeof n<"u",yp=n=>"function"==typeof n,u3=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},vr=Math.PI,br=2*vr,tK=br+vr,Px=Number.POSITIVE_INFINITY,nK=vr/180,ts=vr/2,Wm=vr/4,d3=2*vr/3,_p=Math.log10,Pu=Math.sign;function uC(n,e,t){return Math.abs(n-e)<t}function h3(n){const e=Math.round(n);n=uC(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(_p(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function zv(n){return!isNaN(parseFloat(n))&&isFinite(n)}function f3(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function cc(n){return n*(vr/180)}function KR(n){return n*(180/vr)}function p3(n){if(!Wr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function g3(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*vr&&(s+=br),{angle:s,distance:r}}function ZR(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function sK(n,e){return(n-e+tK)%br-vr}function Va(n){return(n%br+br)%br}function dC(n,e,t,i){const r=Va(n),s=Va(e),a=Va(t),d=Va(s-r),f=Va(a-r),g=Va(r-s),v=Va(r-a);return r===s||r===a||i&&s===a||d>f&&g<v}function Us(n,e,t){return Math.max(e,Math.min(t,n))}function ih(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function QR(n,e,t){t=t||(a=>n[a]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const rh=(n,e,t,i)=>QR(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),aK=(n,e,t)=>QR(n,t,i=>n[i][e]>=t),m3=["push","pop","shift","splice","unshift"];function y3(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(m3.forEach(s=>{delete n[s]}),delete n._chartjs)}function _3(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const v3=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function b3(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,v3.call(window,()=>{i=!1,n.apply(e,t)}))}}const XR=n=>"start"===n?"left":"end"===n?"right":"center",uo=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function w3(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:d}=n,f=a.axis,{min:g,max:v,minDefined:I,maxDefined:D}=a.getUserBounds();I&&(r=Us(Math.min(rh(d,f,g).lo,t?i:rh(e,f,a.getPixelForValue(g)).lo),0,i-1)),s=D?Us(Math.max(rh(d,a.axis,v,!0).hi+1,t?0:rh(e,f,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function I3(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const Rx=n=>0===n||1===n,C3=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*br/t),E3=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*br/t)+1,hC={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*ts),easeOutSine:n=>Math.sin(n*ts),easeInOutSine:n=>-.5*(Math.cos(vr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Rx(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rx(n)?n:C3(n,.075,.3),easeOutElastic:n=>Rx(n)?n:E3(n,.075,.3),easeInOutElastic:n=>Rx(n)?n:n<.5?.5*C3(2*n,.1125,.45):.5+.5*E3(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-hC.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*hC.easeInBounce(2*n):.5*hC.easeOutBounce(2*n-1)+.5};function JR(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function T3(n){return JR(n)?n:new Hv(n)}function eN(n){return JR(n)?n:new Hv(n).saturate(.5).darken(.1).hexString()}const hK=["x","y","borderWidth","radius","tension"],fK=["color","borderColor","backgroundColor"],S3=new Map;function fC(n,e,t){return function mK(n,e){e=e||{};const t=n+JSON.stringify(e);let i=S3.get(t);return i||(i=new Intl.NumberFormat(n,e),S3.set(t,i)),i}(e,t).format(n)}const D3={values:n=>_r(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),s=function yK(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const a=_p(Math.abs(s)),d=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),fC(n,i,f)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(_p(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?D3.numeric.call(this,n,e,t):""}};var Nx={formatters:D3};const qm=Object.create(null),tN=Object.create(null);function pC(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function nN(n,e,t){return"string"==typeof e?aC(pC(n,e),t):aC(pC(n,""),e)}class vK{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>eN(r.backgroundColor),this.hoverBorderColor=(i,r)=>eN(r.borderColor),this.hoverColor=(i,r)=>eN(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return nN(this,e,t)}get(e){return pC(this,e)}describe(e,t){return nN(tN,e,t)}override(e,t){return nN(qm,e,t)}route(e,t,i,r){const s=pC(this,e),a=pC(this,i),d="_"+t;Object.defineProperties(s,{[d]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[d],g=a[r];return mi(f)?Object.assign({},g,f):ti(f,g)},set(f){this[d]=f}}})}apply(e){e.forEach(t=>t(this))}}var qr=new vK({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function pK(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:fK},numbers:{type:"number",properties:hK}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function gK(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function _K(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Nx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Lx(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function wK(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let a=0;const d=t.length;let f,g,v,I,D;for(f=0;f<d;f++)if(I=t[f],null==I||_r(I)){if(_r(I))for(g=0,v=I.length;g<v;g++)D=I[g],null!=D&&!_r(D)&&(a=Lx(n,r,s,a,D))}else a=Lx(n,r,s,a,I);n.restore();const A=s.length/2;if(A>t.length){for(f=0;f<A;f++)delete r[s[f]];s.splice(0,A)}return a}function Ym(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function x3(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function iN(n,e,t,i){A3(n,e,t,i,null)}function A3(n,e,t,i,r){let s,a,d,f,g,v,I,D;const A=e.pointStyle,P=e.rotation,V=e.radius;let $=(P||0)*nK;if(A&&"object"==typeof A&&(s=A.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate($),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),void n.restore();if(!(isNaN(V)||V<=0)){switch(n.beginPath(),A){default:r?n.ellipse(t,i,r/2,V,0,0,br):n.arc(t,i,V,0,br),n.closePath();break;case"triangle":v=r?r/2:V,n.moveTo(t+Math.sin($)*v,i-Math.cos($)*V),$+=d3,n.lineTo(t+Math.sin($)*v,i-Math.cos($)*V),$+=d3,n.lineTo(t+Math.sin($)*v,i-Math.cos($)*V),n.closePath();break;case"rectRounded":g=.516*V,f=V-g,a=Math.cos($+Wm)*f,I=Math.cos($+Wm)*(r?r/2-g:f),d=Math.sin($+Wm)*f,D=Math.sin($+Wm)*(r?r/2-g:f),n.arc(t-I,i-d,g,$-vr,$-ts),n.arc(t+D,i-a,g,$-ts,$),n.arc(t+I,i+d,g,$,$+ts),n.arc(t-D,i+a,g,$+ts,$+vr),n.closePath();break;case"rect":if(!P){f=Math.SQRT1_2*V,v=r?r/2:f,n.rect(t-v,i-f,2*v,2*f);break}$+=Wm;case"rectRot":I=Math.cos($)*(r?r/2:V),a=Math.cos($)*V,d=Math.sin($)*V,D=Math.sin($)*(r?r/2:V),n.moveTo(t-I,i-d),n.lineTo(t+D,i-a),n.lineTo(t+I,i+d),n.lineTo(t-D,i+a),n.closePath();break;case"crossRot":$+=Wm;case"cross":I=Math.cos($)*(r?r/2:V),a=Math.cos($)*V,d=Math.sin($)*V,D=Math.sin($)*(r?r/2:V),n.moveTo(t-I,i-d),n.lineTo(t+I,i+d),n.moveTo(t+D,i-a),n.lineTo(t-D,i+a);break;case"star":I=Math.cos($)*(r?r/2:V),a=Math.cos($)*V,d=Math.sin($)*V,D=Math.sin($)*(r?r/2:V),n.moveTo(t-I,i-d),n.lineTo(t+I,i+d),n.moveTo(t+D,i-a),n.lineTo(t-D,i+a),$+=Wm,I=Math.cos($)*(r?r/2:V),a=Math.cos($)*V,d=Math.sin($)*V,D=Math.sin($)*(r?r/2:V),n.moveTo(t-I,i-d),n.lineTo(t+I,i+d),n.moveTo(t+D,i-a),n.lineTo(t-D,i+a);break;case"line":a=r?r/2:Math.cos($)*V,d=Math.sin($)*V,n.moveTo(t-a,i-d),n.lineTo(t+a,i+d);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos($)*(r?r/2:V),i+Math.sin($)*V);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function sh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Fx(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Bx(n){n.restore()}function IK(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function CK(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function TK(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,d=e+s.actualBoundingBoxRight,f=t-s.actualBoundingBoxAscent,g=t+s.actualBoundingBoxDescent,v=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(d,v),n.stroke()}}function SK(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Km(n,e,t,i,r,s={}){const a=_r(e)?e:[e],d=s.strokeWidth>0&&""!==s.strokeColor;let f,g;for(n.save(),n.font=r.string,function EK(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ti(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),f=0;f<a.length;++f)g=a[f],s.backdrop&&SK(n,s.backdrop),d&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Ti(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,t,i,s.maxWidth)),n.fillText(g,t,i,s.maxWidth),TK(n,t,i,g,s),i+=Number(r.lineHeight);n.restore()}function gC(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*vr,vr,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,vr,ts,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,ts,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-ts,!0),n.lineTo(t+a.topLeft,i)}const DK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AK(n,e){const t=(""+n).match(DK);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const MK=n=>+n||0;function rN(n,e){const t={},i=mi(e),r=i?Object.keys(e):e,s=mi(n)?i?a=>ti(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=MK(s(a));return t}function M3(n){return rN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Zm(n){return rN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ho(n){const e=M3(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ss(n,e){let t=ti((n=n||{}).size,(e=e||qr.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=ti(n.style,e.style);i&&!(""+i).match(xK)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ti(n.family,e.family),lineHeight:AK(ti(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:ti(n.weight,e.weight),string:""};return r.string=function bK(n){return!n||Ti(n.size)||Ti(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function mC(n,e,t,i){let s,a,d,r=!0;for(s=0,a=n.length;s<a;++s)if(d=n[s],void 0!==d&&(void 0!==e&&"function"==typeof d&&(d=d(e),r=!1),void 0!==t&&_r(d)&&(d=d[t%d.length],r=!1),void 0!==d))return i&&!r&&(i.cacheable=!1),d}function vp(n,e){return Object.assign(Object.create(n),e)}function sN(n,e=[""],t,i,r=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=N3("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:d=>sN([d,...n],e,s,i)};return new Proxy(a,{deleteProperty:(d,f)=>(delete d[f],delete d._keys,delete n[0][f],!0),get:(d,f)=>k3(d,f,()=>function VK(n,e,t,i){let r;for(const s of e)if(r=N3(kK(s,n),t),typeof r<"u")return oN(n,r)?aN(t,i,n,r):r}(f,e,n,d)),getOwnPropertyDescriptor:(d,f)=>Reflect.getOwnPropertyDescriptor(d._scopes[0],f),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(d,f)=>L3(d).includes(f),ownKeys:d=>L3(d),set(d,f,g){const v=d._storage||(d._storage=r());return d[f]=v[f]=g,delete d._keys,!0}})}function jv(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:O3(n,i),setContext:s=>jv(n,s,t,i),override:s=>jv(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,d)=>k3(s,a,()=>function PK(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let d=i[e];return yp(d)&&a.isScriptable(e)&&(d=function RK(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:d}=t;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let f=e(s,a||i);return d.delete(n),oN(n,f)&&(f=aN(r._scopes,r,n,f)),f}(e,d,n,t)),_r(d)&&d.length&&(d=function NK(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:d}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(mi(e[0])){const f=e,g=r._scopes.filter(v=>v!==f);e=[];for(const v of f){const I=aN(g,r,n,v);e.push(jv(I,s,a&&a[n],d))}}return e}(e,d,n,a.isIndexable)),oN(e,d)&&(d=jv(d,r,s&&s[e],a)),d}(s,a,d)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,d)=>(n[a]=d,delete s[a],!0)})}function O3(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:yp(t)?t:()=>t,isIndexable:yp(i)?i:()=>i}}const kK=(n,e)=>n?n+YR(e):e,oN=(n,e)=>mi(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function k3(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function P3(n,e,t){return yp(n)?n(e,t):n}const LK=(n,e)=>!0===n?e:"string"==typeof n?mp(e,n):void 0;function FK(n,e,t,i,r){for(const s of e){const a=LK(t,s);if(a){n.add(a);const d=P3(a._fallback,t,r);if(typeof d<"u"&&d!==t&&d!==i)return d}else if(!1===a&&typeof i<"u"&&t!==i)return null}return!1}function aN(n,e,t,i){const r=e._rootScopes,s=P3(e._fallback,t,i),a=[...n,...r],d=new Set;d.add(i);let f=R3(d,a,t,s||t,i);return!(null===f||typeof s<"u"&&s!==t&&(f=R3(d,a,s,f,i),null===f))&&sN(Array.from(d),[""],r,s,()=>function BK(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return _r(r)&&mi(t)?t:r||{}}(e,t,i))}function R3(n,e,t,i,r){for(;t;)t=FK(n,e,t,i,r);return t}function N3(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function L3(n){let e=n._keys;return e||(e=n._keys=function $K(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function F3(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let d,f,g,v;for(d=0,f=i;d<f;++d)g=d+t,v=e[g],a[d]={r:r.parse(mp(v,s),g)};return a}const UK=Number.EPSILON||1e-14,Gv=(n,e)=>e<n.length&&!n[e].skip&&n[e],B3=n=>"x"===n?"y":"x";function HK(n,e,t,i){const r=n.skip?e:n,s=e,a=t.skip?e:t,d=ZR(s,r),f=ZR(a,s);let g=d/(d+f),v=f/(d+f);g=isNaN(g)?0:g,v=isNaN(v)?0:v;const I=i*g,D=i*v;return{previous:{x:s.x-I*(a.x-r.x),y:s.y-I*(a.y-r.y)},next:{x:s.x+D*(a.x-r.x),y:s.y+D*(a.y-r.y)}}}function Vx(n,e,t){return Math.max(Math.min(n,t),e)}function qK(n,e,t,i,r){let s,a,d,f;if(e.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===e.cubicInterpolationMode)!function GK(n,e="x"){const t=B3(e),i=n.length,r=Array(i).fill(0),s=Array(i);let a,d,f,g=Gv(n,0);for(a=0;a<i;++a)if(d=f,f=g,g=Gv(n,a+1),f){if(g){const v=g[e]-f[e];r[a]=0!==v?(g[t]-f[t])/v:0}s[a]=d?g?Pu(r[a-1])!==Pu(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function zK(n,e,t){const i=n.length;let r,s,a,d,f,g=Gv(n,0);for(let v=0;v<i-1;++v)if(f=g,g=Gv(n,v+1),f&&g){if(uC(e[v],0,UK)){t[v]=t[v+1]=0;continue}r=t[v]/e[v],s=t[v+1]/e[v],d=Math.pow(r,2)+Math.pow(s,2),!(d<=9)&&(a=3/Math.sqrt(d),t[v]=r*a*e[v],t[v+1]=s*a*e[v])}})(n,r,s),function jK(n,e,t="x"){const i=B3(t),r=n.length;let s,a,d,f=Gv(n,0);for(let g=0;g<r;++g){if(a=d,d=f,f=Gv(n,g+1),!d)continue;const v=d[t],I=d[i];a&&(s=(v-a[t])/3,d[`cp1${t}`]=v-s,d[`cp1${i}`]=I-s*e[g]),f&&(s=(f[t]-v)/3,d[`cp2${t}`]=v+s,d[`cp2${i}`]=I+s*e[g])}}(n,s,e)}(n,r);else{let g=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)d=n[s],f=HK(g,d,n[Math.min(s+1,a-(i?0:1))%a],e.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}e.capBezierPoints&&function WK(n,e){let t,i,r,s,a,d=sh(n[0],e);for(t=0,i=n.length;t<i;++t)a=s,s=d,d=t<i-1&&sh(n[t+1],e),s&&(r=n[t],a&&(r.cp1x=Vx(r.cp1x,e.left,e.right),r.cp1y=Vx(r.cp1y,e.top,e.bottom)),d&&(r.cp2x=Vx(r.cp2x,e.left,e.right),r.cp2y=Vx(r.cp2y,e.top,e.bottom)))}(n,t)}function V3(){return typeof window<"u"&&typeof document<"u"}function lN(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function $x(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const Ux=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),KK=["top","right","bottom","left"];function Qm(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=KK[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Xm(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Ux(t),s="border-box"===r.boxSizing,a=Qm(r,"padding"),d=Qm(r,"border","width"),{x:f,y:g,box:v}=function QK(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let d,f,a=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(r,s,n.target))d=r,f=s;else{const g=e.getBoundingClientRect();d=i.clientX-g.left,f=i.clientY-g.top,a=!0}return{x:d,y:f,box:a}}(n,t),I=a.left+(v&&d.left),D=a.top+(v&&d.top);let{width:A,height:P}=e;return s&&(A-=a.width+d.width,P-=a.height+d.height),{x:Math.round((f-I)/A*t.width/i),y:Math.round((g-D)/P*t.height/i)}}const Hx=n=>Math.round(10*n)/10;function $3(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const eZ=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function U3(n,e){const t=function YK(n,e){return Ux(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jm(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function tZ(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function nZ(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=Jm(n,r,t),d=Jm(r,s,t),f=Jm(s,e,t),g=Jm(a,d,t),v=Jm(d,f,t);return Jm(g,v,t)}function Wv(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function H3(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function z3(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function j3(n){return"angle"===n?{between:dC,compare:sK,normalize:Va}:{between:ih,compare:(e,t)=>e-t,normalize:e=>e}}function G3({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function W3(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,a=e.length,{compare:d,between:f,normalize:g}=j3(i),{start:v,end:I,loop:D,style:A}=function sZ(n,e,t){const{property:i,start:r,end:s}=t,{between:a,normalize:d}=j3(i),f=e.length;let D,A,{start:g,end:v,loop:I}=n;if(I){for(g+=f,v+=f,D=0,A=f;D<A&&a(d(e[g%f][i]),r,s);++D)g--,v--;g%=f,v%=f}return v<g&&(v+=f),{start:g,end:v,loop:I,style:n.style}}(n,e,t),P=[];let ae,Ie,He,V=!1,$=null;for(let Ft=v,mn=v;Ft<=I;++Ft)Ie=e[Ft%a],!Ie.skip&&(ae=g(Ie[i]),ae!==He&&(V=f(ae,r,s),null===$&&(V||f(r,He,ae)&&0!==d(r,He))&&($=0===d(ae,r)?Ft:mn),null!==$&&(!V||0===d(s,ae)||f(s,He,ae))&&(P.push(G3({start:$,end:Ft,loop:D,count:a,style:A})),$=null),mn=Ft,He=ae));return null!==$&&P.push(G3({start:$,end:I,loop:D,count:a,style:A})),P}function q3(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=W3(i[r],n.points,e);s.length&&t.push(...s)}return t}function K3(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function uZ(n,e){if(!e)return!1;const t=[],i=function(r,s){return JR(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}class dZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.duration;t.listeners[r].forEach(d=>d({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=v3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let f,a=s.length-1,d=!1;for(;a>=0;--a)f=s[a],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),d=!0):(s[a]=s[s.length-1],s.pop());d&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var oh=new dZ;const Z3="transparent",hZ={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=T3(n||Z3),r=i.valid&&T3(e||Z3);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class fZ{constructor(e,t,i,r){const s=t[i];r=mC([e.to,r,s,e.from]);const a=mC([e.from,s,r]);this._active=!0,this._fn=e.fn||hZ[e.type||typeof a],this._easing=hC[e.easing]||hC.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mC([e.to,t,r,e.from]),this._from=mC([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,d=this._to;let f;if(this._active=s!==d&&(a||t<i),!this._active)return this._target[r]=d,void this._notify(!0);t<0?this._target[r]=s:(f=t/i%2,f=a&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(s,d,f))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Q3{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!mi(e))return;const t=Object.keys(qr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!mi(s))return;const a={};for(const d of t)a[d]=s[d];(_r(s.properties)&&s.properties||[r]).forEach(d=>{(d===r||!i.has(d))&&i.set(d,a)})})}_animateOptions(e,t){const i=t.options,r=function gZ(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function pZ(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),d=Date.now();let f;for(f=a.length-1;f>=0;--f){const g=a[f];if("$"===g.charAt(0))continue;if("options"===g){r.push(...this._animateOptions(e,t));continue}const v=t[g];let I=s[g];const D=i.get(g);if(I){if(D&&I.active()){I.update(D,v,d);continue}I.cancel()}D&&D.duration?(s[g]=I=new fZ(D,e,g,v),r.push(I)):e[g]=v}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(oh.add(this._chart,i),!0):void 0}}function X3(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function J3(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function eU(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let a,d,f,g;if(null!==e){for(a=0,d=r.length;a<d;++a){if(f=+r[a],f===t){if(i.all)continue;break}g=n.values[f],Wr(g)&&(s||0===e||Pu(e)===Pu(g))&&(e+=g)}return e}}function tU(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function wZ(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function nU(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function iU(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:d}=i,f=s.axis,g=a.axis,v=function vZ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,a,i),I=e.length;let D;for(let A=0;A<I;++A){const P=e[A],{[f]:V,[g]:$}=P;D=(P._stacks||(P._stacks={}))[g]=wZ(r,v,V),D[d]=$,D._top=nU(D,a,!0,i.type),D._bottom=nU(D,a,!1,i.type),(D._visualValues||(D._visualValues={}))[d]=$}}function cN(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function yC(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const uN=n=>"reset"===n||"none"===n,rU=(n,e)=>e?n:Object.assign({},n);class uc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=tU(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yC(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(I,D,A,P)=>"x"===I?D:"r"===I?P:A,s=t.xAxisID=ti(i.xAxisID,cN(e,"x")),a=t.yAxisID=ti(i.yAxisID,cN(e,"y")),d=t.rAxisID=ti(i.rAxisID,cN(e,"r")),f=t.indexAxis,g=t.iAxisID=r(f,s,a,d),v=t.vAxisID=r(f,a,s,d);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(d),t.iScale=this.getScaleForId(g),t.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&y3(this._data,this),e._stacked&&yC(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(mi(t))this._data=function _Z(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(t);else if(i!==t){if(i){y3(i,this);const r=this._cachedMeta;yC(r),r._parsed=[]}t&&Object.isExtensible(t)&&function cK(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),m3.forEach(t=>{const i="_onData"+YR(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...s)}),a}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=tU(t.vScale,t),t.stack!==i.stack&&(r=!0,yC(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&iU(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,d=s.axis;let v,I,D,f=0===e&&t===r.length||i._sorted,g=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,D=r;else{D=_r(r[e])?this.parseArrayData(i,r,e,t):mi(r[e])?this.parseObjectData(i,r,e,t):this.parsePrimitiveData(i,r,e,t);const A=()=>null===I[d]||g&&I[d]<g[d];for(v=0;v<t;++v)i._parsed[v+e]=I=D[v],f&&(A()&&(f=!1),g=I);i._sorted=f}a&&iU(this,D)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:a}=e,d=s.axis,f=a.axis,g=s.getLabels(),v=s===a,I=new Array(r);let D,A,P;for(D=0,A=r;D<A;++D)P=D+i,I[D]={[d]:v||s.parse(g[P],P),[f]:a.parse(t[P],P)};return I}parseArrayData(e,t,i,r){const{xScale:s,yScale:a}=e,d=new Array(r);let f,g,v,I;for(f=0,g=r;f<g;++f)v=f+i,I=t[v],d[f]={x:s.parse(I[0],v),y:a.parse(I[1],v)};return d}parseObjectData(e,t,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let v,I,D,A;for(v=0,I=r;v<I;++v)D=v+i,A=t[D],g[v]={x:s.parse(mp(A,d),D),y:a.parse(mp(A,f),D)};return g}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this._cachedMeta,a=t[e.axis];return eU({keys:J3(this.chart,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let a=null===s?NaN:s;const d=r&&i._stacks[t.axis];r&&d&&(r.values=d,a=eU(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,d=this._getOtherScale(e),f=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:J3(this.chart,!0),values:null})(t,i),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:I}=function bZ(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(d);let D,A;function P(){A=r[D];const V=A[d.axis];return!Wr(A[e.axis])||v>V||I<V}for(D=0;D<a&&(P()||(this.updateRangeFromParsed(g,e,A,f),!s));++D);if(s)for(D=a-1;D>=0;--D)if(!P()){this.updateRangeFromParsed(g,e,A,f);break}return g}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],Wr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function yZ(n){let e,t,i,r;return mi(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(ti(this.options.clip,function mZ(n,e,t){if(!1===t)return!1;const i=X3(n,t),r=X3(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],d=this._drawStart||0,f=this._drawCount||r.length-d,g=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(e,s,d,f),v=d;v<d+f;++v){const I=r[v];I.hidden||(I.active&&g?a.push(I):I.draw(e,s))}for(v=0;v<a.length;++v)a[v].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function CZ(n,e,t){return vp(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function IZ(n,e){return vp(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r="active"===t,s=this._cachedDataOpts,a=e+"-"+t,d=s[a],f=this.enableOptionSharing&&cC(i);if(d)return rU(d,f);const g=this.chart.config,v=g.datasetElementScopeKeys(this._type,e),I=r?[`${e}Hover`,"hover",e,""]:[e,""],D=g.getOptionScopes(this.getDataset(),v),A=Object.keys(qr.elements[e]),V=g.resolveNamedOptions(D,A,()=>this.getContext(i,r,t),I);return V.$shared&&(V.$shared=f,s[a]=Object.freeze(rU(V,f))),V}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,d=s[a];if(d)return d;let f;if(!1!==r.options.animation){const v=this.chart.config,I=v.datasetAnimationScopeKeys(this._type,t),D=v.getOptionScopes(this.getDataset(),I);f=v.createResolver(D,this.getContext(e,i,t))}const g=new Q3(r,f&&f.animations);return f&&f._cacheable&&(s[a]=Object.freeze(g)),g}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||uN(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,r){uN(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!uN(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[d,f,g]of this._syncList)this[d](f,g);this._syncList=[];const r=i.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,a=e+t;let d;const f=g=>{for(g.length+=t,d=g.length-1;d>=a;d--)g[d]=g[d-t]};for(f(s),d=e;d<a;++d)s[d]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&yC(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function SZ(n){const e=n.iScale,t=function TZ(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=_3(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,a,d,i=e._length;const f=()=>{32767===a||-32768===a||(cC(d)&&(i=Math.min(i,Math.abs(a-d)||i)),d=a)};for(r=0,s=t.length;r<s;++r)a=e.getPixelForValue(t[r]),f();for(d=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),f();return i}function sU(n,e,t,i){return _r(n)?function AZ(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),a=Math.min(r,s),d=Math.max(r,s);let f=a,g=d;Math.abs(a)>Math.abs(d)&&(f=d,g=a),e[t.axis]=g,e._custom={barStart:f,barEnd:g,start:r,end:s,min:a,max:d}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function oU(n,e,t,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),d=r===s,f=[];let g,v,I,D;for(g=t,v=t+i;g<v;++g)D=e[g],I={},I[r.axis]=d||r.parse(a[g],g),f.push(sU(D,I,s,g));return f}function dN(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function kZ(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:d,reverse:f,top:g,bottom:v}=function OZ(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=g:(t._bottom||0)===i?r=v:(s[aU(v,a,d,f)]=!0,r=g)),s[aU(r,a,d,f)]=!0,n.borderSkipped=s}function aU(n,e,t,i){return i?(n=function PZ(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=lU(n,t,e)):n=lU(n,e,t),n}function lU(n,e,t){return"start"===n?e:"end"===n?t:n}function RZ(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}Zt(uc,"defaults",{}),Zt(uc,"datasetElementType",null),Zt(uc,"dataElementType",null);class zx extends uc{parsePrimitiveData(e,t,i,r){return oU(e,t,i,r)}parseArrayData(e,t,i,r){return oU(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:a}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g="x"===s.axis?d:f,v="x"===a.axis?d:f,I=[];let D,A,P,V;for(D=i,A=i+r;D<A;++D)V=t[D],P={},P[s.axis]=s.parse(mp(V,g),D),I.push(sU(mp(V,v),P,a,D));return I}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),a=s._custom,d=dN(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),g=d.isHorizontal(),v=this._getRuler(),{sharedOptions:I,includeOptions:D}=this._getSharedOptions(t,r);for(let A=t;A<t+i;A++){const P=this.getParsed(A),V=s||Ti(P[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(A),$=this._calculateBarIndexPixels(A,v),ae=(P._stacks||{})[d.axis],Ie={horizontal:g,base:V.base,enableBorderRadius:!ae||dN(P._custom)||a===ae._top||a===ae._bottom,x:g?V.head:$.center,y:g?$.center:V.head,height:g?$.size:Math.abs(V.size),width:g?Math.abs(V.size):$.size};D&&(Ie.options=I||this.resolveDataElementOptions(A,e[A].active?"active":r));const He=Ie.options||e[A].options;kZ(Ie,He,ae,a),RZ(Ie,He,v.ratio),this.updateElement(e[A],A,Ie,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=i.options.stacked,a=[],d=f=>{const g=f.controller.getParsed(t),v=g&&g[f.vScale.axis];if(Ti(v)||isNaN(v))return!0};for(const f of r)if((void 0===t||!d(f))&&((!1===s||-1===a.indexOf(f.stack)||void 0===s&&void 0===f.stack)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,a;for(s=0,a=t.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const d=e.barThickness;return{min:d||SZ(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,d=s||0,f=this.getParsed(e),g=f._custom,v=dN(g);let P,V,I=f[t.axis],D=0,A=i?this.applyStack(t,f,i):I;A!==I&&(D=A-I,A=I),v&&(I=g.barStart,A=g.barEnd-g.barStart,0!==I&&Pu(I)!==Pu(g.barEnd)&&(D=0),D+=I);const $=Ti(s)||v?D:s;let ae=t.getPixelForValue($);if(P=this.chart.getDataVisibility(e)?t.getPixelForValue(D+A):ae,V=P-ae,Math.abs(V)<a){V=function MZ(n,e,t){return 0!==n?Pu(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(V,t,d)*a,I===d&&(ae-=V/2);const Ie=t.getPixelForDecimal(0),He=t.getPixelForDecimal(1),je=Math.min(Ie,He),Ze=Math.max(Ie,He);ae=Math.max(Math.min(ae,Ze),je),P=ae+V,i&&!v&&(f._stacks[t.axis]._visualValues[r]=t.getValueForPixel(P)-t.getValueForPixel(ae))}if(ae===t.getPixelForValue(d)){const Ie=Pu(V)*t.getLineWidthForValue(d)/2;ae+=Ie,V-=Ie}return{size:V,base:ae,head:P,center:P+V/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,a=ti(r.maxBarThickness,1/0);let d,f;if(t.grouped){const g=s?this._getStackCount(e):t.stackCount,v="flex"===r.barThickness?function xZ(n,e,t,i){const r=e.pixels,s=r[n];let a=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const f=t.categoryPercentage;null===a&&(a=s-(null===d?e.end-e.start:d-s)),null===d&&(d=s+s-a);const g=s-(s-Math.min(a,d))/2*f;return{chunk:Math.abs(d-a)/2*f/i,ratio:t.barPercentage,start:g}}(e,t,r,g):function DZ(n,e,t,i){const r=t.barThickness;let s,a;return Ti(r)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[n]-s/2}}(e,t,r,g),I=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);d=v.start+v.chunk*I+v.chunk/2,f=Math.min(a,v.chunk*v.ratio)}else d=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(a,t.min*t.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[t.axis]&&i[s].draw(this._ctx)}}Zt(zx,"id","bar"),Zt(zx,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Zt(zx,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class jx extends uc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const s=super.parsePrimitiveData(e,t,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,t,i,r){const s=super.parseArrayData(e,t,i,r);for(let a=0;a<s.length;a++)s[a]._custom=ti(t[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(e,t,i,r){const s=super.parseObjectData(e,t,i,r);for(let a=0;a<s.length;a++){const d=t[i+a];s[a]._custom=ti(d&&d.r&&+d.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),d=r.getLabelForValue(a.x),f=s.getLabelForValue(a.y),g=a._custom;return{label:i[e]||"",value:"("+d+", "+f+(g?", "+g:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const s="reset"===r,{iScale:a,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(t,r),v=a.axis,I=d.axis;for(let D=t;D<t+i;D++){const A=e[D],P=!s&&this.getParsed(D),V={},$=V[v]=s?a.getPixelForDecimal(.5):a.getPixelForValue(P[v]),ae=V[I]=s?d.getBasePixel():d.getPixelForValue(P[I]);V.skip=isNaN($)||isNaN(ae),g&&(V.options=f||this.resolveDataElementOptions(D,A.active?"active":r),s&&(V.options.radius=0)),this.updateElement(A,D,V,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==t&&(r.radius=0),r.radius+=ti(i&&i._custom,s),r}}Zt(jx,"id","bubble"),Zt(jx,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Zt(jx,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class ey extends uc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,d,s=f=>+i[f];if(mi(i[e])){const{key:f="value"}=this._parsing;s=g=>+mp(i[g],f)}for(a=e,d=e+t;a<d;++a)r._parsed[a]=s(a)}}_getRotation(){return cc(this.options.rotation-90)}_getCircumference(){return cc(this.options.circumference)}_getRotationExtents(){let e=br,t=-br;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-a)/2,0),f=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:v,rotation:I}=this._getRotationExtents(),{ratioX:D,ratioY:A,offsetX:P,offsetY:V}=function NZ(n,e,t){let i=1,r=1,s=0,a=0;if(e<br){const d=n,f=d+e,g=Math.cos(d),v=Math.sin(d),I=Math.cos(f),D=Math.sin(f),A=(He,je,Ze)=>dC(He,d,f,!0)?1:Math.max(je,je*t,Ze,Ze*t),P=(He,je,Ze)=>dC(He,d,f,!0)?-1:Math.min(je,je*t,Ze,Ze*t),V=A(0,g,I),$=A(ts,v,D),ae=P(vr,g,I),Ie=P(vr+ts,v,D);i=(V-ae)/2,r=($-Ie)/2,s=-(V+ae)/2,a=-($+Ie)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(I,v,f),Ie=Math.max(Math.min((i.width-a)/D,(i.height-a)/A)/2,0),He=a3(this.options.radius,Ie),Ze=(He-Math.max(He*f,0))/this._getVisibleDatasetWeightTotal();this.offsetX=P*He,this.offsetY=V*He,r.total=this.calculateTotal(),this.outerRadius=He-Ze*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ze*g,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/br)}updateElements(e,t,i,r){const s="reset"===r,a=this.chart,d=a.chartArea,v=(d.left+d.right)/2,I=(d.top+d.bottom)/2,D=s&&a.options.animation.animateScale,A=D?0:this.innerRadius,P=D?0:this.outerRadius,{sharedOptions:V,includeOptions:$}=this._getSharedOptions(t,r);let Ie,ae=this._getRotation();for(Ie=0;Ie<t;++Ie)ae+=this._circumference(Ie,s);for(Ie=t;Ie<t+i;++Ie){const He=this._circumference(Ie,s),je=e[Ie],Ze={x:v+this.offsetX,y:I+this.offsetY,startAngle:ae,endAngle:ae+He,circumference:He,outerRadius:P,innerRadius:A};$&&(Ze.options=V||this.resolveDataElementOptions(Ie,je.active?"active":r)),ae+=He,this.updateElement(je,Ie,Ze,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,i=0;for(r=0;r<t.length;r++){const s=e._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?br*(Math.abs(e)/t):0}getLabelAndValue(e){const i=this.chart,r=i.data.labels||[],s=fC(this._cachedMeta._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,a,d,f;if(!e)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,d=a.controller;break}if(!e)return 0;for(r=0,s=e.length;r<s;++r)f=d.resolveDataElementOptions(r),"inner"!==f.borderAlign&&(t=Math.max(t,f.borderWidth||0,f.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ti(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Zt(ey,"id","doughnut"),Zt(ey,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Zt(ey,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Zt(ey,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,a)=>{const f=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Gx extends uc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:d,count:f}=w3(t,r,a);this._drawStart=d,this._drawCount=f,I3(t)&&(d=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:g},e),this.updateElements(r,d,f,e)}updateElements(e,t,i,r){const s="reset"===r,{iScale:a,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:v,includeOptions:I}=this._getSharedOptions(t,r),D=a.axis,A=d.axis,{spanGaps:P,segment:V}=this.options,$=zv(P)?P:Number.POSITIVE_INFINITY,ae=this.chart._animationsDisabled||s||"none"===r,Ie=t+i,He=e.length;let je=t>0&&this.getParsed(t-1);for(let Ze=0;Ze<He;++Ze){const pt=e[Ze],Dt=ae?pt:{};if(Ze<t||Ze>=Ie){Dt.skip=!0;continue}const Ft=this.getParsed(Ze),mn=Ti(Ft[A]),Bn=Dt[D]=a.getPixelForValue(Ft[D],Ze),ni=Dt[A]=s||mn?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,Ft,f):Ft[A],Ze);Dt.skip=isNaN(Bn)||isNaN(ni)||mn,Dt.stop=Ze>0&&Math.abs(Ft[D]-je[D])>$,V&&(Dt.parsed=Ft,Dt.raw=g.data[Ze]),I&&(Dt.options=v||this.resolveDataElementOptions(Ze,pt.active?"active":r)),ae||this.updateElement(pt,Ze,Dt,r),je=Ft}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Zt(Gx,"id","line"),Zt(Gx,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Zt(Gx,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _C extends uc{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this.chart,r=i.data.labels||[],s=fC(this._cachedMeta._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,i,r){return F3.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),d=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,t,i,r){const s="reset"===r,a=this.chart,f=a.options.animation,g=this._cachedMeta.rScale,v=g.xCenter,I=g.yCenter,D=g.getIndexAngle(0)-.5*vr;let P,A=D;const V=360/this.countVisibleElements();for(P=0;P<t;++P)A+=this._computeAngle(P,r,V);for(P=t;P<t+i;P++){const $=e[P];let ae=A,Ie=A+this._computeAngle(P,r,V),He=a.getDataVisibility(P)?g.getDistanceFromCenterForValue(this.getParsed(P).r):0;A=Ie,s&&(f.animateScale&&(He=0),f.animateRotate&&(ae=Ie=D));const je={x:v,y:I,innerRadius:0,outerRadius:He,startAngle:ae,endAngle:Ie,options:this.resolveDataElementOptions(P,$.active?"active":r)};this.updateElement($,P,je,r)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?cc(this.resolveDataElementOptions(e,t).angle||i):0}}Zt(_C,"id","polarArea"),Zt(_C,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Zt(_C,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,a)=>{const f=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class hN extends ey{}Zt(hN,"id","pie"),Zt(hN,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wx extends uc{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return F3.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let d=t;d<t+i;d++){const f=e[d],g=this.resolveDataElementOptions(d,f.active?"active":r),v=s.getPointPositionForValue(d,this.getParsed(d).r),I=a?s.xCenter:v.x,D=a?s.yCenter:v.y,A={x:I,y:D,angle:v.angle,skip:isNaN(I)||isNaN(D),options:g};this.updateElement(f,d,A,r)}}}Zt(Wx,"id","radar"),Zt(Wx,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Zt(Wx,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class qx extends uc{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),d=r.getLabelForValue(a.x),f=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+d+", "+f+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:a}=w3(t,i,r);if(this._drawStart=s,this._drawCount=a,I3(t)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:f}=t;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=i;const g=this.resolveDatasetElementOptions(e);g.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:g},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const s="reset"===r,{iScale:a,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,v=this.resolveDataElementOptions(t,r),I=this.getSharedOptions(v),D=this.includeOptions(r,I),A=a.axis,P=d.axis,{spanGaps:V,segment:$}=this.options,ae=zv(V)?V:Number.POSITIVE_INFINITY,Ie=this.chart._animationsDisabled||s||"none"===r;let He=t>0&&this.getParsed(t-1);for(let je=t;je<t+i;++je){const Ze=e[je],pt=this.getParsed(je),Dt=Ie?Ze:{},Ft=Ti(pt[P]),mn=Dt[A]=a.getPixelForValue(pt[A],je),Bn=Dt[P]=s||Ft?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,pt,f):pt[P],je);Dt.skip=isNaN(mn)||isNaN(Bn)||Ft,Dt.stop=je>0&&Math.abs(pt[A]-He[A])>ae,$&&(Dt.parsed=pt,Dt.raw=g.data[je]),D&&(Dt.options=I||this.resolveDataElementOptions(je,Ze.active?"active":r)),Ie||this.updateElement(Ze,je,Dt,r),He=pt}this.updateSharedOptions(I,r,v)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let d=0;for(let f=t.length-1;f>=0;--f)d=Math.max(d,t[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}Zt(qx,"id","scatter"),Zt(qx,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Zt(qx,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var LZ=Object.freeze({__proto__:null,BarController:zx,BubbleController:jx,DoughnutController:ey,LineController:Gx,PieController:hN,PolarAreaController:_C,RadarController:Wx,ScatterController:qx});function ty(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fN{constructor(e){Zt(this,"options"),this.options=e||{}}static override(e){Object.assign(fN.prototype,e)}init(){}formats(){return ty()}parse(){return ty()}format(){return ty()}add(){return ty()}diff(){return ty()}startOf(){return ty()}endOf(){return ty()}}var FZ__date=fN;function BZ(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,d=r._cachedMeta.iScale;if(d&&e===d.axis&&"r"!==e&&a&&s.length){const f=d._reversePixels?aK:rh;if(!i)return f(s,e,t);if(r._sharedOptions){const g=s[0],v="function"==typeof g.getRange&&g.getRange(e);if(v){const I=f(s,e,t-v),D=f(s,e,t+v);return{lo:I.lo,hi:D.hi}}}}return{lo:0,hi:s.length-1}}function vC(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let d=0,f=s.length;d<f;++d){const{index:g,data:v}=s[d],{lo:I,hi:D}=BZ(s[d],e,a,r);for(let A=I;A<=D;++A){const P=v[A];P.skip||i(P,g,A)}}}function pN(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||vC(n,t,e,function(d,f,g){!r&&!sh(d,n.chartArea,0)||d.inRange(e.x,e.y,i)&&s.push({element:d,datasetIndex:f,index:g})},!0),s}function gN(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function UZ(n,e,t,i,r,s){let a=[];const d=function VZ(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(t);let f=Number.POSITIVE_INFINITY;return vC(n,t,e,function g(v,I,D){const A=v.inRange(e.x,e.y,r);if(i&&!A)return;const P=v.getCenterPoint(r);if(!s&&!n.isPointInArea(P)&&!A)return;const $=d(e,P);$<f?(a=[{element:v,datasetIndex:I,index:D}],f=$):$===f&&a.push({element:v,datasetIndex:I,index:D})}),a}(n,e,t,i,r,s):function $Z(n,e,t,i){let r=[];return vC(n,t,e,function s(a,d,f){const{startAngle:g,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:I}=g3(a,{x:e.x,y:e.y});dC(I,g,v)&&r.push({element:a,datasetIndex:d,index:f})}),r}(n,e,t,r):[]}function cU(n,e,t,i,r){const s=[],a="x"===t?"inXRange":"inYRange";let d=!1;return vC(n,t,e,(f,g,v)=>{f[a](e[t],r)&&(s.push({element:f,datasetIndex:g,index:v}),d=d||f.inRange(e.x,e.y,r))}),i&&!d?[]:s}var HZ={evaluateInteractionItems:vC,modes:{index(n,e,t,i){const r=Xm(e,n),s=t.axis||"x",a=t.includeInvisible||!1,d=t.intersect?pN(n,r,s,i,a):gN(n,r,s,!1,i,a),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const v=d[0].index,I=g.data[v];I&&!I.skip&&f.push({element:I,datasetIndex:g.index,index:v})}),f):[]},dataset(n,e,t,i){const r=Xm(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let d=t.intersect?pN(n,r,s,i,a):gN(n,r,s,!1,i,a);if(d.length>0){const f=d[0].datasetIndex,g=n.getDatasetMeta(f).data;d=[];for(let v=0;v<g.length;++v)d.push({element:g[v],datasetIndex:f,index:v})}return d},point:(n,e,t,i)=>pN(n,Xm(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>gN(n,Xm(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>cU(n,Xm(e,n),"x",t.intersect,i),y:(n,e,t,i)=>cU(n,Xm(e,n),"y",t.intersect,i)}};const uU=["left","top","right","bottom"];function bC(n,e){return n.filter(t=>t.pos===e)}function dU(n,e){return n.filter(t=>-1===uU.indexOf(t.pos)&&t.box.axis===e)}function wC(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function hU(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function fU(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function qZ(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!mi(r)){t.size&&(n[r]-=t.size);const I=i[t.stack]||{size:0,count:1};I.size=Math.max(I.size,t.horizontal?s.height:s.width),t.size=I.size/I.count,n[r]+=t.size}s.getPadding&&fU(a,s.getPadding());const d=Math.max(0,e.outerWidth-hU(a,n,"left","right")),f=Math.max(0,e.outerHeight-hU(a,n,"top","bottom")),g=d!==n.w,v=f!==n.h;return n.w=d,n.h=f,t.horizontal?{same:g,other:v}:{same:v,other:g}}function KZ(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}(n?["left","right"]:["top","bottom"])}function IC(n,e,t,i){const r=[];let s,a,d,f,g,v;for(s=0,a=n.length,g=0;s<a;++s){d=n[s],f=d.box,f.update(d.width||e.w,d.height||e.h,KZ(d.horizontal,e));const{same:I,other:D}=qZ(e,t,d,i);g|=I&&r.length,v=v||D,f.fullSize||r.push(d)}return g&&IC(r,e,t,i)||v}function Yx(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function pU(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const d of n){const f=d.box,g=i[d.stack]||{count:1,placed:0,weight:1},v=d.stackWeight/g.weight||1;if(d.horizontal){const I=e.w*v,D=g.size||f.height;cC(g.start)&&(a=g.start),f.fullSize?Yx(f,r.left,a,t.outerWidth-r.right-r.left,D):Yx(f,e.left+g.placed,a,I,D),g.start=a,g.placed+=I,a=f.bottom}else{const I=e.h*v,D=g.size||f.width;cC(g.start)&&(s=g.start),f.fullSize?Yx(f,s,r.top,D,t.outerHeight-r.bottom-r.top):Yx(f,s,e.top+g.placed,D,I),g.start=s,g.placed+=I,s=f.right}}e.x=s,e.y=a}var fo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=ho(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),d=function WZ(n){const e=function zZ(n){const e=[];let t,i,r,s,a,d;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:a,stackWeight:d=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:d});return e}(n),t=wC(e.filter(g=>g.box.fullSize),!0),i=wC(bC(e,"left"),!0),r=wC(bC(e,"right")),s=wC(bC(e,"top"),!0),a=wC(bC(e,"bottom")),d=dU(e,"x"),f=dU(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(f).concat(a).concat(d),chartArea:bC(e,"chartArea"),vertical:i.concat(r).concat(f),horizontal:s.concat(a).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;Ui(n.boxes,V=>{"function"==typeof V.beforeLayout&&V.beforeLayout()});const v=f.reduce((V,$)=>$.box.options&&!1===$.box.options.display?V:V+1,0)||1,I=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),D=Object.assign({},r);fU(D,ho(i));const A=Object.assign({maxPadding:D,w:s,h:a,x:r.left,y:r.top},r),P=function GZ(n,e){const t=function jZ(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!uU.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,d;for(s=0,a=n.length;s<a;++s){d=n[s];const{fullSize:f}=d.box,g=t[d.stack],v=g&&d.stackWeight/g.weight;d.horizontal?(d.width=v?v*i:f&&e.availableWidth,d.height=r):(d.width=i,d.height=v?v*r:f&&e.availableHeight)}return t}(f.concat(g),I);IC(d.fullSize,A,I,P),IC(f,A,I,P),IC(g,A,I,P)&&IC(f,A,I,P),function YZ(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(A),pU(d.leftAndTop,A,I,P),A.x+=A.w,A.y+=A.h,pU(d.rightAndBottom,A,I,P),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Ui(d.chartArea,V=>{const $=V.box;Object.assign($,n.chartArea),$.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class gU{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class ZZ extends gU{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kx="$chartjs",QZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mU=n=>null===n||""===n,yU=!!eZ&&{passive:!0};function eQ(n,e,t){n.canvas.removeEventListener(e,t,yU)}function Zx(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function nQ(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const d of s)a=a||Zx(d.addedNodes,i),a=a&&!Zx(d.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function iQ(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const d of s)a=a||Zx(d.removedNodes,i),a=a&&!Zx(d.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const CC=new Map;let _U=0;function vU(){const n=window.devicePixelRatio;n!==_U&&(_U=n,CC.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function oQ(n,e,t){const i=n.canvas,r=i&&lN(i);if(!r)return;const s=b3((d,f)=>{const g=r.clientWidth;t(d,f),g<r.clientWidth&&t()},window),a=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,v=f.contentRect.height;0===g&&0===v||s(g,v)});return a.observe(r),function rQ(n,e){CC.size||window.addEventListener("resize",vU),CC.set(n,e)}(n,s),a}function mN(n,e,t){t&&t.disconnect(),"resize"===e&&function sQ(n){CC.delete(n),CC.size||window.removeEventListener("resize",vU)}(n)}function aQ(n,e,t){const i=n.canvas,r=b3(s=>{null!==n.ctx&&t(function tQ(n,e){const t=QZ[n.type]||n.type,{x:i,y:r}=Xm(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function JZ(n,e,t){n.addEventListener(e,t,yU)}(i,e,r),r}class lQ extends gU{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function XZ(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Kx]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",mU(r)){const s=U3(n,"width");void 0!==s&&(n.width=s)}if(mU(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=U3(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Kx])return!1;const i=t[Kx].initial;["height","width"].forEach(s=>{const a=i[s];Ti(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Kx],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:nQ,detach:iQ,resize:oQ}[t]||aQ)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:mN,detach:mN,resize:mN}[t]||eQ)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function JK(n,e,t,i){const r=Ux(n),s=Qm(r,"margin"),a=$x(r.maxWidth,n,"clientWidth")||Px,d=$x(r.maxHeight,n,"clientHeight")||Px,f=function XK(n,e,t){let i,r;if(void 0===e||void 0===t){const s=lN(n);if(s){const a=s.getBoundingClientRect(),d=Ux(s),f=Qm(d,"border","width"),g=Qm(d,"padding");e=a.width-g.width-f.width,t=a.height-g.height-f.height,i=$x(d.maxWidth,s,"clientWidth"),r=$x(d.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||Px,maxHeight:r||Px}}(n,e,t);let{width:g,height:v}=f;if("content-box"===r.boxSizing){const D=Qm(r,"border","width"),A=Qm(r,"padding");g-=A.width+D.width,v-=A.height+D.height}return g=Math.max(0,g-s.width),v=Math.max(0,i?g/i:v-s.height),g=Hx(Math.min(g,a,f.maxWidth)),v=Hx(Math.min(v,d,f.maxHeight)),g&&!v&&(v=Hx(g/2)),(void 0!==e||void 0!==t)&&i&&f.height&&v>f.height&&(v=f.height,g=Hx(Math.floor(v*i))),{width:g,height:v}}(e,t,i,r)}isAttached(e){const t=lN(e);return!(!t||!t.isConnected)}}class dc{constructor(){Zt(this,"x"),Zt(this,"y"),Zt(this,"active",!1),Zt(this,"options"),Zt(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return zv(this.x)&&zv(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function Qx(n,e,t,i,r){const s=ti(i,0),a=Math.min(ti(r,n.length),n.length);let f,g,v,d=0;for(t=Math.ceil(t),r&&(f=r-i,t=f/Math.floor(f/t)),v=s;v<0;)d++,v=Math.round(s+d*t);for(g=Math.max(s,0);g<a;g++)g===v&&(e.push(n[g]),d++,v=Math.round(s+d*t))}Zt(dc,"defaults",{}),Zt(dc,"defaultRoutes");const bU=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,wU=(n,e)=>Math.min(e||n,n);function IU(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function yQ(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(r);if(!(t&&(g=1===i?Math.max(f-s,a-f):0===e?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<e?g:-g,f<s-d||f>a+d)))return f}function EC(n){return n.drawTicks?n.tickLength:0}function CU(n,e){if(!n.display)return 0;const t=Ss(n.font,e),i=ho(n.padding);return(_r(n.text)?n.text.length:1)*t.lineHeight+i.height}function wQ(n,e,t){let i=XR(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class ny extends dc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Ba(e,Number.POSITIVE_INFINITY),t=Ba(t,Number.NEGATIVE_INFINITY),i=Ba(i,Number.POSITIVE_INFINITY),r=Ba(r,Number.NEGATIVE_INFINITY),{min:Ba(e,i),max:Ba(t,r),minDefined:Wr(e),maxDefined:Wr(t)}}getMinMax(e){let a,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)a=d[f].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Ba(t,Ba(i,t)),max:Ba(i,Ba(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ur(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,d=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function OK(n,e,t){const{min:i,max:r}=n,s=a3(e,(r-i)/2),a=(d,f)=>t&&0===d?0:d+f;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?IU(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function uQ(n,e){const t=n.options.ticks,i=function dQ(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function fQ(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],a=s.length,d=s[0],f=s[a-1],g=[];if(a>r)return function pQ(n,e,t,i){let a,r=0,s=t[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}(e,g,s,a/r),g;const v=function hQ(n,e,t){const i=function gQ(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function iK(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let a=0,d=s.length-1;a<d;a++){const f=s[a];if(f>r)return f}return Math.max(r,1)}(s,e,r);if(a>0){let I,D;const A=a>1?Math.round((f-d)/(a-1)):null;for(Qx(e,g,v,Ti(A)?0:d-A,d),I=0,D=a-1;I<D;I++)Qx(e,g,v,s[I],s[I+1]);return Qx(e,g,v,f,Ti(A)?e.length:f+A),g}return Qx(e,g,v),g}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ur(this.options.afterUpdate,[this])}beforeSetDimensions(){ur(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ur(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ur(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ur(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ur(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ur(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ur(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=wU(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let d,f,g,a=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),I=v.widest.width,D=v.highest.height,A=Us(this.chart.width-I,0,this.maxWidth);d=e.offset?this.maxWidth/i:A/(i-1),I+6>d&&(d=A/(i-(e.offset?.5:1)),f=this.maxHeight-EC(e.grid)-t.padding-CU(e.title,this.chart.options.font),g=Math.sqrt(I*I+D*D),a=KR(Math.min(Math.asin(Us((v.highest.height+6)/d,-1,1)),Math.asin(Us(f/g,-1,1))-Math.asin(Us(D/g,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ur(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ur(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),d=this.isHorizontal();if(a){const f=CU(r,t.options.font);if(d?(e.width=this.maxWidth,e.height=EC(s)+f):(e.height=this.maxHeight,e.width=EC(s)+f),i.display&&this.ticks.length){const{first:g,last:v,widest:I,highest:D}=this._getLabelSizes(),A=2*i.padding,P=cc(this.labelRotation),V=Math.cos(P),$=Math.sin(P);d?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:$*I.width+V*D.height)+A):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:V*I.width+$*D.height)+A),this._calculatePadding(g,v,$,V)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:d}=this.options,f=0!==this.labelRotation,g="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,I=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,A=0;f?g?(D=r*e.width,A=i*t.height):(D=i*e.height,A=r*t.width):"start"===s?A=t.width:"end"===s?D=e.width:"inner"!==s&&(D=e.width/2,A=t.width/2),this.paddingLeft=Math.max((D-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((A-I+a)*this.width/(this.width-I),0)}else{let v=t.height/2,I=e.height/2;"start"===s?(v=0,I=e.height):"end"===s&&(v=t.height,I=0),this.paddingTop=v+a,this.paddingBottom=I+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ur(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)Ti(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=IU(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,a=[],d=[],f=Math.floor(t/wU(t,i));let I,D,A,P,V,$,ae,Ie,He,je,Ze,g=0,v=0;for(I=0;I<t;I+=f){if(P=e[I].label,V=this._resolveTickFontOptions(I),r.font=$=V.string,ae=s[$]=s[$]||{data:{},gc:[]},Ie=V.lineHeight,He=je=0,Ti(P)||_r(P)){if(_r(P))for(D=0,A=P.length;D<A;++D)Ze=P[D],!Ti(Ze)&&!_r(Ze)&&(He=Lx(r,ae.data,ae.gc,He,Ze),je+=Ie)}else He=Lx(r,ae.data,ae.gc,He,P),je=Ie;a.push(He),d.push(je),g=Math.max(He,g),v=Math.max(je,v)}!function _Q(n,e){Ui(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(s,t);const pt=a.indexOf(g),Dt=d.indexOf(v),Ft=mn=>({width:a[mn]||0,height:d[mn]||0});return{first:Ft(0),last:Ft(t-1),widest:Ft(pt),highest:Ft(Dt),widths:a,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function oK(n){return Us(n,-32768,32767)}(this._alignToPixels?Ym(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function bQ(n,e,t){return vp(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function vQ(n,e){return vp(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=cc(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,d=s?s.widest.width+a:0,f=s?s.highest.height+a:0;return this.isHorizontal()?f*i>d*r?d/i:f/r:f*r<d*i?f/i:d/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:d}=r,f=s.offset,g=this.isHorizontal(),I=this.ticks.length+(f?1:0),D=EC(s),A=[],P=d.setContext(this.getContext()),V=P.display?P.width:0,$=V/2,ae=function(zt){return Ym(i,zt,V)};let Ie,He,je,Ze,pt,Dt,Ft,mn,Bn,ni,oi,wr;if("top"===a)Ie=ae(this.bottom),Dt=this.bottom-D,mn=Ie-$,ni=ae(e.top)+$,wr=e.bottom;else if("bottom"===a)Ie=ae(this.top),ni=e.top,wr=ae(e.bottom)-$,Dt=Ie+$,mn=this.top+D;else if("left"===a)Ie=ae(this.right),pt=this.right-D,Ft=Ie-$,Bn=ae(e.left)+$,oi=e.right;else if("right"===a)Ie=ae(this.left),Bn=e.left,oi=ae(e.right)-$,pt=Ie+$,Ft=this.left+D;else if("x"===t){if("center"===a)Ie=ae((e.top+e.bottom)/2+.5);else if(mi(a)){const zt=Object.keys(a)[0];Ie=ae(this.chart.scales[zt].getPixelForValue(a[zt]))}ni=e.top,wr=e.bottom,Dt=Ie+$,mn=Dt+D}else if("y"===t){if("center"===a)Ie=ae((e.left+e.right)/2);else if(mi(a)){const zt=Object.keys(a)[0];Ie=ae(this.chart.scales[zt].getPixelForValue(a[zt]))}pt=Ie-$,Ft=pt-D,Bn=e.left,oi=e.right}const po=ti(r.ticks.maxTicksLimit,I),Mi=Math.max(1,Math.ceil(I/po));for(He=0;He<I;He+=Mi){const zt=this.getContext(He),sn=s.setContext(zt),bn=d.setContext(zt),Nn=sn.lineWidth,Ir=sn.color,Vo=bn.dash||[],ds=bn.dashOffset,la=sn.tickWidth,Hi=sn.tickColor,Cp=sn.tickBorderDash||[],ry=sn.tickBorderDashOffset;je=yQ(this,He,f),void 0!==je&&(Ze=Ym(i,je,Nn),g?pt=Ft=Bn=oi=Ze:Dt=mn=ni=wr=Ze,A.push({tx1:pt,ty1:Dt,tx2:Ft,ty2:mn,x1:Bn,y1:ni,x2:oi,y2:wr,width:Nn,color:Ir,borderDash:Vo,borderDashOffset:ds,tickWidth:la,tickColor:Hi,tickBorderDash:Cp,tickBorderDashOffset:ry}))}return this._ticksLength=I,this._borderValue=Ie,A}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:v,mirror:I}=s,D=EC(i.grid),A=D+v,P=I?-v:A,V=-cc(this.labelRotation),$=[];let ae,Ie,He,je,Ze,pt,Dt,Ft,mn,Bn,ni,oi,wr="middle";if("top"===r)pt=this.bottom-P,Dt=this._getXAxisLabelAlignment();else if("bottom"===r)pt=this.top+P,Dt=this._getXAxisLabelAlignment();else if("left"===r){const Mi=this._getYAxisLabelAlignment(D);Dt=Mi.textAlign,Ze=Mi.x}else if("right"===r){const Mi=this._getYAxisLabelAlignment(D);Dt=Mi.textAlign,Ze=Mi.x}else if("x"===t){if("center"===r)pt=(e.top+e.bottom)/2+A;else if(mi(r)){const Mi=Object.keys(r)[0];pt=this.chart.scales[Mi].getPixelForValue(r[Mi])+A}Dt=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)Ze=(e.left+e.right)/2-A;else if(mi(r)){const Mi=Object.keys(r)[0];Ze=this.chart.scales[Mi].getPixelForValue(r[Mi])}Dt=this._getYAxisLabelAlignment(D).textAlign}"y"===t&&("start"===f?wr="top":"end"===f&&(wr="bottom"));const po=this._getLabelSizes();for(ae=0,Ie=d.length;ae<Ie;++ae){He=d[ae],je=He.label;const Mi=s.setContext(this.getContext(ae));Ft=this.getPixelForTick(ae)+s.labelOffset,mn=this._resolveTickFontOptions(ae),Bn=mn.lineHeight,ni=_r(je)?je.length:1;const zt=ni/2,sn=Mi.color,bn=Mi.textStrokeColor,Nn=Mi.textStrokeWidth;let Vo,Ir=Dt;if(a?(Ze=Ft,"inner"===Dt&&(Ir=ae===Ie-1?this.options.reverse?"left":"right":0===ae?this.options.reverse?"right":"left":"center"),oi="top"===r?"near"===g||0!==V?-ni*Bn+Bn/2:"center"===g?-po.highest.height/2-zt*Bn+Bn:Bn/2-po.highest.height:"near"===g||0!==V?Bn/2:"center"===g?po.highest.height/2-zt*Bn:po.highest.height-ni*Bn,I&&(oi*=-1),0!==V&&!Mi.showLabelBackdrop&&(Ze+=Bn/2*Math.sin(V))):(pt=Ft,oi=(1-ni)*Bn/2),Mi.showLabelBackdrop){const ds=ho(Mi.backdropPadding),la=po.heights[ae],Hi=po.widths[ae];let Cp=oi-ds.top,ry=0-ds.left;switch(wr){case"middle":Cp-=la/2;break;case"bottom":Cp-=la}switch(Dt){case"center":ry-=Hi/2;break;case"right":ry-=Hi}Vo={left:ry,top:Cp,width:Hi+ds.width,height:la+ds.height,color:Mi.backdropColor}}$.push({label:je,font:mn,textOffset:oi,options:{rotation:V,color:sn,strokeColor:bn,strokeWidth:Nn,textAlign:Ir,textBaseline:wr,translation:[Ze,pt],backdrop:Vo}})}return $}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-cc(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,d=e+s,f=this._getLabelSizes().widest.width;let g,v;return"left"===t?r?(v=this.right+s,"near"===i?g="left":"center"===i?(g="center",v+=f/2):(g="right",v+=f)):(v=this.right-d,"near"===i?g="right":"center"===i?(g="center",v-=f/2):(g="left",v=this.left)):"right"===t?r?(v=this.left+s,"near"===i?g="right":"center"===i?(g="center",v-=f/2):(g="left",v-=f)):(v=this.left+d,"near"===i?g="left":"center"===i?(g="center",v+=f/2):(g="right",v=this.right)):g="right",{textAlign:g,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const d=(f,g,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const f=r[s];t.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const d=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,v,I,D;this.isHorizontal()?(g=Ym(e,this.left,a)-a/2,v=Ym(e,this.right,d)+d/2,I=D=f):(I=Ym(e,this.top,a)-a/2,D=Ym(e,this.bottom,d)+d/2,g=v=f),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(g,I),t.lineTo(v,D),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Fx(i,r);const s=this.getLabelItems(e);for(const a of s)Km(i,a.label,0,a.textOffset,a.font,a.options);r&&Bx(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Ss(i.font),a=ho(i.padding),d=i.align;let f=s.lineHeight/2;"bottom"===t||"center"===t||mi(t)?(f+=a.bottom,_r(i.text)&&(f+=s.lineHeight*(i.text.length-1))):f+=a.top;const{titleX:g,titleY:v,maxWidth:I,rotation:D}=function IQ(n,e,t,i){const{top:r,left:s,bottom:a,right:d,chart:f}=n,{chartArea:g,scales:v}=f;let D,A,P,I=0;const V=a-r,$=d-s;if(n.isHorizontal()){if(A=uo(i,s,d),mi(t)){const ae=Object.keys(t)[0];P=v[ae].getPixelForValue(t[ae])+V-e}else P="center"===t?(g.bottom+g.top)/2+V-e:bU(n,t,e);D=d-s}else{if(mi(t)){const ae=Object.keys(t)[0];A=v[ae].getPixelForValue(t[ae])-$+e}else A="center"===t?(g.left+g.right)/2-$+e:bU(n,t,e);P=uo(i,a,r),I="left"===t?-ts:ts}return{titleX:A,titleY:P,maxWidth:D,rotation:I}}(this,f,t,d);Km(e,i.text,0,0,s,{color:i.color,maxWidth:I,rotation:D,textAlign:wQ(d,t,r),textBaseline:"middle",translation:[g,v]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ti(e.grid&&e.grid.z,-1),r=ti(e.border&&e.border.z,0);return this._isVisible()&&this.draw===ny.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const d=t[s];d[i]===this.id&&(!e||d.type===e)&&r.push(d)}return r}_resolveTickFontOptions(e){return Ss(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xx{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function TQ(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function CQ(n,e,t){const i=aC(Object.create(null),[t?qr.get(t):{},qr.get(e),n.defaults]);qr.set(e,i),n.defaultRoutes&&function EQ(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),d=a.pop(),f=a.join(".");qr.route(s,r,f,d)})}(e,n.defaultRoutes),n.descriptors&&qr.describe(e,n.descriptors)}(e,a,i),this.override&&qr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in qr[r]&&(delete qr[r][i],this.override&&delete qm[i])}}class SQ{constructor(){this.controllers=new Xx(uc,"datasets",!0),this.elements=new Xx(dc,"elements"),this.plugins=new Xx(Object,"plugins"),this.scales=new Xx(ny,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ui(r,a=>{const d=i||this._getRegistryForType(a);this._exec(e,d,a)})})}_exec(e,t,i){const r=YR(e);ur(i["before"+r],[],i),t[e](i),ur(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ru=new SQ;class DQ{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin;if(!1===ur(a[i],[t,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){Ti(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=ti(i.options&&i.options.plugins,{}),s=function xQ(n){const e={},t=[],i=Object.keys(Ru.plugins.items);for(let s=0;s<i.length;s++)t.push(Ru.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===t.indexOf(a)&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==r||t?function MQ(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const d of e){const f=d.id,g=AQ(i[f],r);null!==g&&s.push({plugin:d,options:OQ(n.config,{plugin:d,local:t[f]},g,a)})}return s}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(d=>!a.some(f=>d.plugin.id===f.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function AQ(n,e){return e||!1!==n?!0===n?{}:n:null}function OQ(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yN(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(qr.datasets[n]||{}).indexAxis||"x"}function EU(n){if("x"===n||"y"===n||"r"===n)return n}function RQ(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function _N(n,...e){if(EU(n))return n;for(const t of e){const i=t.axis||RQ(t.position)||n.length>1&&EU(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function TU(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function SU(n){const e=n.options||(n.options={});e.plugins=ti(e.plugins,{}),e.scales=function LQ(n,e){const t=qm[n.type]||{scales:{}},i=e.scales||{},r=yN(n.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const d=i[a];if(!mi(d))return console.error(`Invalid scale configuration for scale: ${a}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const f=_N(a,d,function NQ(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return TU(n,"x",t[0])||TU(n,"y",t[0])}return{}}(a,n),qr.scales[d.type]),g=function PQ(n,e){return n===e?"_index_":"_value_"}(f,r),v=t.scales||{};s[a]=lC(Object.create(null),[{axis:f},d,v[f],v[g]])}),n.data.datasets.forEach(a=>{const d=a.type||n.type,f=a.indexAxis||yN(d,e),v=(qm[d]||{}).scales||{};Object.keys(v).forEach(I=>{const D=function kQ(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(I,f),A=a[D+"AxisID"]||D;s[A]=s[A]||Object.create(null),lC(s[A],[{axis:D},i[A],v[I]])})}),Object.keys(s).forEach(a=>{const d=s[a];lC(d,[qr.scales[d.type],qr.scale])}),s}(n,e)}function DU(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const xU=new Map,AU=new Set;function Jx(n,e){let t=xU.get(n);return t||(t=e(),xU.set(n,t),AU.add(t)),t}const TC=(n,e,t)=>{const i=mp(e,t);void 0!==i&&n.add(i)};class BQ{constructor(e){this._config=function FQ(n){return(n=n||{}).data=DU(n.data),SU(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jx(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jx(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return Jx(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),d=a.get(t);if(d)return d;const f=new Set;t.forEach(v=>{e&&(f.add(e),v.forEach(I=>TC(f,e,I))),v.forEach(I=>TC(f,r,I)),v.forEach(I=>TC(f,qm[s]||{},I)),v.forEach(I=>TC(f,qr,I)),v.forEach(I=>TC(f,tN,I))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),AU.has(t)&&a.set(t,g),g}chartOptionScopes(){const{options:e,type:t}=this;return[e,qm[t]||{},qr.datasets[t]||{},{type:t},qr,tN]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:d}=MU(this._resolverCache,e,r);let f=a;(function $Q(n,e){const{isScriptable:t,isIndexable:i}=O3(n);for(const r of e){const s=t(r),a=i(r),d=(a||s)&&n[r];if(s&&(yp(d)||VQ(d))||a&&_r(d))return!0}return!1})(a,t)&&(s.$shared=!1,f=jv(a,i=yp(i)?i():i,this.createResolver(e,i,d)));for(const g of t)s[g]=f[g];return s}createResolver(e,t,i=[""],r){const{resolver:s}=MU(this._resolverCache,e,i);return mi(t)?jv(s,t,void 0,r):s}}function MU(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:sN(e,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,s)),s}const VQ=n=>mi(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||yp(n[t]),!1),HQ=["top","bottom","left","right","chartArea"];function OU(n,e){return"top"===n||"bottom"===n||-1===HQ.indexOf(n)&&"x"===e}function kU(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function PU(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ur(t&&t.onComplete,[n],e)}function zQ(n){const e=n.chart,t=e.options.animation;ur(t&&t.onProgress,[n],e)}function RU(n){return V3()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const eA={},NU=n=>{const e=RU(n);return Object.values(eA).filter(t=>t.canvas===e).pop()};function jQ(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}function tA(n,e,t){return n.options.clip?n[t]:e[t]}class bp{static register(...e){Ru.add(...e),LU()}static unregister(...e){Ru.remove(...e),LU()}constructor(e,t){const i=this.config=new BQ(t),r=RU(e),s=NU(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function cQ(n){return!V3()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?ZZ:lQ}(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,a.aspectRatio),f=d&&d.canvas,g=f&&f.height,v=f&&f.width;this.id=Y7(),this.ctx=d,this.canvas=f,this.width=v,this.height=g,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function uK(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(I=>this.update(I),a.resizeDelay||0),this._dataChanges=[],eA[this.id]=this,d&&f?(oh.listen(this,"complete",PU),oh.listen(this,"progress",zQ),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Ti(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ru}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return x3(this.canvas,this.ctx),this}stop(){return oh.stop(this),this}resize(e,t){oh.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,a=this.platform.getMaximumSize(this.canvas,e,t,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,$3(this,d,!0)&&(this.notifyPlugins("resize",{size:a}),ur(i.onResize,[this,a],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){Ui(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,d)=>(a[d]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const d=t[a],f=_N(a,d),g="r"===f,v="x"===f;return{options:d,dposition:g?"chartArea":v?"bottom":"left",dtype:g?"radialLinear":v?"category":"linear"}}))),Ui(s,a=>{const d=a.options,f=d.id,g=_N(f,d),v=ti(d.type,a.dtype);(void 0===d.position||OU(d.position,g)!==OU(a.dposition))&&(d.position=a.dposition),r[f]=!0;let I=null;f in i&&i[f].type===v?I=i[f]:(I=new(Ru.getScale(v))({id:f,type:v,ctx:this.ctx,chart:this}),i[I.id]=I),I.init(d,e)}),Ui(r,(a,d)=>{a||delete i[d]}),Ui(i,a=>{fo.configure(this,a,a.options),fo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(kU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{0===t.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const d=s.type||this.config.type;if(a.type&&a.type!==d&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=d,a.indexAxis=s.indexAxis||yN(d,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const f=Ru.getController(d),{datasetElementType:g,dataElementType:v}=qr.datasets[d];Object.assign(f,{dataElementType:Ru.getElement(v),datasetElementType:g&&Ru.getElement(g)}),a.controller=new f(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ui(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let g=0,v=this.data.datasets.length;g<v;g++){const{controller:I}=this.getDatasetMeta(g),D=!r&&-1===s.indexOf(I);I.buildOrUpdateElements(D),a=Math.max(+I.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Ui(s,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kU("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ui(this.scales,e=>{fo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!u3(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t)jQ(e,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,d)=>d+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!u3(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fo.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ui(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,yp(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(oh.has(this)?this.attached&&!oh.running(this)&&oh.start(this):(this.draw(),PU({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,s=function WQ(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:tA(t,e,"left"),right:tA(t,e,"right"),top:tA(i,e,"top"),bottom:tA(i,e,"bottom")}:e}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&Fx(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Bx(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return sh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=HZ.modes[t];return"function"==typeof s?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);cC(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),oh.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),x3(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete eA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,d)=>{s.offsetX=a,s.offsetY=d,this._eventHandler(s)};Ui(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(f,g)=>{t.addEventListener(this,f,g),e[f]=g},r=(f,g)=>{e[f]&&(t.removeEventListener(this,f,g),delete e[f])},s=(f,g)=>{this.canvas&&this.resize(f,g)};let a;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",d)},t.isAttached(this.canvas)?d():a()}unbindEvents(){Ui(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ui(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,d,f;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=e.length;d<f;++d){a=e[d];const g=a&&this.getDatasetMeta(a.datasetIndex).controller;g&&g[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const d=this.getDatasetMeta(s);if(!d)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:d.data[a],index:a}});!Ox(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(f,g)=>f.filter(v=>!g.some(I=>v.datasetIndex===I.datasetIndex&&v.index===I.index)),a=s(t,e),d=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,d=this._getActiveElements(e,r,i,t),f=function eK(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),g=function GQ(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(e,this._lastEvent,i,f);i&&(this._lastEvent=null,ur(s.onHover,[e,d,this],this),f&&ur(s.onClick,[e,d,this],this));const v=!Ox(d,r);return(v||t)&&(this._active=d,this._updateHoverStyles(d,r,t)),this._lastEvent=g,v}_getActiveElements(e,t,i,r){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function LU(){return Ui(bp.instances,n=>n._plugins.invalidate())}function qv(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function nA(n,e,t,i,r,s){const{x:a,y:d,startAngle:f,pixelMargin:g,innerRadius:v}=e,I=Math.max(e.outerRadius+i+t-g,0),D=v>0?v+i+t+g:0;let A=0;const P=r-f;if(i){const sn=((v>0?v-i:0)+(I>0?I-i:0))/2;A=(P-(0!==sn?P*sn/(sn+i):P))/2}const $=(P-Math.max(.001,P*I-t/vr)/I)/2,ae=f+$+A,Ie=r-$-A,{outerStart:He,outerEnd:je,innerStart:Ze,innerEnd:pt}=function KQ(n,e,t,i){const r=function YQ(n){return rN(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),d=f=>{const g=(t-Math.min(s,f))*i/2;return Us(f,0,Math.min(s,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Us(r.innerStart,0,a),innerEnd:Us(r.innerEnd,0,a)}}(e,D,I,Ie-ae),Dt=I-He,Ft=I-je,mn=ae+He/Dt,Bn=Ie-je/Ft,ni=D+Ze,oi=D+pt,wr=ae+Ze/ni,po=Ie-pt/oi;if(n.beginPath(),s){const Mi=(mn+Bn)/2;if(n.arc(a,d,I,mn,Mi),n.arc(a,d,I,Mi,Bn),je>0){const Nn=qv(Ft,Bn,a,d);n.arc(Nn.x,Nn.y,je,Bn,Ie+ts)}const zt=qv(oi,Ie,a,d);if(n.lineTo(zt.x,zt.y),pt>0){const Nn=qv(oi,po,a,d);n.arc(Nn.x,Nn.y,pt,Ie+ts,po+Math.PI)}const sn=(Ie-pt/D+(ae+Ze/D))/2;if(n.arc(a,d,D,Ie-pt/D,sn,!0),n.arc(a,d,D,sn,ae+Ze/D,!0),Ze>0){const Nn=qv(ni,wr,a,d);n.arc(Nn.x,Nn.y,Ze,wr+Math.PI,ae-ts)}const bn=qv(Dt,ae,a,d);if(n.lineTo(bn.x,bn.y),He>0){const Nn=qv(Dt,mn,a,d);n.arc(Nn.x,Nn.y,He,ae-ts,mn)}}else{n.moveTo(a,d);const Mi=Math.cos(mn)*I+a,zt=Math.sin(mn)*I+d;n.lineTo(Mi,zt);const sn=Math.cos(Bn)*I+a,bn=Math.sin(Bn)*I+d;n.lineTo(sn,bn)}n.closePath()}Zt(bp,"defaults",qr),Zt(bp,"instances",eA),Zt(bp,"overrides",qm),Zt(bp,"registry",Ru),Zt(bp,"version","4.4.0"),Zt(bp,"getChart",NU);class SC extends dc{constructor(t){super(),Zt(this,"circumference"),Zt(this,"endAngle"),Zt(this,"fullCircles"),Zt(this,"innerRadius"),Zt(this,"outerRadius"),Zt(this,"pixelMargin"),Zt(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:d}=g3(s,{x:t,y:i}),{startAngle:f,endAngle:g,innerRadius:v,outerRadius:I,circumference:D}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),A=(this.options.spacing+this.options.borderWidth)/2,V=ti(D,g-f)>=br||dC(a,f,g),$=ih(d,v+A,I+A);return V&&$}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:v}=this.options,I=(s+a)/2,D=(d+f+v+g)/2;return{x:i+Math.cos(I)*D,y:r+Math.sin(I)*D}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=r>br?Math.floor(r/br):0,0===r||this.innerRadius<0||this.outerRadius<0)return;t.save();const f=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(f)*s,Math.sin(f)*s);const v=s*(1-Math.sin(Math.min(vr,r||0)));t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,function ZQ(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:d}=e;let f=e.endAngle;if(s){nA(n,e,t,i,f,r);for(let g=0;g<s;++g)n.fill();isNaN(d)||(f=a+(d%br||br))}nA(n,e,t,i,f,r),n.fill()}(t,this,v,a,d),function QQ(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:d,options:f}=e,{borderWidth:g,borderJoinStyle:v,borderDash:I,borderDashOffset:D}=f,A="inner"===f.borderAlign;if(!g)return;n.setLineDash(I||[]),n.lineDashOffset=D,A?(n.lineWidth=2*g,n.lineJoin=v||"round"):(n.lineWidth=g,n.lineJoin=v||"bevel");let P=e.endAngle;if(s){nA(n,e,t,i,P,r);for(let V=0;V<s;++V)n.stroke();isNaN(d)||(P=a+(d%br||br))}A&&function qQ(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:d,innerRadius:f}=e;let g=r/d;n.beginPath(),n.arc(s,a,d,i-g,t+g),f>r?(g=r/f,n.arc(s,a,f,t+g,i-g,!0)):n.arc(s,a,r,t+ts,i-ts),n.closePath(),n.clip()}(n,e,P),s||(nA(n,e,t,i,P,r),n.stroke())}(t,this,v,a,d),t.restore()}}function FU(n,e,t=e){n.lineCap=ti(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ti(t.borderDash,e.borderDash)),n.lineDashOffset=ti(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ti(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ti(t.borderWidth,e.borderWidth),n.strokeStyle=ti(t.borderColor,e.borderColor)}function XQ(n,e,t){n.lineTo(t.x,t.y)}function BU(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:a,end:d}=e,f=Math.max(r,a),g=Math.min(s,d);return{count:i,start:f,loop:e.loop,ilen:g<f&&!(r<a&&s<a||r>d&&s>d)?i+g-f:g-f}}function eX(n,e,t,i){const{points:r,options:s}=e,{count:a,start:d,loop:f,ilen:g}=BU(r,t,i),v=function JQ(n){return n.stepped?IK:n.tension||"monotone"===n.cubicInterpolationMode?CK:XQ}(s);let A,P,V,{move:I=!0,reverse:D}=i||{};for(A=0;A<=g;++A)P=r[(d+(D?g-A:A))%a],!P.skip&&(I?(n.moveTo(P.x,P.y),I=!1):v(n,V,P,D,s.stepped),V=P);return f&&(P=r[(d+(D?g:0))%a],v(n,V,P,D,s.stepped)),!!f}function tX(n,e,t,i){const r=e.points,{count:s,start:a,ilen:d}=BU(r,t,i),{move:f=!0,reverse:g}=i||{};let D,A,P,V,$,ae,v=0,I=0;const Ie=je=>(a+(g?d-je:je))%s,He=()=>{V!==$&&(n.lineTo(v,$),n.lineTo(v,V),n.lineTo(v,ae))};for(f&&(A=r[Ie(0)],n.moveTo(A.x,A.y)),D=0;D<=d;++D){if(A=r[Ie(D)],A.skip)continue;const je=A.x,Ze=A.y,pt=0|je;pt===P?(Ze<V?V=Ze:Ze>$&&($=Ze),v=(I*v+je)/++I):(He(),n.lineTo(je,Ze),P=pt,I=0,V=$=Ze),ae=Ze}He()}function vN(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?eX:tX}Zt(SC,"id","arc"),Zt(SC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Zt(SC,"defaultRoutes",{backgroundColor:"backgroundColor"}),Zt(SC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const sX="function"==typeof Path2D;class wp extends dc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(qK(this._points,i,e,i.spanGaps?this._loop:this._fullLoop,t),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function lZ(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:a,end:d}=function oZ(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function Y3(n,e,t,i){return i&&i.setContext&&t?function cZ(n,e,t,i){const r=n._chart.getContext(),s=K3(n.options),{_datasetIndex:a,options:{spanGaps:d}}=n,f=t.length,g=[];let v=s,I=e[0].start,D=I;function A(P,V,$,ae){const Ie=d?-1:1;if(P!==V){for(P+=f;t[P%f].skip;)P-=Ie;for(;t[V%f].skip;)V+=Ie;P%f!=V%f&&(g.push({start:P%f,end:V%f,loop:$,style:ae}),v=ae,I=V%f)}}for(const P of e){I=d?I:P.start;let $,V=t[I%f];for(D=I+1;D<=P.end;D++){const ae=t[D%f];$=K3(i.setContext(vp(r,{type:"segment",p0:V,p1:ae,p0DataIndex:(D-1)%f,p1DataIndex:D%f,datasetIndex:a}))),uZ($,v)&&A(I,D-1,P.loop,v),V=ae,v=$}I<D-1&&A(I,D-1,P.loop,v)}return g}(n,e,t,i):e}(n,!0===i?[{start:a,end:d,loop:s}]:function aZ(n,e,t,i){const r=n.length,s=[];let f,a=e,d=n[e];for(f=e+1;f<=t;++f){const g=n[f%r];g.skip||g.stop?d.skip||(s.push({start:e%r,end:(f-1)%r,loop:i=!1}),e=a=g.stop?f:null):(a=f,d.skip&&(e=f)),d=g}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(t,a,d<a?d+r:d,!!n._fullLoop&&0===a&&d===r-1),t,e)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,i=e.length;return i&&this.points[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,a=q3(this,{property:t,start:r,end:r});if(!a.length)return;const d=[],f=function nX(n){return n.stepped?tZ:n.tension||"monotone"===n.cubicInterpolationMode?nZ:Jm}(i);let g,v;for(g=0,v=a.length;g<v;++g){const{start:I,end:D}=a[g],A=s[I],P=s[D];if(A===P){d.push(A);continue}const $=f(A,P,Math.abs((r-A[t])/(P[t]-A[t])),i.stepped);$[t]=e[t],d.push($)}return 1===d.length?d[0]:d}pathSegment(e,t,i){return vN(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=vN(this);let a=this._loop;t=t||0,i=i||this.points.length-t;for(const d of r)a&=s(e,this,d,{start:t,end:t+i-1});return!!a}draw(e,t,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function oX(n,e,t,i){sX&&!e.options.segment?function iX(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),FU(n,e.options),n.stroke(r)}(n,e,t,i):function rX(n,e,t,i){const{segments:r,options:s}=e,a=vN(e);for(const d of r)FU(n,s,d.style),n.beginPath(),a(n,e,d,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function VU(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}Zt(wp,"id","line"),Zt(wp,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Zt(wp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Zt(wp,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class iA extends dc{constructor(t){super(),Zt(this,"parsed"),Zt(this,"skip"),Zt(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:a,y:d}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(i-d,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return VU(this,t,"x",i)}inYRange(t,i){return VU(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!sh(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,iN(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $U(n,e){const{x:t,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let d,f,g,v,I;return n.horizontal?(I=a/2,d=Math.min(t,r),f=Math.max(t,r),g=i-I,v=i+I):(I=s/2,d=t-I,f=t+I,g=Math.min(i,r),v=Math.max(i,r)),{left:d,top:g,right:f,bottom:v}}function Ip(n,e,t,i){return n?0:Us(e,t,i)}function bN(n,e,t,i){const r=null===e,s=null===t,d=n&&!(r&&s)&&$U(n,i);return d&&(r||ih(e,d.left,d.right))&&(s||ih(t,d.top,d.bottom))}function dX(n,e){n.rect(e.x,e.y,e.w,e.h)}function wN(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}Zt(iA,"id","point"),Zt(iA,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Zt(iA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class rA extends dc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function cX(n){const e=$U(n),t=e.right-e.left,i=e.bottom-e.top,r=function aX(n,e,t){const r=n.borderSkipped,s=M3(n.options.borderWidth);return{t:Ip(r.top,s.top,0,t),r:Ip(r.right,s.right,0,e),b:Ip(r.bottom,s.bottom,0,t),l:Ip(r.left,s.left,0,e)}}(n,t/2,i/2),s=function lX(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Zm(r),a=Math.min(e,t),d=n.borderSkipped,f=i||mi(r);return{topLeft:Ip(!f||d.top||d.left,s.topLeft,0,a),topRight:Ip(!f||d.top||d.right,s.topRight,0,a),bottomLeft:Ip(!f||d.bottom||d.left,s.bottomLeft,0,a),bottomRight:Ip(!f||d.bottom||d.right,s.bottomRight,0,a)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),d=function uX(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?gC:dX;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),d(e,wN(a,t,s)),e.clip(),d(e,wN(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),d(e,wN(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return bN(this,e,t,i)}inXRange(e,t){return bN(this,e,null,t)}inYRange(e,t){return bN(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Zt(rA,"id","bar"),Zt(rA,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Zt(rA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hX=Object.freeze({__proto__:null,ArcElement:SC,BarElement:rA,LineElement:wp,PointElement:iA});const IN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],UU=IN.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function HU(n){return IN[n%IN.length]}function zU(n){return UU[n%UU.length]}function jU(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var _X={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!t.forceOverride&&(jU(i)||function yX(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&jU(s)))return;const a=function mX(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof ey?e=function pX(n,e){return n.backgroundColor=n.data.map(()=>HU(e++)),e}(t,e):r instanceof _C?e=function gX(n,e){return n.backgroundColor=n.data.map(()=>zU(e++)),e}(t,e):r&&(e=function fX(n,e){return n.borderColor=HU(e),n.backgroundColor=zU(e),++e}(t,e))}}(n);i.forEach(a)}};function GU(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function WU(n){n.data.datasets.forEach(e=>{GU(e)})}var IX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void WU(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:d}=r,f=n.getDatasetMeta(s),g=a||r.data;if("y"===mC([d,n.options.indexAxis])||!f.controller.supportsDecimation)return;const v=n.scales[f.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let P,{start:I,count:D}=function wX(n,e){const t=e.length;let r,i=0;const{iScale:s}=n,{min:a,max:d,minDefined:f,maxDefined:g}=s.getUserBounds();return f&&(i=Us(rh(e,s.axis,a).lo,0,t-1)),r=g?Us(rh(e,s.axis,d).hi+1,i,t)-i:t-i,{start:i,count:r}}(f,g);if(D<=(t.threshold||4*i))GU(r);else{switch(Ti(a)&&(r._data=g,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}})),t.algorithm){case"lttb":P=function vX(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const a=[],d=(t-2)/(s-2);let f=0;const g=e+t-1;let I,D,A,P,V,v=e;for(a[f++]=n[v],I=0;I<s-2;I++){let Ie,$=0,ae=0;const He=Math.floor((I+1)*d)+1+e,je=Math.min(Math.floor((I+2)*d)+1,t)+e,Ze=je-He;for(Ie=He;Ie<je;Ie++)$+=n[Ie].x,ae+=n[Ie].y;$/=Ze,ae/=Ze;const pt=Math.floor(I*d)+1+e,Dt=Math.min(Math.floor((I+1)*d)+1,t)+e,{x:Ft,y:mn}=n[v];for(A=P=-1,Ie=pt;Ie<Dt;Ie++)P=.5*Math.abs((Ft-$)*(n[Ie].y-mn)-(Ft-n[Ie].x)*(ae-mn)),P>A&&(A=P,D=n[Ie],V=Ie);a[f++]=D,v=V}return a[f++]=n[g],a}(g,I,D,i,t);break;case"min-max":P=function bX(n,e,t,i){let a,d,f,g,v,I,D,A,P,V,r=0,s=0;const $=[],Ie=n[e].x,je=n[e+t-1].x-Ie;for(a=e;a<e+t;++a){d=n[a],f=(d.x-Ie)/je*i,g=d.y;const Ze=0|f;if(Ze===v)g<P?(P=g,I=a):g>V&&(V=g,D=a),r=(s*r+d.x)/++s;else{const pt=a-1;if(!Ti(I)&&!Ti(D)){const Dt=Math.min(I,D),Ft=Math.max(I,D);Dt!==A&&Dt!==pt&&$.push({...n[Dt],x:r}),Ft!==A&&Ft!==pt&&$.push({...n[Ft],x:r})}a>0&&pt!==A&&$.push(n[pt]),$.push(d),v=Ze,s=0,P=V=g,I=D=A=a}}return $}(g,I,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=P}})},destroy(n){WU(n)}};function CN(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=Va(r),s=Va(s)),{property:n,start:r,end:s}}function EN(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function qU(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function YU(n,e){let t=[],i=!1;return _r(n)?(i=!0,t=n):t=function EX(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:d})=>{d=EN(a,d,r);const f=r[a],g=r[d];null!==i?(s.push({x:f.x,y:i}),s.push({x:g.x,y:i})):null!==t&&(s.push({x:t,y:f.y}),s.push({x:t,y:g.y}))}),s}(n,e),t.length?new wp({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function KU(n){return n&&!1!==n.fill}function TX(n,e,t){let r=n[e].fill;const s=[e];let a;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Wr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function SX(n,e,t){const i=function MX(n){const e=n.options,t=e.fill;let i=ti(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(mi(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Wr(r)&&Math.floor(r)===r?function DX(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function PX(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:a,last:d,point:f}=RX(s,e,"x");if(!(!f||a&&d))if(a)i.unshift(f);else if(n.push(f),!d)break}n.push(...i)}function RX(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,a=n.points;let d=!1,f=!1;for(let g=0;g<s.length;g++){const v=s[g],I=a[v.start][t],D=a[v.end][t];if(ih(r,I,D)){d=r===I,f=r===D;break}}return{first:d,last:f,point:i}}class ZU{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:a}=this;return e.arc(r,s,a,(t=t||{start:0,end:br}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function TN(n,e,t){const i=function NX(n){const{chart:e,fill:t,line:i}=n;if(Wr(t))return function LX(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function OX(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,a=i.points,d=function kX(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);d.push(YU({x:null,y:e.bottom},i));for(let f=0;f<s.length;f++){const g=s[f];for(let v=g.start;v<=g.end;v++)PX(r,a[v],d)}return new wp({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function FX(n){return(n.scale||{}).getPointPositionForValue?function VX(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=function AX(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:mi(n)?n.value:e.getBaseValue(),i}(t,e,s),d=[];if(i.grid.circular){const f=e.getPointPositionForValue(0,s);return new ZU({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(a)})}for(let f=0;f<r;++f)d.push(e.getPointPositionForValue(f,a));return d}(n):function BX(n){const{scale:e={},fill:t}=n,i=function xX(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:mi(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(Wr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof ZU?r:YU(r,i)}(e),{line:r,scale:s,axis:a}=e,d=r.options,f=d.fill,g=d.backgroundColor,{above:v=g,below:I=g}=f||{};i&&r.points.length&&(Fx(n,t),function $X(n,e){const{line:t,target:i,above:r,below:s,area:a,scale:d}=e,f=t._loop?"angle":e.axis;n.save(),"x"===f&&s!==r&&(QU(n,i,a.top),XU(n,{line:t,target:i,color:r,scale:d,property:f}),n.restore(),n.save(),QU(n,i,a.bottom)),XU(n,{line:t,target:i,color:s,scale:d,property:f}),n.restore()}(n,{line:r,target:i,above:v,below:I,area:t,scale:s,axis:a}),Bx(n))}function QU(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const d of i){const{start:f,end:g}=d,v=r[f],I=r[EN(f,g,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,t),n.lineTo(v.x,v.y)),a=!!e.pathSegment(n,d,{move:a}),a?n.closePath():n.lineTo(I.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function XU(n,e){const{line:t,target:i,property:r,color:s,scale:a}=e,d=function CX(n,e,t){const i=n.segments,r=n.points,s=e.points,a=[];for(const d of i){let{start:f,end:g}=d;g=EN(f,g,r);const v=CN(t,r[f],r[g],d.loop);if(!e.segments){a.push({source:d,target:v,start:r[f],end:r[g]});continue}const I=q3(e,v);for(const D of I){const A=CN(t,s[D.start],s[D.end],D.loop),P=W3(d,r,A);for(const V of P)a.push({source:V,target:D,start:{[t]:qU(v,A,"start",Math.max)},end:{[t]:qU(v,A,"end",Math.min)}})}}return a}(t,i,r);for(const{source:f,target:g,start:v,end:I}of d){const{style:{backgroundColor:D=s}={}}=f,A=!0!==i;n.save(),n.fillStyle=D,UX(n,a,A&&CN(r,v,I)),n.beginPath();const P=!!t.pathSegment(n,f);let V;if(A){P?n.closePath():JU(n,i,I,r);const $=!!i.pathSegment(n,g,{move:P,reverse:!0});V=P&&$,V||JU(n,i,v,r)}n.closePath(),n.fill(V?"evenodd":"nonzero"),n.restore()}}function UX(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:a,end:d}=t||{};"x"===s&&(n.beginPath(),n.rect(a,i,d-a,r-i),n.clip())}function JU(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var HX={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,a,d,f;for(a=0;a<i;++a)s=n.getDatasetMeta(a),d=s.dataset,f=null,d&&d.options&&d instanceof wp&&(f={visible:n.isDatasetVisible(a),index:a,fill:SX(d,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:d}),s.$filler=f,r.push(f);for(a=0;a<i;++a)f=r[a],f&&!1!==f.fill&&(f.fill=TX(r,a,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const d=r[a].$filler;!d||(d.line.updateControlPoints(s,d.axis),i&&d.fill&&TN(n.ctx,d,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;KU(s)&&TN(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!KU(i)||"beforeDatasetDraw"!==t.drawTime||TN(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const eH=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class tH extends dc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ur(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=Ss(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=eH(i,s);let g,v;t.font=r.string,this.isHorizontal()?(g=this.maxWidth,v=this._fitRows(a,s,d,f)+10):(v=this.maxHeight,g=this._fitCols(a,r,d,f)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(v,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],v=r+d;let I=e;s.textAlign="left",s.textBaseline="middle";let D=-1,A=-v;return this.legendItems.forEach((P,V)=>{const $=i+t/2+s.measureText(P.text).width;(0===V||g[g.length-1]+$+2*d>a)&&(I+=v,g[g.length-(V>0?0:1)]=0,A+=v,D++),f[V]={left:0,top:A,row:D,width:$,height:r},g[g.length-1]+=$+d}),I}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],v=a-e;let I=d,D=0,A=0,P=0,V=0;return this.legendItems.forEach(($,ae)=>{const{itemWidth:Ie,itemHeight:He}=function jX(n,e,t,i,r){const s=function GX(n,e,t,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+i.measureText(r).width}(i,n,e,t),a=function WX(n,e,t){let i=n;return"string"!=typeof e.text&&(i=nH(e,t)),i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}(i,t,s,$,r);ae>0&&A+He+2*d>v&&(I+=D+d,g.push({width:D,height:A}),P+=D+d,V++,D=A=0),f[ae]={left:P,top:A,col:V,width:Ie,height:He},D=Math.max(D,Ie),A+=He+d}),I+=D,g.push({width:D,height:A}),I}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Wv(s,this.left,this.width);if(this.isHorizontal()){let d=0,f=uo(i,this.left+r,this.right-this.lineWidths[d]);for(const g of t)d!==g.row&&(d=g.row,f=uo(i,this.left+r,this.right-this.lineWidths[d])),g.top+=this.top+e+r,g.left=a.leftForLtr(a.x(f),g.width),f+=g.width+r}else{let d=0,f=uo(i,this.top+e+r,this.bottom-this.columnSizes[d].height);for(const g of t)g.col!==d&&(d=g.col,f=uo(i,this.top+e+r,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+r,g.left=a.leftForLtr(a.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Fx(e,this),this._draw(),Bx(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,d=qr.color,f=Wv(e.rtl,this.left,this.width),g=Ss(a.font),{padding:v}=a,I=g.size,D=I/2;let A;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:P,boxHeight:V,itemHeight:$}=eH(a,I),He=this.isHorizontal(),je=this._computeTitleHeight();A=He?{x:uo(s,this.left+v,this.right-i[0]),y:this.top+v+je,line:0}:{x:this.left+v,y:uo(s,this.top+je+v,this.bottom-t[0].height),line:0},H3(this.ctx,e.textDirection);const Ze=$+v;this.legendItems.forEach((pt,Dt)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const Ft=r.measureText(pt.text).width,mn=f.textAlign(pt.textAlign||(pt.textAlign=a.textAlign)),Bn=P+D+Ft;let ni=A.x,oi=A.y;f.setWidth(this.width),He?Dt>0&&ni+Bn+v>this.right&&(oi=A.y+=Ze,A.line++,ni=A.x=uo(s,this.left+v,this.right-i[A.line])):Dt>0&&oi+Ze>this.bottom&&(ni=A.x=ni+t[A.line].width+v,A.line++,oi=A.y=uo(s,this.top+je+v,this.bottom-t[A.line].height)),function(pt,Dt,Ft){if(isNaN(P)||P<=0||isNaN(V)||V<0)return;r.save();const mn=ti(Ft.lineWidth,1);if(r.fillStyle=ti(Ft.fillStyle,d),r.lineCap=ti(Ft.lineCap,"butt"),r.lineDashOffset=ti(Ft.lineDashOffset,0),r.lineJoin=ti(Ft.lineJoin,"miter"),r.lineWidth=mn,r.strokeStyle=ti(Ft.strokeStyle,d),r.setLineDash(ti(Ft.lineDash,[])),a.usePointStyle){const Bn={radius:V*Math.SQRT2/2,pointStyle:Ft.pointStyle,rotation:Ft.rotation,borderWidth:mn},ni=f.xPlus(pt,P/2);A3(r,Bn,ni,Dt+D,a.pointStyleWidth&&P)}else{const Bn=Dt+Math.max((I-V)/2,0),ni=f.leftForLtr(pt,P),oi=Zm(Ft.borderRadius);r.beginPath(),Object.values(oi).some(wr=>0!==wr)?gC(r,{x:ni,y:Bn,w:P,h:V,radius:oi}):r.rect(ni,Bn,P,V),r.fill(),0!==mn&&r.stroke()}r.restore()}(f.x(ni),oi,pt),ni=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(mn,ni+P+D,He?ni+Bn:this.right,e.rtl),function(pt,Dt,Ft){Km(r,Ft.text,pt,Dt+$/2,g,{strikethrough:Ft.hidden,textAlign:f.textAlign(Ft.textAlign)})}(f.x(ni),oi,pt),He?A.x+=Bn+v:A.y+="string"!=typeof pt.text?nH(pt,g.lineHeight)+v:Ze}),z3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ss(t.font),r=ho(t.padding);if(!t.display)return;const s=Wv(e.rtl,this.left,this.width),a=this.ctx,d=t.position,g=r.top+i.size/2;let v,I=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+g,I=uo(e.align,I,this.right-D);else{const P=this.columnSizes.reduce((V,$)=>Math.max(V,$.height),0);v=g+uo(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const A=uo(d,I,I+D);a.textAlign=s.textAlign(XR(d)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Km(a,t.text,A,v,i)}_computeTitleHeight(){const e=this.options.title,t=Ss(e.font),i=ho(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(ih(e,this.left,this.right)&&ih(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ih(e,r.left,r.left+r.width)&&ih(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function qX(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&ur(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ur(t.onHover,[e,i,this],this)}else i&&ur(t.onClick,[e,i,this],this)}}function nH(n,e){return e*(n.text?n.text.length:0)}var YX={id:"legend",_element:tH,start(n,e,t){const i=n.legend=new tH({ctx:n.ctx,options:t,chart:n});fo.configure(n,i,t),fo.addBox(n,i)},stop(n){fo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;fo.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(t?0:void 0),v=ho(g.borderWidth);return{text:e[f.index].label,fillStyle:g.backgroundColor,fontColor:s,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:a&&(d||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class SN extends dc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=_r(i.text)?i.text.length:1;this._padding=ho(i.padding);const s=r*Ss(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:a}=this,d=a.align;let g,v,I,f=0;return this.isHorizontal()?(v=uo(d,i,s),I=t+e,g=s-i):("left"===a.position?(v=i+e,I=uo(d,r,t),f=-.5*vr):(v=s-e,I=uo(d,t,r),f=.5*vr),g=r-t),{titleX:v,titleY:I,maxWidth:g,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ss(t.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(s);Km(e,t.text,0,0,i,{color:t.color,maxWidth:f,rotation:g,textAlign:XR(t.align),textBaseline:"middle",translation:[a,d]})}}var ZX={id:"title",_element:SN,start(n,e,t){!function KX(n,e){const t=new SN({ctx:n.ctx,options:e,chart:n});fo.configure(n,t,e),fo.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){fo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;fo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sA=new WeakMap;var QX={id:"subtitle",start(n,e,t){const i=new SN({ctx:n.ctx,options:t,chart:n});fo.configure(n,i,t),fo.addBox(n,i),sA.set(n,i)},stop(n){fo.removeBox(n,sA.get(n)),sA.delete(n)},beforeUpdate(n,e,t){const i=sA.get(n);fo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const DC={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const d=a.tooltipPosition();i+=d.x,r+=d.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,a,d,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const f=n[s].element;if(f&&f.hasValue()){const v=ZR(e,f.getCenterPoint());v<r&&(r=v,d=f)}}if(d){const f=d.tooltipPosition();t=f.x,i=f.y}return{x:t,y:i}}};function Nu(n,e){return e&&(_r(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ah(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function XX(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:d}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function iH(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:d}=e,f=Ss(e.bodyFont),g=Ss(e.titleFont),v=Ss(e.footerFont),I=s.length,D=r.length,A=i.length,P=ho(e.padding);let V=P.height,$=0,ae=i.reduce((je,Ze)=>je+Ze.before.length+Ze.lines.length+Ze.after.length,0);ae+=n.beforeBody.length+n.afterBody.length,I&&(V+=I*g.lineHeight+(I-1)*e.titleSpacing+e.titleMarginBottom),ae&&(V+=A*(e.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(ae-A)*f.lineHeight+(ae-1)*e.bodySpacing),D&&(V+=e.footerMarginTop+D*v.lineHeight+(D-1)*e.footerSpacing);let Ie=0;const He=function(je){$=Math.max($,t.measureText(je).width+Ie)};return t.save(),t.font=g.string,Ui(n.title,He),t.font=f.string,Ui(n.beforeBody.concat(n.afterBody),He),Ie=e.displayColors?a+2+e.boxPadding:0,Ui(i,je=>{Ui(je.before,He),Ui(je.lines,He),Ui(je.after,He)}),Ie=0,t.font=v.string,Ui(n.footer,He),t.restore(),$+=P.width,{width:$,height:V}}function tJ(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:d,right:f}}=n;let g="center";return"center"===i?g=r<=(d+f)/2?"left":"right":r<=s/2?g="left":r>=a-s/2&&(g="right"),function eJ(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if("left"===n&&r+s+a>e.width||"right"===n&&r-s-a<0)return!0}(g,n,e,t)&&(g="center"),g}function rH(n,e,t){const i=t.yAlign||e.yAlign||function JX(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||tJ(n,e,t,i),yAlign:i}}function sH(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:d,yAlign:f}=t,g=r+s,{topLeft:v,topRight:I,bottomLeft:D,bottomRight:A}=Zm(a);let P=function nJ(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,d);const V=function iJ(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,f,g);return"center"===f?"left"===d?P+=g:"right"===d&&(P-=g):"left"===d?P-=Math.max(v,D)+r:"right"===d&&(P+=Math.max(I,A)+r),{x:Us(P,0,i.width-e.width),y:Us(V,0,i.height-e.height)}}function oA(n,e,t){const i=ho(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function oH(n){return Nu([],ah(n))}function aH(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const lH={beforeTitle:nh,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:nh,beforeBody:nh,beforeLabel:nh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ti(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:nh,afterBody:nh,beforeFooter:nh,footer:nh,afterFooter:nh};function oa(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?lH[e].call(t,i):r}class DN extends dc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new Q3(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function rJ(n,e,t){return vp(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=oa(i,"beforeTitle",this,e),s=oa(i,"title",this,e),a=oa(i,"afterTitle",this,e);let d=[];return d=Nu(d,ah(r)),d=Nu(d,ah(s)),d=Nu(d,ah(a)),d}getBeforeBody(e,t){return oH(oa(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Ui(e,s=>{const a={before:[],lines:[],after:[]},d=aH(i,s);Nu(a.before,ah(oa(d,"beforeLabel",this,s))),Nu(a.lines,oa(d,"label",this,s)),Nu(a.after,ah(oa(d,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return oH(oa(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=oa(i,"beforeFooter",this,e),s=oa(i,"footer",this,e),a=oa(i,"afterFooter",this,e);let d=[];return d=Nu(d,ah(r)),d=Nu(d,ah(s)),d=Nu(d,ah(a)),d}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],a=[];let f,g,d=[];for(f=0,g=t.length;f<g;++f)d.push(XX(this.chart,t[f]));return e.filter&&(d=d.filter((v,I,D)=>e.filter(v,I,D,i))),e.itemSort&&(d=d.sort((v,I)=>e.itemSort(v,I,i))),Ui(d,v=>{const I=aH(e.callbacks,v);r.push(oa(I,"labelColor",this,v)),s.push(oa(I,"labelPointStyle",this,v)),a.push(oa(I,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=d,d}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const d=DC[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const f=this._size=iH(this,i),g=Object.assign({},d,f),v=rH(this.chart,i,g),I=sH(i,g,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,s={opacity:1,x:I.x,y:I.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:d}=i,{topLeft:f,topRight:g,bottomLeft:v,bottomRight:I}=Zm(d),{x:D,y:A}=e,{width:P,height:V}=t;let $,ae,Ie,He,je,Ze;return"center"===s?(je=A+V/2,"left"===r?($=D,ae=$-a,He=je+a,Ze=je-a):($=D+P,ae=$+a,He=je-a,Ze=je+a),Ie=$):(ae="left"===r?D+Math.max(f,v)+a:"right"===r?D+P-Math.max(g,I)-a:this.caretX,"top"===s?(He=A,je=He-a,$=ae-a,Ie=ae+a):(He=A+V,je=He+a,$=ae+a,Ie=ae-a),Ze=He),{x1:$,x2:ae,x3:Ie,y1:He,y2:je,y3:Ze}}drawTitle(e,t,i){const r=this.title,s=r.length;let a,d,f;if(s){const g=Wv(i.rtl,this.x,this.width);for(e.x=oA(this,i.titleAlign,i),t.textAlign=g.textAlign(i.titleAlign),t.textBaseline="middle",a=Ss(i.titleFont),d=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,f=0;f<s;++f)t.fillText(r[f],g.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+d,f+1===s&&(e.y+=i.titleMarginBottom-d)}}_drawColorBox(e,t,i,r,s){const a=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=s,v=Ss(s.bodyFont),I=oA(this,"left",s),D=r.x(I),P=t.y+(f<v.lineHeight?(v.lineHeight-f)/2:0);if(s.usePointStyle){const V={radius:Math.min(g,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},$=r.leftForLtr(D,g)+g/2,ae=P+f/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,iN(e,V,$,ae),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,iN(e,V,$,ae)}else{e.lineWidth=mi(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const V=r.leftForLtr(D,g),$=r.leftForLtr(r.xPlus(D,1),g-2),ae=Zm(a.borderRadius);Object.values(ae).some(Ie=>0!==Ie)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,gC(e,{x:V,y:P,w:g,h:f,radius:ae}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),gC(e,{x:$,y:P+1,w:g-2,h:f-2,radius:ae}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(V,P,g,f),e.strokeRect(V,P,g,f),e.fillStyle=a.backgroundColor,e.fillRect($,P+1,g-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:d,boxHeight:f,boxWidth:g,boxPadding:v}=i,I=Ss(i.bodyFont);let D=I.lineHeight,A=0;const P=Wv(i.rtl,this.x,this.width),V=function(Ft){t.fillText(Ft,P.x(e.x+A),e.y+D/2),e.y+=D+s},$=P.textAlign(a);let ae,Ie,He,je,Ze,pt,Dt;for(t.textAlign=a,t.textBaseline="middle",t.font=I.string,e.x=oA(this,$,i),t.fillStyle=i.bodyColor,Ui(this.beforeBody,V),A=d&&"right"!==$?"center"===a?g/2+v:g+2+v:0,je=0,pt=r.length;je<pt;++je){for(ae=r[je],Ie=this.labelTextColors[je],t.fillStyle=Ie,Ui(ae.before,V),He=ae.lines,d&&He.length&&(this._drawColorBox(t,e,je,P,i),D=Math.max(I.lineHeight,f)),Ze=0,Dt=He.length;Ze<Dt;++Ze)V(He[Ze]),D=I.lineHeight;Ui(ae.after,V)}A=0,D=I.lineHeight,Ui(this.afterBody,V),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let a,d;if(s){const f=Wv(i.rtl,this.x,this.width);for(e.x=oA(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=f.textAlign(i.footerAlign),t.textBaseline="middle",a=Ss(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,d=0;d<s;++d)t.fillText(r[d],f.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:a}=this,{x:d,y:f}=e,{width:g,height:v}=i,{topLeft:I,topRight:D,bottomLeft:A,bottomRight:P}=Zm(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(d+I,f),"top"===a&&this.drawCaret(e,t,i,r),t.lineTo(d+g-D,f),t.quadraticCurveTo(d+g,f,d+g,f+D),"center"===a&&"right"===s&&this.drawCaret(e,t,i,r),t.lineTo(d+g,f+v-P),t.quadraticCurveTo(d+g,f+v,d+g-P,f+v),"bottom"===a&&this.drawCaret(e,t,i,r),t.lineTo(d+A,f+v),t.quadraticCurveTo(d,f+v,d,f+v-A),"center"===a&&"left"===s&&this.drawCaret(e,t,i,r),t.lineTo(d,f+I),t.quadraticCurveTo(d,f,d+I,f),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=DC[e.position].call(this,this._active,this._eventPosition);if(!a)return;const d=this._size=iH(this,e),f=Object.assign({},a,this._size),g=rH(t,e,f),v=sH(e,f,g,t);(r._to!==v.x||s._to!==v.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ho(t.padding);t.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),H3(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),z3(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:d,index:f})=>{const g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[f],index:f}}),s=!Ox(i,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),d=this._positionChanged(a,e),f=t||!Ox(a,s)||d;return f&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,i,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t;const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,a=DC[s.position].call(this,e,t);return!1!==a&&(i!==a.x||r!==a.y)}}Zt(DN,"positioners",DC);var sJ={id:"tooltip",_element:DN,positioners:DC,afterInit(n,e,t){t&&(n.tooltip=new DN({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oJ=Object.freeze({__proto__:null,Colors:_X,Decimation:IX,Filler:HX,Legend:YX,SubTitle:QX,Title:ZX,Tooltip:sJ});function cH(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class xN extends ny{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ti(e))return null;const i=this.getLabels();return((n,e)=>null===n?null:Us(Math.round(n),0,e))(t=isFinite(t)&&i[t]===e?t:function lJ(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(i,e,ti(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return cH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function uH(n,e,{horizontal:t,minRotation:i}){const r=cc(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}Zt(xN,"id","category"),Zt(xN,"defaults",{ticks:{callback:cH}});class aA extends ny{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ti(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=f=>r=t?r:f,d=f=>s=i?s:f;if(e){const f=Pu(r),g=Pu(s);f<0&&g<0?d(0):f>0&&g>0&&a(0)}if(r===s){let f=0===s?1:Math.abs(.05*s);d(s+f),e||a(r-f)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function uJ(n,e){const t=[],{bounds:r,step:s,min:a,max:d,precision:f,count:g,maxTicks:v,maxDigits:I,includeBounds:D}=n,A=s||1,P=v-1,{min:V,max:$}=e,ae=!Ti(a),Ie=!Ti(d),He=!Ti(g),je=($-V)/(I+1);let pt,Dt,Ft,mn,Ze=h3(($-V)/P/A)*A;if(Ze<1e-14&&!ae&&!Ie)return[{value:V},{value:$}];mn=Math.ceil($/Ze)-Math.floor(V/Ze),mn>P&&(Ze=h3(mn*Ze/P/A)*A),Ti(f)||(pt=Math.pow(10,f),Ze=Math.ceil(Ze*pt)/pt),"ticks"===r?(Dt=Math.floor(V/Ze)*Ze,Ft=Math.ceil($/Ze)*Ze):(Dt=V,Ft=$),ae&&Ie&&s&&function rK(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((d-a)/s,Ze/1e3)?(mn=Math.round(Math.min((d-a)/Ze,v)),Ze=(d-a)/mn,Dt=a,Ft=d):He?(Dt=ae?a:Dt,Ft=Ie?d:Ft,mn=g-1,Ze=(Ft-Dt)/mn):(mn=(Ft-Dt)/Ze,mn=uC(mn,Math.round(mn),Ze/1e3)?Math.round(mn):Math.ceil(mn));const Bn=Math.max(p3(Ze),p3(Dt));pt=Math.pow(10,Ti(f)?Bn:f),Dt=Math.round(Dt*pt)/pt,Ft=Math.round(Ft*pt)/pt;let ni=0;for(ae&&(D&&Dt!==a?(t.push({value:a}),Dt<a&&ni++,uC(Math.round((Dt+ni*Ze)*pt)/pt,a,uH(a,je,n))&&ni++):Dt<a&&ni++);ni<mn;++ni){const oi=Math.round((Dt+ni*Ze)*pt)/pt;if(Ie&&oi>d)break;t.push({value:oi})}return Ie&&D&&Ft!==d?t.length&&uC(t[t.length-1].value,d,uH(d,je,n))?t[t.length-1].value=d:t.push({value:d}):(!Ie||Ft===d)&&t.push({value:Ft}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&f3(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return fC(e,this.chart.options.locale,this.options.ticks.format)}}class AN extends aA{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Wr(e)?e:0,this.max=Wr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=cc(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Zt(AN,"id","linear"),Zt(AN,"defaults",{ticks:{callback:Nx.formatters.numeric}});const xC=n=>Math.floor(_p(n)),iy=(n,e)=>Math.pow(10,xC(n)+e);function dH(n){return n/Math.pow(10,xC(n))==1}function hH(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}class MN extends ny{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=aA.prototype.parse.apply(this,[e,t]);if(0!==i)return Wr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Wr(e)?Math.max(0,e):null,this.max=Wr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Wr(this._userMin)&&(this.min=e===iy(this.min,0)?iy(this.min,-1):iy(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=d=>i=e?i:d,a=d=>r=t?r:d;i===r&&(i<=0?(s(1),a(10)):(s(iy(i,-1)),a(iy(r,1)))),i<=0&&s(iy(r,-1)),r<=0&&a(iy(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function hJ(n,{min:e,max:t}){e=Ba(n.min,e);const i=[],r=xC(e);let s=function dJ(n,e){let i=xC(e-n);for(;hH(n,e,i)>10;)i++;for(;hH(n,e,i)<10;)i--;return Math.min(i,xC(n))}(e,t),a=s<0?Math.pow(10,Math.abs(s)):1;const d=Math.pow(10,s),f=r>s?Math.pow(10,r):0,g=Math.round((e-f)*a)/a,v=Math.floor((e-f)/d/10)*d*10;let I=Math.floor((g-v)/Math.pow(10,s)),D=Ba(n.min,Math.round((f+v+I*Math.pow(10,s))*a)/a);for(;D<t;)i.push({value:D,major:dH(D),significand:I}),I>=10?I=I<15?15:20:I++,I>=20&&(s++,I=2,a=s>=0?1:a),D=Math.round((f+v+I*Math.pow(10,s))*a)/a;const A=Ba(n.max,D);return i.push({value:A,major:dH(A),significand:I}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&f3(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":fC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_p(e),this._valueRange=_p(this.max)-_p(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_p(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ON(n){const e=n.ticks;if(e.display&&n.display){const t=ho(e.backdropPadding);return ti(e.font&&e.font.size,qr.font.size)+t.height}return 0}function fJ(n,e,t){return t=_r(t)?t:[t],{w:wK(n,e.string,t),h:t.length*e.lineHeight}}function fH(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function gJ(n,e,t,i,r){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let d=0,f=0;i.start<e.l?(d=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-d)):i.end>e.r&&(d=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+d)),r.start<e.t?(f=(e.t-r.start)/a,n.t=Math.min(n.t,e.t-f)):r.end>e.b&&(f=(r.end-e.b)/a,n.b=Math.max(n.b,e.b+f))}function mJ(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:d}=t,f=n.getPointPosition(e,i+r+a,s),g=Math.round(KR(Va(f.angle+ts))),v=function wJ(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(f.y,d.h,g),I=function vJ(n){return 0===n||180===n?"center":n<180?"left":"right"}(g),D=function bJ(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(f.x,d.w,I);return{visible:!0,x:f.x,y:v,textAlign:I,left:D,top:v,right:D+d.w,bottom:v+d.h}}function yJ(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(sh({x:t,y:i},e)||sh({x:t,y:s},e)||sh({x:r,y:i},e)||sh({x:r,y:s},e))}function IJ(n,e,t){const{left:i,top:r,right:s,bottom:a}=t,{backdropColor:d}=e;if(!Ti(d)){const f=Zm(e.borderRadius),g=ho(e.backdropPadding);n.fillStyle=d;const v=i-g.left,I=r-g.top,D=s-i+g.width,A=a-r+g.height;Object.values(f).some(P=>0!==P)?(n.beginPath(),gC(n,{x:v,y:I,w:D,h:A,radius:f}),n.fill()):n.fillRect(v,I,D,A)}}function pH(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,br);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,e),r.lineTo(s.x,s.y)}}Zt(MN,"id","logarithmic"),Zt(MN,"defaults",{ticks:{callback:Nx.formatters.logarithmic,major:{enabled:!0}}});class AC extends aA{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ho(ON(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Wr(e)&&!isNaN(e)?e:0,this.max=Wr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ON(this.options))}generateTickLabels(e){aA.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=ur(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function pJ(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,d=a.centerPointLabels?vr/s:0;for(let f=0;f<s;f++){const g=a.setContext(n.getPointLabelContext(f));r[f]=g.padding;const v=n.getPointPosition(f,n.drawingArea+r[f],d),I=Ss(g.font),D=fJ(n.ctx,I,n._pointLabels[f]);i[f]=D;const A=Va(n.getIndexAngle(f)+d),P=Math.round(KR(A));gJ(t,e,A,fH(P,v.x,D.w,0,180),fH(P,v.y,D.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function _J(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:d}=s.pointLabels,f={extra:ON(s)/2,additionalAngle:a?vr/r:0};let g;for(let v=0;v<r;v++){f.padding=t[v],f.size=e[v];const I=mJ(n,v,f);i.push(I),"auto"===d&&(I.visible=yJ(I,g),I.visible&&(g=I))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return Va(e*(br/(this._pointLabels.length||1))+cc(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Ti(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ti(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function TJ(n,e,t){return vp(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-ts+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),pH(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,a=this._pointLabels.length;let d,f,g;if(t.pointLabels.display&&function CJ(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));IJ(t,a,s);const d=Ss(a.font),{x:f,y:g,textAlign:v}=s;Km(t,n._pointLabels[r],f,g+d.lineHeight/2,d,{color:a.color,textAlign:v,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,I)=>{if(0!==I){f=this.getDistanceFromCenterForValue(v.value);const D=this.getContext(I),A=r.setContext(D),P=s.setContext(D);!function EJ(n,e,t,i,r){const s=n.ctx,a=e.circular,{color:d,lineWidth:f}=e;!a&&!i||!d||!f||t<0||(s.save(),s.strokeStyle=d,s.lineWidth=f,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),pH(n,t,a,i),s.closePath(),s.stroke(),s.restore())}(this,A,f,a,P)}}),i.display){for(e.save(),d=a-1;d>=0;d--){const v=i.setContext(this.getPointLabelContext(d)),{color:I,lineWidth:D}=v;!D||!I||(e.lineWidth=D,e.strokeStyle=I,e.setLineDash(v.borderDash),e.lineDashOffset=v.borderDashOffset,f=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),g=this.getPointPosition(d,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(g.x,g.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&!t.reverse)return;const g=i.setContext(this.getContext(f)),v=Ss(g.font);if(s=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){e.font=v.string,a=e.measureText(d.label).width,e.fillStyle=g.backdropColor;const I=ho(g.backdropPadding);e.fillRect(-a/2-I.left,-s-v.size/2-I.top,a+I.width,v.size+I.height)}Km(e,d.label,0,-s,v,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),e.restore()}drawTitle(){}}Zt(AC,"id","radialLinear"),Zt(AC,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Nx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Zt(AC,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Zt(AC,"descriptors",{angleLines:{_fallback:"grid"}});const lA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(lA);function gH(n,e){return n-e}function mH(n,e){if(Ti(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return"function"==typeof i&&(a=i(a)),Wr(a)||(a="string"==typeof i?t.parse(a,i):t.parse(a)),null===a?null:(r&&(a="week"!==r||!zv(s)&&!0!==s?t.startOf(a,r):t.startOf(a,"isoWeek",s)),+a)}function yH(n,e,t,i){const r=aa.length;for(let s=aa.indexOf(n);s<r-1;++s){const a=lA[aa[s]],d=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(d*a.size))<=i)return aa[s]}return aa[r-1]}function _H(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=QR(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function vH(n,e,t){const i=[],r={},s=e.length;let a,d;for(a=0;a<s;++a)d=e[a],r[d]=a,i.push({value:d,major:!1});return 0!==s&&t?function xJ(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let d,f;for(d=s;d<=a;d=+r.add(d,1,i))f=t[d],f>=0&&(e[f].major=!0);return e}(n,i,r,t):i}class MC extends ny{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new FZ__date(e.adapters.date);r.init(t),lC(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:mH(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:d}=this.getUserBounds();function f(g){!a&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!d&&!isNaN(g.max)&&(s=Math.max(s,g.max))}(!a||!d)&&(f(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&f(this.getMinMax(!1))),r=Wr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Wr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,d=function lK(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=t.unit||(i.autoSkip?yH(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function SJ(n,e,t,i,r){for(let s=aa.length-1;s>=aa.indexOf(t);s--){const a=aa[s];if(lA[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return aa[t?aa.indexOf(t):0]}(this,d.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function DJ(n){for(let e=aa.indexOf(n)+1,t=aa.length;e<t;++e)if(lA[aa[e]].common)return aa[e]}(this._unit):void 0,this.initOffsets(r),e.reverse&&d.reverse(),vH(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r,s,t=0,i=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),t=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),i=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Us(t,0,a),i=Us(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||yH(s.minUnit,t,i,this._getLabelCapacity(t)),d=ti(r.ticks.stepSize,1),f="week"===a&&s.isoWeekday,g=zv(f)||!0===f,v={};let D,A,I=t;if(g&&(I=+e.startOf(I,"isoWeek",f)),I=+e.startOf(I,g?"day":a),e.diff(i,t,a)>1e5*d)throw new Error(t+" and "+i+" are too far apart with stepSize of "+d+" "+a);const P="data"===r.ticks.source&&this.getDataTimestamps();for(D=I,A=0;D<i;D=+e.add(D,d,a),A++)_H(v,D,P);return(D===i||"ticks"===r.bounds||1===A)&&_H(v,D,P),Object.keys(v).sort(gH).map(V=>+V)}getLabelForValue(e){const i=this.options.time;return this._adapter.format(e,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(e,t){return this._adapter.format(e,t||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,t,i,r){const s=this.options,a=s.ticks.callback;if(a)return ur(a,[e,t,i],this);const d=s.time.displayFormats,f=this._unit,g=this._majorUnit,I=g&&d[g],D=i[t];return this._adapter.format(e,r||(g&&I&&D&&D.major?I:f&&d[f]))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=cc(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:i*s+d*a,h:i*a+d*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,vH(this,[e],this._majorUnit),r),a=this._getLabelSize(s),d=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return d>0?d:1}getDataTimestamps(){let t,i,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(mH(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _3(e.sort(gH))}}function cA(n,e,t){let s,a,d,f,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=rh(n,"pos",e)),({pos:s,time:d}=n[i]),({pos:a,time:f}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=rh(n,"time",e)),({time:s,pos:d}=n[i]),({time:a,pos:f}=n[r]));const g=a-s;return g?d+(f-d)*(e-s)/g:d}Zt(MC,"id","time"),Zt(MC,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class kN extends MC{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=cA(t,this.min),this._tableRange=cA(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,d,f,g,v;for(a=0,d=e.length;a<d;++a)g=e[a],g>=t&&g<=i&&r.push(g);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,d=r.length;a<d;++a)v=r[a+1],f=r[a-1],g=r[a],Math.round((v+f)/2)!==g&&s.push({time:g,pos:a/(d-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||1===i.length)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(cA(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return cA(this._table,i*this._tableRange+this._minPos,!0)}}Zt(kN,"id","timeseries"),Zt(kN,"defaults",MC.defaults),bp.register(LZ,hX,oJ,Object.freeze({__proto__:null,CategoryScale:xN,LinearScale:AN,LogarithmicScale:MN,RadialLinearScale:AC,TimeScale:MC,TimeSeriesScale:kN}));let OJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gi]}),n})(),PJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[N$]}),n.\u0275inj=o.cJS({providers:[VR],imports:[Pc,WY,Go,LA,ub,LE,Pa.hO.initializeApp(pp_firebaseConfig),Mw,l9,T7,b9,n7,Rs,OJ,N9,BY,K9,KY,kJ,w9,Yq.forRoot()]}),n})();var bH=R(787);(0,o.G48)(),kc().bootstrapModule(PJ).then(()=>{return window,typeof window>"u"?Promise.resolve():(0,bH.p)().then(()=>(0,bH.b)([["ion-icon",[[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]]],["stripe-payment-request-button",[[4,"stripe-payment-request-button",{paymentMethodEventHandler:[16],shippingOptionEventHandler:[16],shippingAddressEventHandler:[16],publishableKey:[1,"publishable-key"],stripeAccount:[1,"stripe-account"],applicationName:[1,"application-name"],stripeDidLoaded:[1040],loadStripeStatus:[32],stripe:[32],paymentRequestOption:[32],isAvailable:[64],setPaymentMethodEventHandler:[64],setPaymentRequestShippingOptionEventHandler:[64],setPaymentRequestShippingAddressEventHandler:[64],setPaymentRequestOption:[64],initStripe:[64]}]]],["stripe-payment_2",[[0,"stripe-payment",{intentType:[1,"intent-type"],zip:[4],sheetTitle:[1,"sheet-title"],buttonLabel:[1,"button-label"],publishableKey:[1,"publishable-key"],stripeAccount:[1,"stripe-account"],applicationName:[1,"application-name"],showLabel:[4,"show-label"],intentClientSecret:[1,"intent-client-secret"],shouldUseDefaultFormSubmitAction:[4,"should-use-default-form-submit-action"],showPaymentRequestButton:[4,"show-payment-request-button"],handleSubmit:[1040],stripeDidLoaded:[1040],loadStripeStatus:[32],stripe:[32],progress:[32],errorMessage:[32],zipCode:[32],paymentRequestOption:[32],initStripe:[64],updateProgress:[64],setErrorMessage:[64],setPaymentRequestOption:[64]}],[1,"stripe-sheet",{showCloseButton:[4,"show-close-button"],open:[4],toggleModal:[64],openModal:[64],closeModal:[64]}]]],["stripe-payment-sheet",[[0,"stripe-payment-sheet",{publishableKey:[1,"publishable-key"],stripeAccount:[1,"stripe-account"],applicationName:[1,"application-name"],showLabel:[4,"show-label"],sheetTitle:[1,"sheet-title"],buttonLabel:[1,"button-label"],intentClientSecret:[1,"intent-client-secret"],shouldUseDefaultFormSubmitAction:[4,"should-use-default-form-submit-action"],intentType:[1,"intent-type"],handleSubmit:[1040],stripeDidLoaded:[1040],showCloseButton:[4,"show-close-button"],zip:[4],open:[4],getStripePaymentSheetElement:[64],present:[64],updateProgress:[64],destroy:[64],setPaymentRequestButton:[64]}]]]],e));var e}).catch(n=>console.error(n))},1218:(Lt,qe,R)=>{"use strict";var de=R(5463),B={},Oe={};de.forEach(function Me(_e){B[_e.name.toLowerCase()]=_e.code,Oe[_e.code.toLowerCase()]=_e.name}),qe.Yu=function(){return de}},9751:(Lt,qe,R)=>{"use strict";R.d(qe,{y:()=>Ee});var o=R(2961),de=R(727),B=R(8822),Oe=R(9635),Me=R(2416),_e=R(576),X=R(2806);let Ee=(()=>{class re{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const ye=new re;return ye.source=this,ye.operator=Se,ye}subscribe(Se,ye,Qe){const oe=function G(re){return re&&re instanceof o.Lv||function se(re){return re&&(0,_e.m)(re.next)&&(0,_e.m)(re.error)&&(0,_e.m)(re.complete)}(re)&&(0,de.Nn)(re)}(Se)?Se:new o.Hp(Se,ye,Qe);return(0,X.x)(()=>{const{operator:ie,source:Ae}=this;oe.add(ie?ie.call(oe,Ae):Ae?this._subscribe(oe):this._trySubscribe(oe))}),oe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(ye){Se.error(ye)}}forEach(Se,ye){return new(ye=xe(ye))((Qe,oe)=>{const ie=new o.Hp({next:Ae=>{try{Se(Ae)}catch(tt){oe(tt),ie.unsubscribe()}},error:oe,complete:Qe});this.subscribe(ie)})}_subscribe(Se){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Se)}[B.L](){return this}pipe(...Se){return(0,Oe.U)(Se)(this)}toPromise(Se){return new(Se=xe(Se))((ye,Qe)=>{let oe;this.subscribe(ie=>oe=ie,ie=>Qe(ie),()=>ye(oe))})}}return re.create=le=>new re(le),re})();function xe(re){var le;return null!==(le=re??Me.v.Promise)&&void 0!==le?le:Promise}},7579:(Lt,qe,R)=>{"use strict";R.d(qe,{x:()=>X});var o=R(9751),de=R(727);const Oe=(0,R(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=R(8737),_e=R(2806);let X=(()=>{class xe extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const re=new Ee(this,this);return re.operator=G,re}_throwIfClosed(){if(this.closed)throw new Oe}next(G){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(G)}})}error(G){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:re}=this;for(;re.length;)re.shift().error(G)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:re,isStopped:le,observers:Se}=this;return re||le?de.Lc:(this.currentObservers=null,Se.push(G),new de.w0(()=>{this.currentObservers=null,(0,Me.P)(Se,G)}))}_checkFinalizedStatuses(G){const{hasError:re,thrownError:le,isStopped:Se}=this;re?G.error(le):Se&&G.complete()}asObservable(){const G=new o.y;return G.source=this,G}}return xe.create=(se,G)=>new Ee(se,G),xe})();class Ee extends X{constructor(se,G){super(),this.destination=se,this.source=G}next(se){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===re||re.call(G,se)}error(se){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===re||re.call(G,se)}complete(){var se,G;null===(G=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===G||G.call(se)}_subscribe(se){var G,re;return null!==(re=null===(G=this.source)||void 0===G?void 0:G.subscribe(se))&&void 0!==re?re:de.Lc}}},2961:(Lt,qe,R)=>{"use strict";R.d(qe,{Hp:()=>Qe,Lv:()=>re});var o=R(576),de=R(727),B=R(2416),Oe=R(7849);function Me(){}const _e=xe("C",void 0,void 0);function xe(Fe,ke,be){return{kind:Fe,value:ke,error:be}}var se=R(3410),G=R(2806);class re extends de.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,de.Nn)(ke)&&ke.add(this)):this.destination=tt}static create(ke,be,Ke){return new Qe(ke,be,Ke)}next(ke){this.isStopped?Ae(function Ee(Fe){return xe("N",Fe,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Ae(function X(Fe){return xe("E",void 0,Fe)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Ae(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const le=Function.prototype.bind;function Se(Fe,ke){return le.call(Fe,ke)}class ye{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:be}=this;if(be.next)try{be.next(ke)}catch(Ke){oe(Ke)}}error(ke){const{partialObserver:be}=this;if(be.error)try{be.error(ke)}catch(Ke){oe(Ke)}else oe(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(be){oe(be)}}}class Qe extends re{constructor(ke,be,Ke){let Y;if(super(),(0,o.m)(ke)||!ke)Y={next:ke??void 0,error:be??void 0,complete:Ke??void 0};else{let te;this&&B.v.useDeprecatedNextContext?(te=Object.create(ke),te.unsubscribe=()=>this.unsubscribe(),Y={next:ke.next&&Se(ke.next,te),error:ke.error&&Se(ke.error,te),complete:ke.complete&&Se(ke.complete,te)}):Y=ke}this.destination=new ye(Y)}}function oe(Fe){B.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Fe):(0,Oe.h)(Fe)}function Ae(Fe,ke){const{onStoppedNotification:be}=B.v;be&&se.z.setTimeout(()=>be(Fe,ke))}const tt={closed:!0,next:Me,error:function ie(Fe){throw Fe},complete:Me}},727:(Lt,qe,R)=>{"use strict";R.d(qe,{Lc:()=>_e,w0:()=>Me,Nn:()=>X});var o=R(576);const B=(0,R(3888).d)(xe=>function(G){xe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((re,le)=>`${le+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var Oe=R(8737);class Me{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(Se){se=Se instanceof B?Se.errors:[Se]}const{_finalizers:le}=this;if(le){this._finalizers=null;for(const Se of le)try{Ee(Se)}catch(ye){se=se??[],ye instanceof B?se=[...se,...ye.errors]:se.push(ye)}}if(se)throw new B(se)}}add(se){var G;if(se&&se!==this)if(this.closed)Ee(se);else{if(se instanceof Me){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(se)}}_hasParent(se){const{_parentage:G}=this;return G===se||Array.isArray(G)&&G.includes(se)}_addParent(se){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(se),G):G?[G,se]:se}_removeParent(se){const{_parentage:G}=this;G===se?this._parentage=null:Array.isArray(G)&&(0,Oe.P)(G,se)}remove(se){const{_finalizers:G}=this;G&&(0,Oe.P)(G,se),se instanceof Me&&se._removeParent(this)}}Me.EMPTY=(()=>{const xe=new Me;return xe.closed=!0,xe})();const _e=Me.EMPTY;function X(xe){return xe instanceof Me||xe&&"closed"in xe&&(0,o.m)(xe.remove)&&(0,o.m)(xe.add)&&(0,o.m)(xe.unsubscribe)}function Ee(xe){(0,o.m)(xe)?xe():xe.unsubscribe()}},2416:(Lt,qe,R)=>{"use strict";R.d(qe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Lt,qe,R)=>{"use strict";R.d(qe,{E:()=>de});const de=new(R(9751).y)(Me=>Me.complete())},8996:(Lt,qe,R)=>{"use strict";R.d(qe,{D:()=>ke});var o=R(8421),de=R(5363),B=R(9468),_e=R(9751),Ee=R(2202),xe=R(576),se=R(9672);function re(be,Ke){if(!be)throw new Error("Iterable cannot be null");return new _e.y(Y=>{(0,se.f)(Y,Ke,()=>{const te=be[Symbol.asyncIterator]();(0,se.f)(Y,Ke,()=>{te.next().then(U=>{U.done?Y.complete():Y.next(U.value)})},0,!0)})})}var le=R(3670),Se=R(8239),ye=R(1144),Qe=R(6495),oe=R(2206),ie=R(4532),Ae=R(3260);function ke(be,Ke){return Ke?function Fe(be,Ke){if(null!=be){if((0,le.c)(be))return function Oe(be,Ke){return(0,o.Xf)(be).pipe((0,B.R)(Ke),(0,de.Q)(Ke))}(be,Ke);if((0,ye.z)(be))return function X(be,Ke){return new _e.y(Y=>{let te=0;return Ke.schedule(function(){te===be.length?Y.complete():(Y.next(be[te++]),Y.closed||this.schedule())})})}(be,Ke);if((0,Se.t)(be))return function Me(be,Ke){return(0,o.Xf)(be).pipe((0,B.R)(Ke),(0,de.Q)(Ke))}(be,Ke);if((0,oe.D)(be))return re(be,Ke);if((0,Qe.T)(be))return function G(be,Ke){return new _e.y(Y=>{let te;return(0,se.f)(Y,Ke,()=>{te=be[Ee.h](),(0,se.f)(Y,Ke,()=>{let U,ue;try{({value:U,done:ue}=te.next())}catch(ne){return void Y.error(ne)}ue?Y.complete():Y.next(U)},0,!0)}),()=>(0,xe.m)(te?.return)&&te.return()})}(be,Ke);if((0,Ae.L)(be))return function tt(be,Ke){return re((0,Ae.Q)(be),Ke)}(be,Ke)}throw(0,ie.z)(be)}(be,Ke):(0,o.Xf)(be)}},8421:(Lt,qe,R)=>{"use strict";R.d(qe,{Xf:()=>le});var o=R(7582),de=R(1144),B=R(8239),Oe=R(9751),Me=R(3670),_e=R(2206),X=R(4532),Ee=R(6495),xe=R(3260),se=R(576),G=R(7849),re=R(8822);function le(Fe){if(Fe instanceof Oe.y)return Fe;if(null!=Fe){if((0,Me.c)(Fe))return function Se(Fe){return new Oe.y(ke=>{const be=Fe[re.L]();if((0,se.m)(be.subscribe))return be.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,de.z)(Fe))return function ye(Fe){return new Oe.y(ke=>{for(let be=0;be<Fe.length&&!ke.closed;be++)ke.next(Fe[be]);ke.complete()})}(Fe);if((0,B.t)(Fe))return function Qe(Fe){return new Oe.y(ke=>{Fe.then(be=>{ke.closed||(ke.next(be),ke.complete())},be=>ke.error(be)).then(null,G.h)})}(Fe);if((0,_e.D)(Fe))return ie(Fe);if((0,Ee.T)(Fe))return function oe(Fe){return new Oe.y(ke=>{for(const be of Fe)if(ke.next(be),ke.closed)return;ke.complete()})}(Fe);if((0,xe.L)(Fe))return function Ae(Fe){return ie((0,xe.Q)(Fe))}(Fe)}throw(0,X.z)(Fe)}function ie(Fe){return new Oe.y(ke=>{(function tt(Fe,ke){var be,Ke,Y,te;return(0,o.mG)(this,void 0,void 0,function*(){try{for(be=(0,o.KL)(Fe);!(Ke=yield be.next()).done;)if(ke.next(Ke.value),ke.closed)return}catch(U){Y={error:U}}finally{try{Ke&&!Ke.done&&(te=be.return)&&(yield te.call(be))}finally{if(Y)throw Y.error}}ke.complete()})})(Fe,ke).catch(be=>ke.error(be))})}},6451:(Lt,qe,R)=>{"use strict";R.d(qe,{T:()=>_e});var o=R(8189),de=R(8421),B=R(515),Oe=R(7669),Me=R(8996);function _e(...X){const Ee=(0,Oe.yG)(X),xe=(0,Oe._6)(X,1/0),se=X;return se.length?1===se.length?(0,de.Xf)(se[0]):(0,o.J)(xe)((0,Me.D)(se,Ee)):B.E}},5403:(Lt,qe,R)=>{"use strict";R.d(qe,{x:()=>de});var o=R(2961);function de(Oe,Me,_e,X,Ee){return new B(Oe,Me,_e,X,Ee)}class B extends o.Lv{constructor(Me,_e,X,Ee,xe,se){super(Me),this.onFinalize=xe,this.shouldUnsubscribe=se,this._next=_e?function(G){try{_e(G)}catch(re){Me.error(re)}}:super._next,this._error=Ee?function(G){try{Ee(G)}catch(re){Me.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(G){Me.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},4004:(Lt,qe,R)=>{"use strict";R.d(qe,{U:()=>B});var o=R(4482),de=R(5403);function B(Oe,Me){return(0,o.e)((_e,X)=>{let Ee=0;_e.subscribe((0,de.x)(X,xe=>{X.next(Oe.call(Me,xe,Ee++))}))})}},8189:(Lt,qe,R)=>{"use strict";R.d(qe,{J:()=>B});var o=R(5577),de=R(4671);function B(Oe=1/0){return(0,o.z)(de.y,Oe)}},5577:(Lt,qe,R)=>{"use strict";R.d(qe,{z:()=>Ee});var o=R(4004),de=R(8421),B=R(4482),Oe=R(9672),Me=R(5403),X=R(576);function Ee(xe,se,G=1/0){return(0,X.m)(se)?Ee((re,le)=>(0,o.U)((Se,ye)=>se(re,Se,le,ye))((0,de.Xf)(xe(re,le))),G):("number"==typeof se&&(G=se),(0,B.e)((re,le)=>function _e(xe,se,G,re,le,Se,ye,Qe){const oe=[];let ie=0,Ae=0,tt=!1;const Fe=()=>{tt&&!oe.length&&!ie&&se.complete()},ke=Ke=>ie<re?be(Ke):oe.push(Ke),be=Ke=>{Se&&se.next(Ke),ie++;let Y=!1;(0,de.Xf)(G(Ke,Ae++)).subscribe((0,Me.x)(se,te=>{le?.(te),Se?ke(te):se.next(te)},()=>{Y=!0},void 0,()=>{if(Y)try{for(ie--;oe.length&&ie<re;){const te=oe.shift();ye?(0,Oe.f)(se,ye,()=>be(te)):be(te)}Fe()}catch(te){se.error(te)}}))};return xe.subscribe((0,Me.x)(se,ke,()=>{tt=!0,Fe()})),()=>{Qe?.()}}(re,le,xe,G)))}},5363:(Lt,qe,R)=>{"use strict";R.d(qe,{Q:()=>Oe});var o=R(9672),de=R(4482),B=R(5403);function Oe(Me,_e=0){return(0,de.e)((X,Ee)=>{X.subscribe((0,B.x)(Ee,xe=>(0,o.f)(Ee,Me,()=>Ee.next(xe),_e),()=>(0,o.f)(Ee,Me,()=>Ee.complete(),_e),xe=>(0,o.f)(Ee,Me,()=>Ee.error(xe),_e)))})}},3099:(Lt,qe,R)=>{"use strict";R.d(qe,{B:()=>Me});var o=R(8421),de=R(7579),B=R(2961),Oe=R(4482);function Me(X={}){const{connector:Ee=(()=>new de.x),resetOnError:xe=!0,resetOnComplete:se=!0,resetOnRefCountZero:G=!0}=X;return re=>{let le,Se,ye,Qe=0,oe=!1,ie=!1;const Ae=()=>{Se?.unsubscribe(),Se=void 0},tt=()=>{Ae(),le=ye=void 0,oe=ie=!1},Fe=()=>{const ke=le;tt(),ke?.unsubscribe()};return(0,Oe.e)((ke,be)=>{Qe++,!ie&&!oe&&Ae();const Ke=ye=ye??Ee();be.add(()=>{Qe--,0===Qe&&!ie&&!oe&&(Se=_e(Fe,G))}),Ke.subscribe(be),!le&&Qe>0&&(le=new B.Hp({next:Y=>Ke.next(Y),error:Y=>{ie=!0,Ae(),Se=_e(tt,xe,Y),Ke.error(Y)},complete:()=>{oe=!0,Ae(),Se=_e(tt,se),Ke.complete()}}),(0,o.Xf)(ke).subscribe(le))})(re)}}function _e(X,Ee,...xe){if(!0===Ee)return void X();if(!1===Ee)return;const se=new B.Hp({next:()=>{se.unsubscribe(),X()}});return Ee(...xe).subscribe(se)}},9468:(Lt,qe,R)=>{"use strict";R.d(qe,{R:()=>de});var o=R(4482);function de(B,Oe=0){return(0,o.e)((Me,_e)=>{_e.add(B.schedule(()=>Me.subscribe(_e),Oe))})}},8505:(Lt,qe,R)=>{"use strict";R.d(qe,{b:()=>Me});var o=R(576),de=R(4482),B=R(5403),Oe=R(4671);function Me(_e,X,Ee){const xe=(0,o.m)(_e)||X||Ee?{next:_e,error:X,complete:Ee}:_e;return xe?(0,de.e)((se,G)=>{var re;null===(re=xe.subscribe)||void 0===re||re.call(xe);let le=!0;se.subscribe((0,B.x)(G,Se=>{var ye;null===(ye=xe.next)||void 0===ye||ye.call(xe,Se),G.next(Se)},()=>{var Se;le=!1,null===(Se=xe.complete)||void 0===Se||Se.call(xe),G.complete()},Se=>{var ye;le=!1,null===(ye=xe.error)||void 0===ye||ye.call(xe,Se),G.error(Se)},()=>{var Se,ye;le&&(null===(Se=xe.unsubscribe)||void 0===Se||Se.call(xe)),null===(ye=xe.finalize)||void 0===ye||ye.call(xe)}))}):Oe.y}},4408:(Lt,qe,R)=>{"use strict";R.d(qe,{o:()=>Me});var o=R(727);class de extends o.w0{constructor(X,Ee){super()}schedule(X,Ee=0){return this}}const B={setInterval(_e,X,...Ee){const{delegate:xe}=B;return xe?.setInterval?xe.setInterval(_e,X,...Ee):setInterval(_e,X,...Ee)},clearInterval(_e){const{delegate:X}=B;return(X?.clearInterval||clearInterval)(_e)},delegate:void 0};var Oe=R(8737);class Me extends de{constructor(X,Ee){super(X,Ee),this.scheduler=X,this.work=Ee,this.pending=!1}schedule(X,Ee=0){var xe;if(this.closed)return this;this.state=X;const se=this.id,G=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(G,se,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(G,this.id,Ee),this}requestAsyncId(X,Ee,xe=0){return B.setInterval(X.flush.bind(X,this),xe)}recycleAsyncId(X,Ee,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ee;null!=Ee&&B.clearInterval(Ee)}execute(X,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(X,Ee);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,Ee){let se,xe=!1;try{this.work(X)}catch(G){xe=!0,se=G||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:X,scheduler:Ee}=this,{actions:xe}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Oe.P)(xe,this),null!=X&&(this.id=this.recycleAsyncId(Ee,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(Lt,qe,R)=>{"use strict";R.d(qe,{v:()=>B});var o=R(6063);class de{constructor(Me,_e=de.now){this.schedulerActionCtor=Me,this.now=_e}schedule(Me,_e=0,X){return new this.schedulerActionCtor(this,Me).schedule(X,_e)}}de.now=o.l.now;class B extends de{constructor(Me,_e=de.now){super(Me,_e),this.actions=[],this._active=!1}flush(Me){const{actions:_e}=this;if(this._active)return void _e.push(Me);let X;this._active=!0;do{if(X=Me.execute(Me.state,Me.delay))break}while(Me=_e.shift());if(this._active=!1,X){for(;Me=_e.shift();)Me.unsubscribe();throw X}}}},4986:(Lt,qe,R)=>{"use strict";R.d(qe,{z:()=>B});var o=R(4408);const B=new(R(7565).v)(o.o)},6063:(Lt,qe,R)=>{"use strict";R.d(qe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(Lt,qe,R)=>{"use strict";R.d(qe,{z:()=>o});const o={setTimeout(de,B,...Oe){const{delegate:Me}=o;return Me?.setTimeout?Me.setTimeout(de,B,...Oe):setTimeout(de,B,...Oe)},clearTimeout(de){const{delegate:B}=o;return(B?.clearTimeout||clearTimeout)(de)},delegate:void 0}},2202:(Lt,qe,R)=>{"use strict";R.d(qe,{h:()=>de});const de=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Lt,qe,R)=>{"use strict";R.d(qe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Lt,qe,R)=>{"use strict";R.d(qe,{_6:()=>_e,jO:()=>Oe,yG:()=>Me});var o=R(576);function B(X){return X[X.length-1]}function Oe(X){return(0,o.m)(B(X))?X.pop():void 0}function Me(X){return function de(X){return X&&(0,o.m)(X.schedule)}(B(X))?X.pop():void 0}function _e(X,Ee){return"number"==typeof B(X)?X.pop():Ee}},8737:(Lt,qe,R)=>{"use strict";function o(de,B){if(de){const Oe=de.indexOf(B);0<=Oe&&de.splice(Oe,1)}}R.d(qe,{P:()=>o})},3888:(Lt,qe,R)=>{"use strict";function o(de){const Oe=de(Me=>{Error.call(Me),Me.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}R.d(qe,{d:()=>o})},2806:(Lt,qe,R)=>{"use strict";R.d(qe,{O:()=>Oe,x:()=>B});var o=R(2416);let de=null;function B(Me){if(o.v.useDeprecatedSynchronousErrorHandling){const _e=!de;if(_e&&(de={errorThrown:!1,error:null}),Me(),_e){const{errorThrown:X,error:Ee}=de;if(de=null,X)throw Ee}}else Me()}function Oe(Me){o.v.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=Me)}},9672:(Lt,qe,R)=>{"use strict";function o(de,B,Oe,Me=0,_e=!1){const X=B.schedule(function(){Oe(),_e?de.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(de.add(X),!_e)return X}R.d(qe,{f:()=>o})},4671:(Lt,qe,R)=>{"use strict";function o(de){return de}R.d(qe,{y:()=>o})},1144:(Lt,qe,R)=>{"use strict";R.d(qe,{z:()=>o});const o=de=>de&&"number"==typeof de.length&&"function"!=typeof de},2206:(Lt,qe,R)=>{"use strict";R.d(qe,{D:()=>de});var o=R(576);function de(B){return Symbol.asyncIterator&&(0,o.m)(B?.[Symbol.asyncIterator])}},576:(Lt,qe,R)=>{"use strict";function o(de){return"function"==typeof de}R.d(qe,{m:()=>o})},3670:(Lt,qe,R)=>{"use strict";R.d(qe,{c:()=>B});var o=R(8822),de=R(576);function B(Oe){return(0,de.m)(Oe[o.L])}},6495:(Lt,qe,R)=>{"use strict";R.d(qe,{T:()=>B});var o=R(2202),de=R(576);function B(Oe){return(0,de.m)(Oe?.[o.h])}},8239:(Lt,qe,R)=>{"use strict";R.d(qe,{t:()=>de});var o=R(576);function de(B){return(0,o.m)(B?.then)}},3260:(Lt,qe,R)=>{"use strict";R.d(qe,{L:()=>Oe,Q:()=>B});var o=R(7582),de=R(576);function B(Me){return(0,o.FC)(this,arguments,function*(){const X=Me.getReader();try{for(;;){const{value:Ee,done:xe}=yield(0,o.qq)(X.read());if(xe)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ee)}}finally{X.releaseLock()}})}function Oe(Me){return(0,de.m)(Me?.getReader)}},4482:(Lt,qe,R)=>{"use strict";R.d(qe,{A:()=>de,e:()=>B});var o=R(576);function de(Oe){return(0,o.m)(Oe?.lift)}function B(Oe){return Me=>{if(de(Me))return Me.lift(function(_e){try{return Oe(_e,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Lt,qe,R)=>{"use strict";R.d(qe,{U:()=>B,z:()=>de});var o=R(4671);function de(...Oe){return B(Oe)}function B(Oe){return 0===Oe.length?o.y:1===Oe.length?Oe[0]:function(_e){return Oe.reduce((X,Ee)=>Ee(X),_e)}}},7849:(Lt,qe,R)=>{"use strict";R.d(qe,{h:()=>B});var o=R(2416),de=R(3410);function B(Oe){de.z.setTimeout(()=>{const{onUnhandledError:Me}=o.v;if(!Me)throw Oe;Me(Oe)})}},4532:(Lt,qe,R)=>{"use strict";function o(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(qe,{z:()=>o})},787:(Lt,qe,R)=>{"use strict";R.d(qe,{H:()=>W,a:()=>Oi,b:()=>zn,c:()=>nn,g:()=>Vt,h:()=>ue,p:()=>Se,r:()=>vi});var o=R(5861);let B,Oe,Me,_e=!1,X=!1,Ee=!1,se=!1;const G=typeof window<"u"?window:{},re=G.document||{head:{}},le={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,j,we,Ce)=>J.addEventListener(j,we,Ce),rel:(J,j,we,Ce)=>J.removeEventListener(j,we,Ce),ce:(J,j)=>new CustomEvent(J,j)},Se=J=>Promise.resolve(J),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),oe="http://www.w3.org/1999/xlink",tt=new WeakMap,Ke=(J,j)=>"sc-"+J.$tagName$,Y={},U=J=>"object"==(J=typeof J)||"function"===J,ue=(J,j,...we)=>{let Ce=null,Xe=null,gt=null,dt=!1,xt=!1;const fe=[],me=st=>{for(let Rt=0;Rt<st.length;Rt++)Ce=st[Rt],Array.isArray(Ce)?me(Ce):null!=Ce&&"boolean"!=typeof Ce&&((dt="function"!=typeof J&&!U(Ce))&&(Ce=String(Ce)),dt&&xt?fe[fe.length-1].$text$+=Ce:fe.push(dt?ne(null,Ce):Ce),xt=dt)};if(me(we),j){j.key&&(Xe=j.key),j.name&&(gt=j.name);{const st=j.className||j.class;st&&(j.class="object"!=typeof st?st:Object.keys(st).filter(Rt=>st[Rt]).join(" "))}}const Je=ne(J,null);return Je.$attrs$=j,fe.length>0&&(Je.$children$=fe),Je.$key$=Xe,Je.$name$=gt,Je},ne=(J,j)=>({$flags$:0,$tag$:J,$text$:j,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),W={},ut=(J,j,we,Ce,Xe,gt)=>{if(we!==Ce){let dt=kr(J,j),xt=j.toLowerCase();if("class"===j){const fe=J.classList,me=Ot(we),Je=Ot(Ce);fe.remove(...me.filter(st=>st&&!Je.includes(st))),fe.add(...Je.filter(st=>st&&!me.includes(st)))}else if("style"===j){for(const fe in we)(!Ce||null==Ce[fe])&&(fe.includes("-")?J.style.removeProperty(fe):J.style[fe]="");for(const fe in Ce)(!we||Ce[fe]!==we[fe])&&(fe.includes("-")?J.style.setProperty(fe,Ce[fe]):J.style[fe]=Ce[fe])}else if("key"!==j)if("ref"===j)Ce&&Ce(J);else if(dt||"o"!==j[0]||"n"!==j[1]){const fe=U(Ce);if((dt||fe&&null!==Ce)&&!Xe)try{if(J.tagName.includes("-"))J[j]=Ce;else{const Je=Ce??"";"list"===j?dt=!1:(null==we||J[j]!=Je)&&(J[j]=Je)}}catch{}let me=!1;xt!==(xt=xt.replace(/^xlink\:?/,""))&&(j=xt,me=!0),null==Ce||!1===Ce?(!1!==Ce||""===J.getAttribute(j))&&(me?J.removeAttributeNS(oe,j):J.removeAttribute(j)):(!dt||4&gt||Xe)&&!fe&&(Ce=!0===Ce?"":Ce,me?J.setAttributeNS(oe,j,Ce):J.setAttribute(j,Ce))}else j="-"===j[2]?j.slice(3):kr(G,xt)?xt.slice(2):xt[2]+j.slice(3),we&&le.rel(J,j,we,!1),Ce&&le.ael(J,j,Ce,!1)}},It=/\s/,Ot=J=>J?J.split(It):[],Ye=(J,j,we,Ce)=>{const Xe=11===j.$elm$.nodeType&&j.$elm$.host?j.$elm$.host:j.$elm$,gt=J&&J.$attrs$||Y,dt=j.$attrs$||Y;for(Ce in gt)Ce in dt||ut(Xe,Ce,gt[Ce],void 0,we,j.$flags$);for(Ce in dt)ut(Xe,Ce,gt[Ce],dt[Ce],we,j.$flags$)},z=(J,j,we,Ce)=>{const Xe=j.$children$[we];let dt,xt,fe,gt=0;if(_e||(Ee=!0,"slot"===Xe.$tag$&&(B&&Ce.classList.add(B+"-s"),Xe.$flags$|=Xe.$children$?2:1)),null!==Xe.$text$)dt=Xe.$elm$=re.createTextNode(Xe.$text$);else if(1&Xe.$flags$)dt=Xe.$elm$=re.createTextNode("");else if(dt=Xe.$elm$=re.createElement(2&Xe.$flags$?"slot-fb":Xe.$tag$),Ye(null,Xe,!1),(J=>null!=J)(B)&&dt["s-si"]!==B&&dt.classList.add(dt["s-si"]=B),Xe.$children$)for(gt=0;gt<Xe.$children$.length;++gt)xt=z(J,Xe,gt,dt),xt&&dt.appendChild(xt);return dt["s-hn"]=Me,3&Xe.$flags$&&(dt["s-sr"]=!0,dt["s-cr"]=Oe,dt["s-sn"]=Xe.$name$||"",fe=J&&J.$children$&&J.$children$[we],fe&&fe.$tag$===Xe.$tag$&&J.$elm$&&H(J.$elm$,!1)),dt},H=(J,j)=>{le.$flags$|=1;const we=J.childNodes;for(let Ce=we.length-1;Ce>=0;Ce--){const Xe=we[Ce];Xe["s-hn"]!==Me&&Xe["s-ol"]&&(kt(Xe).insertBefore(Xe,_t(Xe)),Xe["s-ol"].remove(),Xe["s-ol"]=void 0,Ee=!0),j&&H(Xe,j)}le.$flags$&=-2},he=(J,j,we,Ce,Xe,gt)=>{let xt,dt=J["s-cr"]&&J["s-cr"].parentNode||J;for(dt.shadowRoot&&dt.tagName===Me&&(dt=dt.shadowRoot);Xe<=gt;++Xe)Ce[Xe]&&(xt=z(null,we,Xe,J),xt&&(Ce[Xe].$elm$=xt,dt.insertBefore(xt,_t(j))))},Be=(J,j,we,Ce,Xe)=>{for(;j<=we;++j)(Ce=J[j])&&(Xe=Ce.$elm$,ot(Ce),X=!0,Xe["s-ol"]?Xe["s-ol"].remove():H(Xe,!0),Xe.remove())},Pe=(J,j)=>J.$tag$===j.$tag$&&("slot"===J.$tag$?J.$name$===j.$name$:J.$key$===j.$key$),_t=J=>J&&J["s-ol"]||J,kt=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,Ct=(J,j)=>{const we=j.$elm$=J.$elm$,Ce=J.$children$,Xe=j.$children$,dt=j.$text$;let xt;null===dt?("slot"===j.$tag$||Ye(J,j,!1),null!==Ce&&null!==Xe?((J,j,we,Ce)=>{let Tn,Zn,Xe=0,gt=0,dt=0,xt=0,fe=j.length-1,me=j[0],Je=j[fe],st=Ce.length-1,Rt=Ce[0],Gt=Ce[st];for(;Xe<=fe&&gt<=st;)if(null==me)me=j[++Xe];else if(null==Je)Je=j[--fe];else if(null==Rt)Rt=Ce[++gt];else if(null==Gt)Gt=Ce[--st];else if(Pe(me,Rt))Ct(me,Rt),me=j[++Xe],Rt=Ce[++gt];else if(Pe(Je,Gt))Ct(Je,Gt),Je=j[--fe],Gt=Ce[--st];else if(Pe(me,Gt))("slot"===me.$tag$||"slot"===Gt.$tag$)&&H(me.$elm$.parentNode,!1),Ct(me,Gt),J.insertBefore(me.$elm$,Je.$elm$.nextSibling),me=j[++Xe],Gt=Ce[--st];else if(Pe(Je,Rt))("slot"===me.$tag$||"slot"===Gt.$tag$)&&H(Je.$elm$.parentNode,!1),Ct(Je,Rt),J.insertBefore(Je.$elm$,me.$elm$),Je=j[--fe],Rt=Ce[++gt];else{for(dt=-1,xt=Xe;xt<=fe;++xt)if(j[xt]&&null!==j[xt].$key$&&j[xt].$key$===Rt.$key$){dt=xt;break}dt>=0?(Zn=j[dt],Zn.$tag$!==Rt.$tag$?Tn=z(j&&j[gt],we,dt,J):(Ct(Zn,Rt),j[dt]=void 0,Tn=Zn.$elm$),Rt=Ce[++gt]):(Tn=z(j&&j[gt],we,gt,J),Rt=Ce[++gt]),Tn&&kt(me.$elm$).insertBefore(Tn,_t(me.$elm$))}Xe>fe?he(J,null==Ce[st+1]?null:Ce[st+1].$elm$,we,Ce,gt,st):gt>st&&Be(j,Xe,fe)})(we,Ce,j,Xe):null!==Xe?(null!==J.$text$&&(we.textContent=""),he(we,null,j,Xe,0,Xe.length-1)):null!==Ce&&Be(Ce,0,Ce.length-1)):(xt=we["s-cr"])?xt.parentNode.textContent=dt:J.$text$!==dt&&(we.data=dt)},Ut=J=>{const j=J.childNodes;let we,Ce,Xe,gt,dt,xt;for(Ce=0,Xe=j.length;Ce<Xe;Ce++)if(we=j[Ce],1===we.nodeType){if(we["s-sr"])for(dt=we["s-sn"],we.hidden=!1,gt=0;gt<Xe;gt++)if(xt=j[gt].nodeType,j[gt]["s-hn"]!==we["s-hn"]||""!==dt){if(1===xt&&dt===j[gt].getAttribute("slot")){we.hidden=!0;break}}else if(1===xt||3===xt&&""!==j[gt].textContent.trim()){we.hidden=!0;break}Ut(we)}},Yt=[],yt=J=>{let j,we,Ce,Xe,gt,dt,xt=0;const fe=J.childNodes,me=fe.length;for(;xt<me;xt++){if(j=fe[xt],j["s-sr"]&&(we=j["s-cr"])&&we.parentNode)for(Ce=we.parentNode.childNodes,Xe=j["s-sn"],dt=Ce.length-1;dt>=0;dt--)we=Ce[dt],!we["s-cn"]&&!we["s-nr"]&&we["s-hn"]!==j["s-hn"]&&(rt(we,Xe)?(gt=Yt.find(Je=>Je.$nodeToRelocate$===we),X=!0,we["s-sn"]=we["s-sn"]||Xe,gt?gt.$slotRefNode$=j:Yt.push({$slotRefNode$:j,$nodeToRelocate$:we}),we["s-sr"]&&Yt.map(Je=>{rt(Je.$nodeToRelocate$,we["s-sn"])&&(gt=Yt.find(st=>st.$nodeToRelocate$===we),gt&&!Je.$slotRefNode$&&(Je.$slotRefNode$=gt.$slotRefNode$))})):Yt.some(Je=>Je.$nodeToRelocate$===we)||Yt.push({$nodeToRelocate$:we}));1===j.nodeType&&yt(j)}},rt=(J,j)=>1===J.nodeType?null===J.getAttribute("slot")&&""===j||J.getAttribute("slot")===j:J["s-sn"]===j||""===j,ot=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(ot)},Vt=J=>Bi(J).$hostElement$,nn=(J,j,we)=>{const Ce=Vt(J);return{emit:Xe=>Ht(Ce,j,{bubbles:!!(4&we),composed:!!(2&we),cancelable:!!(1&we),detail:Xe})}},Ht=(J,j,we)=>{const Ce=le.ce(j,we);return J.dispatchEvent(Ce),Ce},Tt=(J,j)=>{j&&!J.$onRenderResolve$&&j["s-p"]&&j["s-p"].push(new Promise(we=>J.$onRenderResolve$=we))},dn=(J,j)=>{if(J.$flags$|=16,!(4&J.$flags$))return Tt(J,J.$ancestorComponent$),xn(()=>Un(J,j));J.$flags$|=512},Un=(J,j)=>{const Ce=J.$lazyInstance$;let Xe;return Xe=Yn(Ce,j?"componentWillLoad":"componentWillUpdate"),Ln(Xe,()=>En(J,Ce,j))},En=function(){var J=(0,o.Z)(function*(j,we,Ce){const Xe=j.$hostElement$,dt=Xe["s-rc"];Ce&&(J=>{const j=J.$cmpMeta$,we=J.$hostElement$,Ce=j.$flags$,gt=((J,j,we,Ce)=>{let Xe=Ke(j);const gt=pe.get(Xe);if(J=11===J.nodeType?J:re,gt)if("string"==typeof gt){let xt,dt=tt.get(J=J.head||J);dt||tt.set(J,dt=new Set),dt.has(Xe)||(xt=re.createElement("style"),xt.innerHTML=gt,J.insertBefore(xt,J.querySelector("link")),dt&&dt.add(Xe))}else J.adoptedStyleSheets.includes(gt)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,gt]);return Xe})(we.shadowRoot?we.shadowRoot:we.getRootNode(),j);10&Ce&&(we["s-sc"]=gt,we.classList.add(gt+"-h"))})(j);Zi(j,we),dt&&(dt.map(fe=>fe()),Xe["s-rc"]=void 0);{const fe=Xe["s-p"],me=()=>ci(j);0===fe.length?me():(Promise.all(fe).then(me),j.$flags$|=4,fe.length=0)}});return function(we,Ce,Xe){return J.apply(this,arguments)}}(),Zi=(J,j,we)=>{try{j=j.render(),J.$flags$&=-17,J.$flags$|=2,((J,j)=>{const we=J.$hostElement$,Ce=J.$cmpMeta$,Xe=J.$vnode$||ne(null,null),gt=(J=>J&&J.$tag$===W)(j)?j:ue(null,null,j);if(Me=we.tagName,Ce.$attrsToReflect$&&(gt.$attrs$=gt.$attrs$||{},Ce.$attrsToReflect$.map(([dt,xt])=>gt.$attrs$[xt]=we[dt])),gt.$tag$=null,gt.$flags$|=4,J.$vnode$=gt,gt.$elm$=Xe.$elm$=we.shadowRoot||we,B=we["s-sc"],Oe=we["s-cr"],_e=0!=(1&Ce.$flags$),X=!1,Ct(Xe,gt),le.$flags$|=1,Ee){yt(gt.$elm$);let dt,xt,fe,me,Je,st,Rt=0;for(;Rt<Yt.length;Rt++)dt=Yt[Rt],xt=dt.$nodeToRelocate$,xt["s-ol"]||(fe=re.createTextNode(""),fe["s-nr"]=xt,xt.parentNode.insertBefore(xt["s-ol"]=fe,xt));for(Rt=0;Rt<Yt.length;Rt++)if(dt=Yt[Rt],xt=dt.$nodeToRelocate$,dt.$slotRefNode$){for(me=dt.$slotRefNode$.parentNode,Je=dt.$slotRefNode$.nextSibling,fe=xt["s-ol"];fe=fe.previousSibling;)if(st=fe["s-nr"],st&&st["s-sn"]===xt["s-sn"]&&me===st.parentNode&&(st=st.nextSibling,!st||!st["s-nr"])){Je=st;break}(!Je&&me!==xt.parentNode||xt.nextSibling!==Je)&&xt!==Je&&(!xt["s-hn"]&&xt["s-ol"]&&(xt["s-hn"]=xt["s-ol"].parentNode.nodeName),me.insertBefore(xt,Je))}else 1===xt.nodeType&&(xt.hidden=!0)}X&&Ut(gt.$elm$),le.$flags$&=-2,Yt.length=0})(J,j)}catch(Ce){ai(Ce,J.$hostElement$)}return null},ci=J=>{const we=J.$hostElement$,Xe=J.$lazyInstance$,gt=J.$ancestorComponent$;64&J.$flags$||(J.$flags$|=64,qt(we),Yn(Xe,"componentDidLoad"),J.$onReadyResolve$(we),gt||ui()),J.$onInstanceResolve$(we),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&cn(()=>dn(J,!1)),J.$flags$&=-517},ui=J=>{qt(re.documentElement),cn(()=>Ht(G,"appload",{detail:{namespace:"stripe-elements"}}))},Yn=(J,j,we)=>{if(J&&J[j])try{return J[j](we)}catch(Ce){ai(Ce)}},Ln=(J,j)=>J&&J.then?J.then(j):j(),qt=J=>J.classList.add("hydrated"),Hn=(J,j,we)=>{if(j.$members$){J.watchers&&(j.$watchers$=J.watchers);const Ce=Object.entries(j.$members$),Xe=J.prototype;if(Ce.map(([gt,[dt]])=>{31&dt||2&we&&32&dt?Object.defineProperty(Xe,gt,{get(){return((J,j)=>Bi(this).$instanceValues$.get(j))(0,gt)},set(xt){((J,j,we,Ce)=>{const Xe=Bi(J),gt=Xe.$hostElement$,dt=Xe.$instanceValues$.get(j),xt=Xe.$flags$,fe=Xe.$lazyInstance$;we=((J,j)=>null==J||U(J)?J:4&j?"false"!==J&&(""===J||!!J):1&j?String(J):J)(we,Ce.$members$[j][0]);const me=Number.isNaN(dt)&&Number.isNaN(we);if((!(8&xt)||void 0===dt)&&we!==dt&&!me&&(Xe.$instanceValues$.set(j,we),fe)){if(Ce.$watchers$&&128&xt){const st=Ce.$watchers$[j];st&&st.map(Rt=>{try{fe[Rt](we,dt,j)}catch(Gt){ai(Gt,gt)}})}2==(18&xt)&&dn(Xe,!1)}})(this,gt,xt,j)},configurable:!0,enumerable:!0}):1&we&&64&dt&&Object.defineProperty(Xe,gt,{value(...xt){const fe=Bi(this);return fe.$onInstancePromise$.then(()=>fe.$lazyInstance$[gt](...xt))}})}),1&we){const gt=new Map;Xe.attributeChangedCallback=function(dt,xt,fe){le.jmp(()=>{const me=gt.get(dt);if(this.hasOwnProperty(me))fe=this[me],delete this[me];else if(Xe.hasOwnProperty(me)&&"number"==typeof this[me]&&this[me]==fe)return;this[me]=(null!==fe||"boolean"!=typeof this[me])&&fe})},J.observedAttributes=Ce.filter(([dt,xt])=>15&xt[0]).map(([dt,xt])=>{const fe=xt[1]||dt;return gt.set(fe,dt),512&xt[0]&&j.$attrsToReflect$.push([dt,fe]),fe})}}return J},Kn=function(){var J=(0,o.Z)(function*(j,we,Ce,Xe,gt){if(0==(32&we.$flags$)){{if(we.$flags$|=32,(gt=Ei(Ce)).then){const me=()=>{};gt=yield gt,me()}gt.isProxied||(Ce.$watchers$=gt.watchers,Hn(gt,Ce,2),gt.isProxied=!0);const fe=()=>{};we.$flags$|=8;try{new gt(we)}catch(me){ai(me)}we.$flags$&=-9,we.$flags$|=128,fe(),rn(we.$lazyInstance$)}if(gt.style){let fe=gt.style;const me=Ke(Ce);if(!pe.has(me)){const Je=()=>{};((J,j,we)=>{let Ce=pe.get(J);ye&&we?(Ce=Ce||new CSSStyleSheet,Ce.replace(j)):Ce=j,pe.set(J,Ce)})(me,fe,!!(1&Ce.$flags$)),Je()}}}const dt=we.$ancestorComponent$,xt=()=>dn(we,!0);dt&&dt["s-rc"]?dt["s-rc"].push(xt):xt()});return function(we,Ce,Xe,gt,dt){return J.apply(this,arguments)}}(),rn=J=>{Yn(J,"connectedCallback")},zn=(J,j={})=>{const Ce=[],Xe=j.exclude||[],gt=G.customElements,dt=re.head,xt=dt.querySelector("meta[charset]"),fe=re.createElement("style"),me=[];let Je,st=!0;Object.assign(le,j),le.$resourcesUrl$=new URL(j.resourcesUrl||"./",re.baseURI).href,J.map(Rt=>{Rt[1].map(Gt=>{const Tn={$flags$:Gt[0],$tagName$:Gt[1],$members$:Gt[2],$listeners$:Gt[3]};Tn.$members$=Gt[2],Tn.$attrsToReflect$=[],Tn.$watchers$={};const Zn=Tn.$tagName$,Pn=class extends HTMLElement{constructor(di){super(di),zi(di=this,Tn),1&Tn.$flags$&&di.attachShadow({mode:"open"})}connectedCallback(){Je&&(clearTimeout(Je),Je=null),st?me.push(this):le.jmp(()=>(J=>{if(0==(1&le.$flags$)){const j=Bi(J),we=j.$cmpMeta$,Ce=()=>{};if(1&j.$flags$)rn(j.$lazyInstance$);else{j.$flags$|=1,12&we.$flags$&&(J=>{const j=J["s-cr"]=re.createComment("");j["s-cn"]=!0,J.insertBefore(j,J.firstChild)})(J);{let Xe=J;for(;Xe=Xe.parentNode||Xe.host;)if(Xe["s-p"]){Tt(j,j.$ancestorComponent$=Xe);break}}we.$members$&&Object.entries(we.$members$).map(([Xe,[gt]])=>{if(31&gt&&J.hasOwnProperty(Xe)){const dt=J[Xe];delete J[Xe],J[Xe]=dt}}),Kn(J,j,we)}Ce()}})(this))}disconnectedCallback(){le.jmp(()=>(J=>{if(0==(1&le.$flags$)){const we=Bi(this).$lazyInstance$;Yn(we,"disconnectedCallback")}})())}componentOnReady(){return Bi(this).$onReadyPromise$}};Tn.$lazyBundleId$=Rt[0],!Xe.includes(Zn)&&!gt.get(Zn)&&(Ce.push(Zn),gt.define(Zn,Hn(Pn,Tn,1)))})}),fe.innerHTML=Ce+"{visibility:hidden}.hydrated{visibility:inherit}",fe.setAttribute("data-styles",""),dt.insertBefore(fe,xt?xt.nextSibling:dt.firstChild),st=!1,me.length?me.map(Rt=>Rt.connectedCallback()):le.jmp(()=>Je=setTimeout(ui,30))},Oi=J=>{const j=new URL(J,le.$resourcesUrl$);return j.origin!==G.location.origin?j.href:j.pathname},Di=new WeakMap,Bi=J=>Di.get(J),vi=(J,j)=>Di.set(j.$lazyInstance$=J,j),zi=(J,j)=>{const we={$flags$:0,$hostElement$:J,$cmpMeta$:j,$instanceValues$:new Map};return we.$onInstancePromise$=new Promise(Ce=>we.$onInstanceResolve$=Ce),we.$onReadyPromise$=new Promise(Ce=>we.$onReadyResolve$=Ce),J["s-p"]=[],J["s-rc"]=[],Di.set(J,we)},kr=(J,j)=>j in J,ai=(J,j)=>(0,console.error)(J,j),Qi=new Map,Ei=(J,j,we)=>{const Ce=J.$tagName$.replace(/-/g,"_"),Xe=J.$lazyBundleId$,gt=Qi.get(Xe);return gt?gt[Ce]:R(5764)(`./${Xe}.entry.js`).then(dt=>(Qi.set(Xe,dt),dt[Ce]),ai)},pe=new Map,ce=[],Re=[],et=(J,j)=>we=>{J.push(we),se||(se=!0,j&&4&le.$flags$?cn(Mt):le.raf(Mt))},Ve=J=>{for(let j=0;j<J.length;j++)try{J[j](performance.now())}catch(we){ai(we)}J.length=0},Mt=()=>{Ve(ce),Ve(Re),(se=ce.length>0)&&le.raf(Mt)},cn=J=>Se().then(J),xn=et(Re,!0)},863:(Lt,qe,R)=>{var o={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,8915,9230],"./ion-datetime_3.entry.js":[4959,8915,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function de(B){if(!R.o(o,B))return Promise.resolve().then(()=>{var _e=new Error("Cannot find module '"+B+"'");throw _e.code="MODULE_NOT_FOUND",_e});var Oe=o[B],Me=Oe[0];return Promise.all(Oe.slice(1).map(R.e)).then(()=>R(Me))}de.keys=()=>Object.keys(o),de.id=863,Lt.exports=de},5764:(Lt,qe,R)=>{var o={"./ion-icon.entry.js":[6131,6131],"./stripe-payment-request-button.entry.js":[1225,8592,1225],"./stripe-payment-sheet.entry.js":[5418,5418],"./stripe-payment_2.entry.js":[8618,8592,8618]};function de(B){if(!R.o(o,B))return Promise.resolve().then(()=>{var _e=new Error("Cannot find module '"+B+"'");throw _e.code="MODULE_NOT_FOUND",_e});var Oe=o[B],Me=Oe[0];return Promise.all(Oe.slice(1).map(R.e)).then(()=>R(Me))}de.keys=()=>Object.keys(o),de.id=5764,Lt.exports=de},4650:(Lt,qe,R)=>{"use strict";R.d(qe,{$8M:()=>Oc,$Z:()=>Ma,AFp:()=>_S,ALo:()=>eS,AaK:()=>Ee,Akn:()=>Oa,BQk:()=>jn,CHM:()=>vc,CRH:()=>tO,CZH:()=>fm,CqO:()=>jE,D6c:()=>Uw,DdM:()=>KT,EJc:()=>Cw,EpF:()=>HE,F$t:()=>WE,F4k:()=>zE,FYo:()=>Po,FiY:()=>Xa,G48:()=>mm,Gf:()=>JM,GfV:()=>_0,GkF:()=>Od,Gpc:()=>G,Hsn:()=>qE,JOm:()=>Sr,KtG:()=>Uu,LFG:()=>yi,LMc:()=>zw,LSH:()=>o0,Lbi:()=>_O,Lck:()=>kM,MAs:()=>ws,MMx:()=>tm,NdJ:()=>Jo,OlP:()=>bi,Oqu:()=>Hg,PXZ:()=>DO,Q6J:()=>pl,QGY:()=>hu,QP$:()=>cn,QbO:()=>vO,Qsj:()=>sf,R0b:()=>na,RDi:()=>Kh,Rgc:()=>om,SBq:()=>rf,Sil:()=>ES,Suo:()=>eO,TTD:()=>As,TgZ:()=>Ef,Tol:()=>iT,Udp:()=>Tb,VKq:()=>x_,W1O:()=>_i,WLB:()=>iw,X6Q:()=>K_,XFs:()=>Tt,Xpm:()=>vi,Xts:()=>c0,Y36:()=>Hr,YKP:()=>$T,YNc:()=>UE,Yjl:()=>Re,Yz7:()=>Pe,Z0I:()=>Ut,ZZ4:()=>zf,_Bn:()=>ew,_UZ:()=>gb,_Vd:()=>Tg,_c5:()=>Vw,_uU:()=>sT,aQg:()=>X_,c2e:()=>z_,cJS:()=>kt,cg1:()=>$b,dDg:()=>EO,dqk:()=>yn,eFA:()=>xw,ekj:()=>Sb,eoX:()=>kS,f3M:()=>zc,g9A:()=>bS,h0i:()=>em,hGG:()=>$w,hij:()=>gu,iGM:()=>XM,ifc:()=>an,ip1:()=>Ud,jDz:()=>zT,kEZ:()=>rm,kL8:()=>v_,l5B:()=>BM,lG2:()=>ce,lqb:()=>bd,lri:()=>OS,n5z:()=>Ri,oAB:()=>Qi,oxw:()=>tc,q4F:()=>KC,qFp:()=>cs,qLn:()=>wd,qOj:()=>RE,qZA:()=>Vg,qbA:()=>rw,rWj:()=>CO,s9C:()=>a_,sBO:()=>MO,sIi:()=>Ng,s_b:()=>Fd,soG:()=>pm,tb:()=>wS,tp0:()=>Ja,uIk:()=>xd,vHH:()=>ye,vpe:()=>yl,wAp:()=>kn,xi3:()=>lw,xp6:()=>C0,ynx:()=>Tf,z2F:()=>W_,zSh:()=>p0,zs3:()=>ou});var o=R(7579),de=R(727),B=R(9751),Oe=R(6451),Me=R(3099);function _e(l){for(let c in l)if(l[c]===_e)return c;throw Error("Could not find renamed property on target object.")}function X(l,c){for(const u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=c[u])}function Ee(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Ee).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function xe(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const se=_e({__forward_ref__:_e});function G(l){return l.__forward_ref__=G,l.toString=function(){return Ee(this())},l}function re(l){return le(l)?l():l}function le(l){return"function"==typeof l&&l.hasOwnProperty(se)&&l.__forward_ref__===G}class ye extends Error{constructor(c,u){super(function Qe(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function oe(l){return"string"==typeof l?l:null==l?"":String(l)}function ke(l,c){throw new ye(-201,!1)}function z(l,c){null==l&&function H(l,c,u,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${u} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function Pe(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function kt(l){return{providers:l.providers||[],imports:l.imports||[]}}function Ct(l){return Yt(l,vt)||Yt(l,nn)}function Ut(l){return null!==Ct(l)}function Yt(l,c){return l.hasOwnProperty(c)?l[c]:null}function ot(l){return l&&(l.hasOwnProperty(Vt)||l.hasOwnProperty(Ht))?l[Vt]:null}const vt=_e({\u0275prov:_e}),Vt=_e({\u0275inj:_e}),nn=_e({ngInjectableDef:_e}),Ht=_e({ngInjectorDef:_e});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let dn;function En(l){const c=dn;return dn=l,c}function Zi(l,c,u){const h=Ct(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Tt.Optional?null:void 0!==c?c:void ke(Ee(l))}function ui(l){return{toString:l}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),an=(()=>{return(l=an||(an={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",an;var l})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kn={},rn=[],Qn=_e({\u0275cmp:_e}),Fn=_e({\u0275dir:_e}),Cr=_e({\u0275pipe:_e}),zn=_e({\u0275mod:_e}),Oi=_e({\u0275fac:_e}),Di=_e({__NG_ELEMENT_ID__:_e});let Bi=0;function vi(l){return ui(()=>{const u=!0===l.standalone,h={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||rn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||an.Emulated,id:"c"+Bi++,styles:l.styles||rn,_:null,setInput:null,schemas:l.schemas||null,tView:null},_=l.dependencies,w=l.features;return p.inputs=pe(l.inputs,h),p.outputs=pe(l.outputs),w&&w.forEach(T=>T(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(kr).filter(ai):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(Mt).filter(ai):null,p})}function kr(l){return et(l)||Ve(l)}function ai(l){return null!==l}function Qi(l){return ui(()=>({type:l.type,bootstrap:l.bootstrap||rn,declarations:l.declarations||rn,imports:l.imports||rn,exports:l.exports||rn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function pe(l,c){if(null==l)return Kn;const u={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=h,c&&(c[p]=_)}return u}const ce=vi;function Re(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function et(l){return l[Qn]||null}function Ve(l){return l[Fn]||null}function Mt(l){return l[Cr]||null}function cn(l){const c=et(l)||Ve(l)||Mt(l);return null!==c&&c.standalone}function xn(l,c){const u=l[zn]||null;if(!u&&!0===c)throw new Error(`Type ${Ee(l)} does not have '\u0275mod' property.`);return u}function ki(l){return Array.isArray(l)&&"object"==typeof l[1]}function L(l){return Array.isArray(l)&&!0===l[1]}function q(l){return 0!=(8&l.flags)}function Le(l){return 2==(2&l.flags)}function Ne(l){return 1==(1&l.flags)}function K(l){return null!==l.template}function ge(l){return 0!=(256&l[2])}function vo(l,c){return l.hasOwnProperty(Oi)?l[Oi]:null}class Tp{constructor(c,u,h){this.previousValue=c,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function As(){return hc}function hc(l){return l.type.prototype.ngOnChanges&&(l.setInput=Bu),Sl}function Sl(){const l=Sp(this),c=l?.current;if(c){const u=l.previous;if(u===Kn)l.previous=c;else for(let h in c)u[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Bu(l,c,u,h){const p=Sp(l)||function Gi(l,c){return l[fc]=c}(l,{previous:Kn,current:null}),_=p.current||(p.current={}),w=p.previous,T=this.declaredInputs[u],S=w[T];_[T]=new Tp(S&&S.currentValue,c,w===Kn),l[h]=c}As.ngInherit=!0;const fc="__ngSimpleChanges__";function Sp(l){return l[fc]||null}function Xi(l){for(;Array.isArray(l);)l=l[0];return l}function Ms(l,c){return Xi(c[l])}function is(l,c){return Xi(c[l.index])}function Dl(l,c){return l.data[c]}function Ua(l,c){return l[c]}function Ji(l,c){const u=c[l];return ki(u)?u:u[0]}function ua(l){return 64==(64&l[2])}function gs(l,c){return null==c?null:l[c]}function Uo(l){l[18]=0}function Fr(l,c){l[5]+=c;let u=l,h=l[3];for(;null!==h&&(1===c&&1===u[5]||-1===c&&0===u[5]);)h[5]+=c,u=h,h=h[3]}const Sn={lFrame:Wu(null),bindingsEnabled:!0};function gh(){return Sn.bindingsEnabled}function bt(){return Sn.lFrame.lView}function qn(){return Sn.lFrame.tView}function vc(l){return Sn.lFrame.contextLView=l,l[8]}function Uu(l){return Sn.lFrame.contextLView=null,l}function Wi(){let l=bc();for(;null!==l&&64===l.type;)l=l.parent;return l}function bc(){return Sn.lFrame.currentTNode}function ms(l,c){const u=Sn.lFrame;u.currentTNode=l,u.isParent=c}function Ha(){return Sn.lFrame.isParent}function Hu(){Sn.lFrame.isParent=!1}function Kr(){const l=Sn.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function wo(){return Sn.lFrame.bindingIndex++}function _s(l){const c=Sn.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,u}function ly(l,c){const u=Sn.lFrame;u.bindingIndex=u.bindingRootIndex=l,ju(c)}function ju(l){Sn.lFrame.currentDirectiveIndex=l}function wc(){return Sn.lFrame.currentQueryIndex}function Zr(l){Sn.lFrame.currentQueryIndex=l}function Gu(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ml(l,c,u){if(u&Tt.SkipSelf){let p=c,_=l;for(;!(p=p.parent,null!==p||u&Tt.Host||(p=Gu(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;c=p,l=_}const h=Sn.lFrame=fa();return h.currentTNode=c,h.lView=l,!0}function Ol(l){const c=fa(),u=l[1];Sn.lFrame=c,c.currentTNode=u.firstChild,c.lView=l,c.tView=u,c.contextLView=l,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function fa(){const l=Sn.lFrame,c=null===l?null:l.child;return null===c?Wu(l):c}function Wu(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function kl(){const l=Sn.lFrame;return Sn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const yh=kl;function ja(){const l=kl();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function hi(){return Sn.lFrame.selectedIndex}function Io(l){Sn.lFrame.selectedIndex=l}function Pi(){const l=Sn.lFrame;return Dl(l.tView,l.selectedIndex)}function pa(l,c){for(let u=c.directiveStart,h=c.directiveEnd;u<h;u++){const _=l.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:T,ngAfterViewInit:S,ngAfterViewChecked:O,ngOnDestroy:F}=_;w&&(l.contentHooks||(l.contentHooks=[])).push(-u,w),T&&((l.contentHooks||(l.contentHooks=[])).push(u,T),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(u,T)),S&&(l.viewHooks||(l.viewHooks=[])).push(-u,S),O&&((l.viewHooks||(l.viewHooks=[])).push(u,O),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(u,O)),null!=F&&(l.destroyHooks||(l.destroyHooks=[])).push(u,F)}}function Pl(l,c,u){Rl(l,c,3,u)}function Ga(l,c,u,h){(3&l[2])===u&&Rl(l,c,u,h)}function wh(l,c){let u=l[2];(3&u)===c&&(u&=2047,u+=1,l[2]=u)}function Rl(l,c,u,h){const _=h??-1,w=c.length-1;let T=0;for(let S=void 0!==h?65535&l[18]:0;S<w;S++)if("number"==typeof c[S+1]){if(T=c[S],null!=h&&T>=h)break}else c[S]<0&&(l[18]+=65536),(T<_||-1==_)&&(Mp(l,u,c,S),l[18]=(4294901760&l[18])+S+2),S++}function Mp(l,c,u,h){const p=u[h]<0,_=u[h+1],T=l[p?-u[h]:u[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Nl{constructor(c,u,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Sc(l,c,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const _=u[h++],w=u[h++],T=u[h++];l.setAttribute(c,w,T,_)}else{const _=p,w=u[++h];Pp(_)?l.setProperty(c,_,w):l.setAttribute(c,_,w),h++}}return h}function Dc(l){return 3===l||4===l||6===l}function Pp(l){return 64===l.charCodeAt(0)}function Wa(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let u=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?u=p:0===u||Ch(l,u,p,null,-1===u||2===u?c[++h]:null)}}return l}function Ch(l,c,u,h,p){let _=0,w=l.length;if(-1===c)w=-1;else for(;_<l.length;){const T=l[_++];if("number"==typeof T){if(T===c){w=-1;break}if(T>c){w=_-1;break}}}for(;_<l.length;){const T=l[_];if("number"==typeof T)break;if(T===u){if(null===h)return void(null!==p&&(l[_+1]=p));if(h===l[_+1])return void(l[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==w&&(l.splice(w,0,c),_=w+1),l.splice(_++,0,u),null!==h&&l.splice(_++,0,h),null!==p&&l.splice(_++,0,p)}function Qu(l){return-1!==l}function Ll(l){return 32767&l}function Xs(l,c){let u=function Rp(l){return l>>16}(l),h=c;for(;u>0;)h=h[15],u--;return h}let Fl=!0;function Eo(l){const c=Fl;return Fl=l,c}let Bl=0;const Os={};function qa(l,c){const u=ma(l,c);if(-1!==u)return u;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,Ju(h.data,l),Ju(c,null),Ju(h.blueprint,null));const p=ya(l,c),_=l.injectorIndex;if(Qu(p)){const w=Ll(p),T=Xs(p,c),S=T[1].data;for(let O=0;O<8;O++)c[_+O]=T[w+O]|S[w+O]}return c[_+8]=p,_}function Ju(l,c){l.push(0,0,0,0,0,0,0,0,c)}function ma(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function ya(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let u=0,h=null,p=c;for(;null!==p;){if(h=Fp(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Vl(l,c,u){!function Xu(l,c,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Di)&&(h=u[Di]),null==h&&(h=u[Di]=Bl++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,u)}function Ac(l,c,u){if(u&Tt.Optional||void 0!==l)return l;ke()}function Np(l,c,u,h){if(u&Tt.Optional&&void 0===h&&(h=null),0==(u&(Tt.Self|Tt.Host))){const p=l[9],_=En(void 0);try{return p?p.get(c,h,u&Tt.Optional):Zi(c,h,u&Tt.Optional)}finally{En(_)}}return Ac(h,0,u)}function Ya(l,c,u,h=Tt.Default,p){if(null!==l){if(1024&c[2]){const w=function Ul(l,c,u,h,p){let _=l,w=c;for(;null!==_&&null!==w&&1024&w[2]&&!(256&w[2]);){const T=Ka(_,w,u,h|Tt.Self,Os);if(T!==Os)return T;let S=_.parent;if(!S){const O=w[21];if(O){const F=O.get(u,Os,h);if(F!==Os)return F}S=Fp(w),w=w[15]}_=S}return p}(l,c,u,h,Os);if(w!==Os)return w}const _=Ka(l,c,u,h,Os);if(_!==Os)return _}return Np(c,u,h,p)}function Ka(l,c,u,h,p){const _=function va(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Di)?l[Di]:void 0;return"number"==typeof c?c>=0?255&c:dy:c}(u);if("function"==typeof _){if(!Ml(c,l,h))return h&Tt.Host?Ac(p,0,h):Np(c,u,h,p);try{const w=_(h);if(null!=w||h&Tt.Optional)return w;ke()}finally{yh()}}else if("number"==typeof _){let w=null,T=ma(l,c),S=-1,O=h&Tt.Host?c[16][6]:null;for((-1===T||h&Tt.SkipSelf)&&(S=-1===T?ya(l,c):c[T+8],-1!==S&&Mc(h,!1)?(w=c[1],T=Ll(S),c=Xs(S,c)):T=-1);-1!==T;){const F=c[1];if(Lp(_,T,F.data)){const Q=uy(T,c,u,w,h,O);if(Q!==Os)return Q}S=c[T+8],-1!==S&&Mc(h,c[1].data[T+8]===O)&&Lp(_,T,c)?(w=F,T=Ll(S),c=Xs(S,c)):T=-1}}return p}function uy(l,c,u,h,p,_){const w=c[1],T=w.data[l+8],F=eo(T,w,u,null==h?Le(T)&&Fl:h!=w&&0!=(3&T.type),p&Tt.Host&&_===T);return null!==F?$l(c,w,F,T):Os}function eo(l,c,u,h,p){const _=l.providerIndexes,w=c.data,T=1048575&_,S=l.directiveStart,F=_>>20,Te=p?T+F:l.directiveEnd;for(let We=h?T:T+F;We<Te;We++){const mt=w[We];if(We<S&&u===mt||We>=S&&mt.type===u)return We}if(p){const We=w[S];if(We&&K(We)&&We.type===u)return S}return null}function $l(l,c,u,h){let p=l[u];const _=c.data;if(function Ec(l){return l instanceof Nl}(p)){const w=p;w.resolving&&function Ae(l,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new ye(-200,`Circular dependency in DI detected for ${l}${u}`)}(function ie(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():oe(l)}(_[u]));const T=Eo(w.canSeeViewProviders);w.resolving=!0;const S=w.injectImpl?En(w.injectImpl):null;Ml(l,h,Tt.Default);try{p=l[u]=w.factory(void 0,_,l,h),c.firstCreatePass&&u>=h.directiveStart&&function Yu(l,c,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=c.type.prototype;if(h){const w=hc(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(l,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-l,p),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(l,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,_))}(u,_[u],c)}finally{null!==S&&En(S),Eo(T),w.resolving=!1,yh()}}return p}function Lp(l,c,u){return!!(u[c+(l>>5)]&1<<l)}function Mc(l,c){return!(l&Tt.Self||l&Tt.Host&&c)}class to{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,h){return Ya(this._tNode,this._lView,c,h,u)}}function dy(){return new to(Wi(),bt())}function Ri(l){return ui(()=>{const c=l.prototype.constructor,u=c[Oi]||ed(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const _=p[Oi]||ed(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function ed(l){return le(l)?()=>{const c=ed(re(l));return c&&c()}:vo(l)}function Fp(l){const c=l[1],u=c.type;return 2===u?c.declTNode:1===u?l[6]:null}function Oc(l){return function _a(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const u=l.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const _=u[p];if(Dc(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(_===c)return u[p+1];p+=2}}}return null}(Wi(),l)}const Yi="__parameters__";function So(l,c,u){return ui(()=>{const h=function Za(l){return function(...u){if(l){const h=l(...u);for(const p in h)this[p]=h[p]}}}(c);function p(..._){if(this instanceof p)return h.apply(this,_),this;const w=new p(..._);return T.annotation=w,T;function T(S,O,F){const Q=S.hasOwnProperty(Yi)?S[Yi]:Object.defineProperty(S,Yi,{value:[]})[Yi];for(;Q.length<=F;)Q.push(null);return(Q[F]=Q[F]||[]).push(w),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class bi{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Pe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sr(l,c){void 0===c&&(c=l);for(let u=0;u<l.length;u++){let h=l[u];Array.isArray(h)?(c===l&&(c=l.slice(0,u)),sr(h,c)):c!==l&&c.push(h)}return c}function Ws(l,c){l.forEach(u=>Array.isArray(u)?Ws(u,c):c(u))}function nd(l,c,u){c>=l.length?l.push(u):l.splice(c,0,u)}function id(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function Qa(l,c){const u=[];for(let h=0;h<l;h++)u.push(c);return u}function vs(l,c,u){let h=jl(l,c);return h>=0?l[1|h]=u:(h=~h,function hy(l,c,u,h){let p=l.length;if(p==c)l.push(u,h);else if(1===p)l.push(h,l[0]),l[0]=u;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=u,l[c+1]=h}}(l,h,c,u)),h}function Fc(l,c){const u=jl(l,c);if(u>=0)return l[1|u]}function jl(l,c){return function jp(l,c,u){let h=0,p=l.length>>u;for(;p!==h;){const _=h+(p-h>>1),w=l[_<<u];if(c===w)return _<<u;w>c?p=_:h=_+1}return~(p<<u)}(l,c,1)}const er={},Ni="__NG_DI_FLAG__",Li="ngTempTokenPath",Vr=/\n/gm,Tr="__source";let vn;function $r(l){const c=vn;return vn=l,c}function Hc(l,c=Tt.Default){if(void 0===vn)throw new ye(-203,!1);return null===vn?Zi(l,void 0,c):vn.get(l,c&Tt.Optional?null:void 0,c)}function yi(l,c=Tt.Default){return(function Un(){return dn}()||Hc)(re(l),c)}function zc(l,c=Tt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),yi(l,c)}function Ah(l){const c=[];for(let u=0;u<l.length;u++){const h=re(l[u]);if(Array.isArray(h)){if(0===h.length)throw new ye(900,!1);let p,_=Tt.Default;for(let w=0;w<h.length;w++){const T=h[w],S=sd(T);"number"==typeof S?-1===S?p=T.token:_|=S:p=T}c.push(yi(p,_))}else c.push(yi(h))}return c}function wa(l,c){return l[Ni]=c,l.prototype[Ni]=c,l}function sd(l){return l[Ni]}const Xa=wa(So("Optional"),8),Ja=wa(So("SkipSelf"),4);var Sr=(()=>((Sr=Sr||{})[Sr.Important=1]="Important",Sr[Sr.DashCase=2]="DashCase",Sr))();const Z=new Map;let De=0;const xi="__ngContext__";function Ki(l,c){ki(c)?(l[xi]=c[20],function at(l){Z.set(l[20],l)}(c)):l[xi]=c}function Uh(l,c){return undefined(l,c)}function gd(l){const c=l[3];return L(c)?c[3]:c}function Xp(l){return tl(l[13])}function wy(l){return tl(l[4])}function tl(l){for(;null!==l&&!L(l);)l=l[4];return l}function Jc(l,c,u,h,p){if(null!=h){let _,w=!1;L(h)?_=h:ki(h)&&(w=!0,h=h[0]);const T=Xi(h);0===l&&null!==u?null==p?eu(c,u,T):Wo(c,u,T,p||null,!0):1===l&&null!==u?Wo(c,u,T,p||null,!0):2===l?function ug(l,c,u){const h=yd(l,c);h&&function og(l,c,u,h){l.removeChild(c,u,h)}(l,h,c,u)}(c,T,w):3===l&&c.destroyNode(T),null!=_&&function _d(l,c,u,h,p){const _=u[7];_!==Xi(u)&&Jc(c,l,h,_,p);for(let T=10;T<u.length;T++){const S=u[T];tu(S[1],S,l,c,h,_)}}(c,l,_,u,p)}}function eg(l,c,u){return l.createElement(c,u)}function Cy(l,c){const u=l[9],h=u.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,Fr(p,-1)),u.splice(h,1)}function ig(l,c){if(l.length<=10)return;const u=10+c,h=l[u];if(h){const p=h[17];null!==p&&p!==l&&Cy(p,h),c>0&&(l[u-1][4]=h[4]);const _=id(l,10+c);!function Xv(l,c){tu(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const w=_[19];null!==w&&w.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function n0(l,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&tu(l,c,u,3,null,null),function e0(l){let c=l[13];if(!c)return rg(l[1],l);for(;c;){let u=null;if(ki(c))u=c[13];else{const h=c[10];h&&(u=h)}if(!u){for(;c&&!c[4]&&c!==l;)ki(c)&&rg(c[1],c),c=c[3];null===c&&(c=l),ki(c)&&rg(c[1],c),u=c&&c[4]}c=u}}(c)}}function rg(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function sg(l,c){let u;if(null!=l&&null!=(u=l.destroyHooks))for(let h=0;h<u.length;h+=2){const p=c[u[h]];if(!(p instanceof Nl)){const _=u[h+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const T=p[_[w]],S=_[w+1];try{S.call(T)}finally{}}else try{_.call(p)}finally{}}}}(l,c),function Ey(l,c){const u=l.cleanup,h=c[7];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+1],T="function"==typeof w?w(c):Xi(c[w]),S=h[p=u[_+2]],O=u[_+3];"boolean"==typeof O?T.removeEventListener(u[_],S,O):O>=0?h[p=O]():h[p=-O].unsubscribe(),_+=2}else{const w=h[p=u[_+1]];u[_].call(w)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&L(c[3])){u!==c[3]&&Cy(u,c);const h=c[19];null!==h&&h.detachView(l)}!function $t(l){Z.delete(l[20])}(c)}}function Hh(l,c,u){return function Ta(l,c,u){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return u[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===an.None||p===an.Emulated)return null}return is(h,u)}(l,c.parent,u)}function Wo(l,c,u,h,p){l.insertBefore(c,u,h,p)}function eu(l,c,u){l.appendChild(c,u)}function zh(l,c,u,h,p){null!==h?Wo(l,c,u,h,p):eu(l,c,u)}function yd(l,c){return l.parentNode(c)}function lg(l,c,u){return Gh(l,c,u)}let Yl,Gh=function jh(l,c,u){return 40&l.type?is(l,u):null};function qo(l,c,u,h){const p=Hh(l,h,c),_=c[11],T=lg(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)zh(_,p,u[S],T,!1);else zh(_,p,u,T,!1)}function Sa(l,c){if(null!==c){const u=c.type;if(3&u)return is(c,l);if(4&u)return cg(-1,l[c.index]);if(8&u){const h=c.child;if(null!==h)return Sa(l,h);{const p=l[c.index];return L(p)?cg(-1,p):Xi(p)}}if(32&u)return Uh(c,l)()||Xi(l[c.index]);{const h=Dy(l,c);return null!==h?Array.isArray(h)?h[0]:Sa(gd(l[16]),h):Sa(l,c.next)}}return null}function Dy(l,c){return null!==c?l[16][6].projection[c.projection]:null}function cg(l,c){const u=10+l+1;if(u<c.length){const h=c[u],p=h[1].firstChild;if(null!==p)return Sa(h,p)}return c[7]}function Wh(l,c,u,h,p,_,w){for(;null!=u;){const T=h[u.index],S=u.type;if(w&&0===c&&(T&&Ki(Xi(T),h),u.flags|=4),64!=(64&u.flags))if(8&S)Wh(l,c,u.child,h,p,_,!1),Jc(c,l,p,T,_);else if(32&S){const O=Uh(u,h);let F;for(;F=O();)Jc(c,l,p,F,_);Jc(c,l,p,T,_)}else 16&S?qh(l,c,h,u,p,_):Jc(c,l,p,T,_);u=w?u.projectionNext:u.next}}function tu(l,c,u,h,p,_){Wh(u,h,l.firstChild,c,p,_,!1)}function qh(l,c,u,h,p,_){const w=u[16],S=w[6].projection[h.projection];if(Array.isArray(S))for(let O=0;O<S.length;O++)Jc(c,l,p,S[O],_);else Wh(l,c,S,w[3],p,_,!0)}function Yh(l,c,u){l.setAttribute(c,"style",u)}function hg(l,c,u){""===u?l.removeAttribute(c,"class"):l.setAttribute(c,"class",u)}function Kh(l){Yl=l}class yg{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ur(l){return l instanceof yg?l.changingThisBreaksApplicationSecurity:l}const y=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ar=(()=>((ar=ar||{})[ar.NONE=0]="NONE",ar[ar.HTML=1]="HTML",ar[ar.STYLE=2]="STYLE",ar[ar.SCRIPT=3]="SCRIPT",ar[ar.URL=4]="URL",ar[ar.RESOURCE_URL=5]="RESOURCE_URL",ar))();function o0(l){const c=function su(){const l=bt();return l&&l[12]}();return c?c.sanitize(ar.URL,l)||"":function Yo(l,c){const u=function iu(l){return l instanceof yg&&l.getTypeName()||null}(l);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}(l,"URL")?Ur(l):function C(l){return(l=String(l)).match(y)?l:"unsafe:"+l}(oe(l))}const c0=new bi("ENVIRONMENT_INITIALIZER"),u0=new bi("INJECTOR",-1),UC=new bi("INJECTOR_DEF_TYPES");class gA{get(c,u=er){if(u===er){const h=new Error(`NullInjectorError: No provider for ${Ee(c)}!`);throw h.name="NullInjectorError",h}return u}}function d0(...l){return{\u0275providers:mA(0,l)}}function mA(l,...c){const u=[],h=new Set;let p;return Ws(c,_=>{const w=_;h0(w,u,[],h)&&(p||(p=[]),p.push(w))}),void 0!==p&&HC(p,u),u}function HC(l,c){for(let u=0;u<l.length;u++){const{providers:p}=l[u];Ws(p,_=>{c.push(_)})}}function h0(l,c,u,h){if(!(l=re(l)))return!1;let p=null,_=ot(l);const w=!_&&et(l);if(_||w){if(w&&!w.standalone)return!1;p=l}else{const S=l.ngModule;if(_=ot(S),!_)return!1;p=S}const T=h.has(p);if(w){if(T)return!1;if(h.add(p),w.dependencies){const S="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const O of S)h0(O,c,u,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let O;h.add(p);try{Ws(_.imports,F=>{h0(F,c,u,h)&&(O||(O=[]),O.push(F))})}finally{}void 0!==O&&HC(O,c)}if(!T){const O=vo(p)||(()=>new p);c.push({provide:p,useFactory:O,deps:rn},{provide:UC,useValue:p,multi:!0},{provide:c0,useValue:()=>yi(p),multi:!0})}const S=_.providers;null==S||T||Ws(S,F=>{c.push(F)})}}return p!==l&&void 0!==l.providers}const f0=_e({provide:String,useValue:_e});function Ry(l){return null!==l&&"object"==typeof l&&f0 in l}function vd(l){return"function"==typeof l}const p0=new bi("Set Injector scope."),Ny={},bA={};let Ly;function Fy(){return void 0===Ly&&(Ly=new gA),Ly}class bd{}class g0 extends bd{constructor(c,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(c,w=>this.processProvider(w)),this.records.set(u0,tf(void 0,this)),p.has("environment")&&this.records.set(bd,tf(void 0,this));const _=this.records.get(p0);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(UC.multi,rn,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=$r(this),h=En(void 0);try{return c()}finally{$r(u),En(h)}}get(c,u=er,h=Tt.Default){this.assertNotDestroyed();const p=$r(this),_=En(void 0);try{if(!(h&Tt.SkipSelf)){let T=this.records.get(c);if(void 0===T){const S=function CA(l){return"function"==typeof l||"object"==typeof l&&l instanceof bi}(c)&&Ct(c);T=S&&this.injectableDefInScope(S)?tf(m0(c),Ny):null,this.records.set(c,T)}if(null!=T)return this.hydrate(c,T)}return(h&Tt.Self?Fy():this.parent).get(c,u=h&Tt.Optional&&u===er?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[Li]=w[Li]||[]).unshift(Ee(c)),p)throw w;return function jc(l,c,u,h){const p=l[Li];throw c[Tr]&&p.unshift(c[Tr]),l.message=function Ia(l,c,u,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=Ee(c);if(Array.isArray(c))p=c.map(Ee).join(" -> ");else if("object"==typeof c){let _=[];for(let w in c)if(c.hasOwnProperty(w)){let T=c[w];_.push(w+":"+("string"==typeof T?JSON.stringify(T):Ee(T)))}p=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${l.replace(Vr,"\n  ")}`}("\n"+l.message,p,u,h),l.ngTokenPath=p,l[Li]=null,l}(w,c,"R3InjectorError",this.source)}throw w}finally{En(_),$r(p)}}resolveInjectorInitializers(){const c=$r(this),u=En(void 0);try{const h=this.get(c0.multi,rn,Tt.Self);for(const p of h)p()}finally{$r(c),En(u)}}toString(){const c=[],u=this.records;for(const h of u.keys())c.push(Ee(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(c){let u=vd(c=re(c))?c:re(c&&c.provide);const h=function wA(l){return Ry(l)?tf(void 0,l.useValue):tf(jC(l),Ny)}(c);if(vd(c)||!0!==c.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=tf(void 0,Ny,!0),p.factory=()=>Ah(p.multi),this.records.set(u,p)),u=c,p.multi.push(c)}this.records.set(u,h)}hydrate(c,u){return u.value===Ny&&(u.value=bA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function GC(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=re(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function m0(l){const c=Ct(l),u=null!==c?c.factory:vo(l);if(null!==u)return u;if(l instanceof bi)throw new ye(204,!1);if(l instanceof Function)return function y0(l){const c=l.length;if(c>0)throw Qa(c,"?"),new ye(204,!1);const u=function yt(l){const c=l&&(l[vt]||l[nn]);if(c){const u=function rt(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(l);return null!==u?()=>u.factory(l):()=>new l}(l);throw new ye(204,!1)}function jC(l,c,u){let h;if(vd(l)){const p=re(l);return vo(p)||m0(p)}if(Ry(l))h=()=>re(l.useValue);else if(function zC(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...Ah(l.deps||[]));else if(function _A(l){return!(!l||!l.useExisting)}(l))h=()=>yi(re(l.useExisting));else{const p=re(l&&(l.useClass||l.provide));if(!function IA(l){return!!l.deps}(l))return vo(p)||m0(p);h=()=>new p(...Ah(l.deps))}return h}function tf(l,c,u=!1){return{factory:l,value:c,multi:u?[]:void 0}}function Ko(l){return!!l.\u0275providers}function Cg(l,c){for(const u of l)Array.isArray(u)?Cg(u,c):Ko(u)?Cg(u.\u0275providers,c):c(u)}class By{}class TA{resolveComponentFactory(c){throw function EA(l){const c=Error(`No component factory found for ${Ee(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Tg=(()=>{class l{}return l.NULL=new TA,l})();function Vy(){return nf(Wi(),bt())}function nf(l,c){return new rf(is(l,c))}let rf=(()=>{class l{constructor(u){this.nativeElement=u}}return l.__NG_ELEMENT_ID__=Vy,l})();function YC(l){return l instanceof rf?l.nativeElement:l}class Po{}let sf=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function DA(){const l=bt(),u=Ji(Wi().index,l);return(ki(u)?u:l)[11]}(),l})(),xA=(()=>{class l{}return l.\u0275prov=Pe({token:l,providedIn:"root",factory:()=>null}),l})();class _0{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const KC=new _0("14.3.0"),$y={};function v0(l){return l.ngOriginalError}class wd{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&v0(c);for(;u&&v0(u);)u=v0(u);return u||null}}function sl(l){return l instanceof Function?l():l}function eE(l,c,u){let h=l.length;for(;;){const p=l.indexOf(c,u);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const _=c.length;if(p+_===h||l.charCodeAt(p+_)<=32)return p}u=p+1}}const b0="ng-template";function w0(l,c,u){let h=0;for(;h<l.length;){let p=l[h++];if(u&&"class"===p){if(p=l[h],-1!==eE(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function I0(l){return 4===l.type&&l.value!==b0}function LA(l,c,u){return c===(4!==l.type||u?l.value:b0)}function BN(l,c,u){let h=4;const p=l.attrs||[],_=function BA(l){for(let c=0;c<l.length;c++)if(Dc(l[c]))return c;return l.length}(p);let w=!1;for(let T=0;T<c.length;T++){const S=c[T];if("number"!=typeof S){if(!w)if(4&h){if(h=2|1&h,""!==S&&!LA(l,S,u)||""===S&&1===c.length){if(ol(h))return!1;w=!0}}else{const O=8&h?S:c[++T];if(8&h&&null!==l.attrs){if(!w0(l.attrs,O,u)){if(ol(h))return!1;w=!0}continue}const Q=VN(8&h?"class":S,p,I0(l),u);if(-1===Q){if(ol(h))return!1;w=!0;continue}if(""!==O){let Te;Te=Q>_?"":p[Q+1].toLowerCase();const We=8&h?Te:null;if(We&&-1!==eE(We,O,0)||2&h&&O!==Te){if(ol(h))return!1;w=!0}}}}else{if(!w&&!ol(h)&&!ol(S))return!1;if(w&&ol(S))continue;w=!1,h=S|1&h}}return ol(h)||w}function ol(l){return 0==(1&l)}function VN(l,c,u,h){if(null===c)return-1;let p=0;if(h||!u){let _=!1;for(;p<c.length;){const w=c[p];if(w===l)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let T=c[++p];for(;"string"==typeof T;)T=c[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function VA(l,c){let u=l.indexOf(4);if(u>-1)for(u++;u<l.length;){const h=l[u];if("number"==typeof h)return-1;if(h===c)return u;u++}return-1}(c,l)}function tE(l,c,u=!1){for(let h=0;h<c.length;h++)if(BN(l,c[h],u))return!0;return!1}function nE(l,c){e:for(let u=0;u<c.length;u++){const h=c[u];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function iE(l,c){return l?":not("+c.trim()+")":c}function Sg(l){let c=l[0],u=1,h=2,p="",_=!1;for(;u<l.length;){let w=l[u];if("string"==typeof w)if(2&h){const T=l[++u];p+="["+w+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?p+="."+w:4&h&&(p+=" "+w);else""!==p&&!ol(w)&&(c+=iE(_,p),p=""),h=w,_=_||!ol(h);u++}return""!==p&&(c+=iE(_,p)),c}const Vn={};function C0(l){rE(qn(),bt(),hi()+l,!1)}function rE(l,c,u,h){if(!h)if(3==(3&c[2])){const _=l.preOrderCheckHooks;null!==_&&Pl(c,_,u)}else{const _=l.preOrderHooks;null!==_&&Ga(c,_,0,u)}Io(u)}function lE(l,c=null,u=null,h){const p=Ql(l,c,u,h);return p.resolveInjectorInitializers(),p}function Ql(l,c=null,u=null,h,p=new Set){const _=[u||rn,d0(l)];return h=h||("object"==typeof l?void 0:Ee(l)),new g0(_,c||Fy(),h||null,p)}let ou=(()=>{class l{static create(u,h){if(Array.isArray(u))return lE({name:""},h,u,"");{const p=u.name??"";return lE({name:p},u.parent,u.providers,p)}}}return l.THROW_IF_NOT_FOUND=er,l.NULL=new gA,l.\u0275prov=Pe({token:l,providedIn:"any",factory:()=>yi(u0)}),l.__NG_ELEMENT_ID__=-1,l})();function Hr(l,c=Tt.Default){const u=bt();return null===u?yi(l,c):Ya(Wi(),u,re(l),c)}function Ma(){throw new Error("invalid")}function R0(l,c){return l<<17|c<<2}function ll(l){return l>>17&32767}function Ag(l){return 2|l}function Zo(l){return(131068&l)>>2}function L0(l,c){return-131069&l|c<<2}function F0(l){return 1|l}function l1(l,c){const u=l.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],_=u[h+1];if(-1!==_){const w=l.data[_];Zr(p),w.contentQueries(2,c[_],_)}}}function K0(l,c,u,h,p,_,w,T,S,O,F){const Q=c.blueprint.slice();return Q[0]=p,Q[2]=76|h,(null!==F||l&&1024&l[2])&&(Q[2]|=1024),Uo(Q),Q[3]=Q[15]=l,Q[8]=u,Q[10]=w||l&&l[10],Q[11]=T||l&&l[11],Q[12]=S||l&&l[12]||null,Q[9]=O||l&&l[9]||null,Q[6]=_,Q[20]=function Ue(){return De++}(),Q[21]=F,Q[16]=2==c.type?l[16]:Q,Q}function au(l,c,u,h,p){let _=l.data[c];if(null===_)_=function Z0(l,c,u,h,p){const _=bc(),w=Ha(),S=l.data[c]=function $N(l,c,u,h,p,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,c,h,p);return null===l.firstChild&&(l.firstChild=S),null!==_&&(w?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}(l,c,u,h,p),function mh(){return Sn.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=h,_.attrs=p;const w=function da(){const l=Sn.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return ms(_,!0),_}function Td(l,c,u,h){if(0===u)return-1;const p=c.length;for(let _=0;_<u;_++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function kg(l,c,u){Ol(c);try{const h=l.viewQuery;null!==h&&ob(1,h,u);const p=l.template;null!==p&&u1(l,c,p,1,u),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&l1(l,c),l.staticViewQueries&&ob(2,l.viewQuery,u);const _=l.components;null!==_&&function IE(l,c){for(let u=0;u<c.length;u++)ME(l,c[u])}(c,_)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,ja()}}function Zy(l,c,u,h){const p=c[2];if(128!=(128&p)){Ol(c);try{Uo(c),function js(l){return Sn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==u&&u1(l,c,u,2,h);const w=3==(3&p);if(w){const O=l.preOrderCheckHooks;null!==O&&Pl(c,O,null)}else{const O=l.preOrderHooks;null!==O&&Ga(c,O,0,null),wh(c,0)}if(function b1(l){for(let c=Xp(l);null!==c;c=wy(c)){if(!c[2])continue;const u=c[9];for(let h=0;h<u.length;h++){const p=u[h],_=p[3];0==(512&p[2])&&Fr(_,1),p[2]|=512}}}(c),function AE(l){for(let c=Xp(l);null!==c;c=wy(c))for(let u=10;u<c.length;u++){const h=c[u],p=h[1];ua(h)&&Zy(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&l1(l,c),w){const O=l.contentCheckHooks;null!==O&&Pl(c,O)}else{const O=l.contentHooks;null!==O&&Ga(c,O,1),wh(c,1)}!function a1(l,c){const u=l.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Io(~p);else{const _=p,w=u[++h],T=u[++h];ly(w,_),T(2,c[_])}}}finally{Io(-1)}}(l,c);const T=l.components;null!==T&&function c1(l,c){for(let u=0;u<c.length;u++)ib(l,c[u])}(c,T);const S=l.viewQuery;if(null!==S&&ob(2,S,h),w){const O=l.viewCheckHooks;null!==O&&Pl(c,O)}else{const O=l.viewHooks;null!==O&&Ga(c,O,2),wh(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Fr(c[3],-1))}finally{ja()}}}function u1(l,c,u,h,p){const _=hi(),w=2&h;try{Io(-1),w&&c.length>22&&rE(l,c,22,!1),u(h,p)}finally{Io(_)}}function CE(l,c,u){if(q(c)){const p=c.directiveEnd;for(let _=c.directiveStart;_<p;_++){const w=l.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}}function Sd(l,c,u){!gh()||(function m1(l,c,u,h){const p=u.directiveStart,_=u.directiveEnd;l.firstCreatePass||qa(u,c),Ki(h,c);const w=u.initialInputs;for(let T=p;T<_;T++){const S=l.data[T],O=K(S);O&&xE(c,u,S);const F=$l(c,l,T,u);Ki(F,c),null!==w&&v1(0,T-p,F,S,0,w),O&&(Ji(u.index,c)[8]=F)}}(l,c,u,is(u,c)),128==(128&u.flags)&&function HN(l,c,u){const h=u.directiveStart,p=u.directiveEnd,_=u.index,w=function za(){return Sn.lFrame.currentDirectiveIndex}();try{Io(_);for(let T=h;T<p;T++){const S=l.data[T],O=c[T];ju(T),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&eb(S,O)}}finally{Io(-1),ju(w)}}(l,c,u))}function hf(l,c,u=is){const h=c.localNames;if(null!==h){let p=c.index+1;for(let _=0;_<h.length;_+=2){const w=h[_+1],T=-1===w?u(c,l):l[w];l[p++]=T}}}function Q0(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Qy(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Qy(l,c,u,h,p,_,w,T,S,O){const F=22+h,Q=F+p,Te=function Pg(l,c){const u=[];for(let h=0;h<c;h++)u.push(h<l?null:Vn);return u}(F,Q),We="function"==typeof O?O():O;return Te[1]={type:l,blueprint:Te,template:u,queries:null,viewQuery:T,declTNode:c,data:Te.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:S,consts:We,incompleteFirstPass:!1}}function X0(l,c,u,h){const p=t_(c);null===u?p.push(h):(p.push(u),l.firstCreatePass&&OE(l).push(h,p.length-1))}function h1(l,c,u){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(c,p):u[h]=[c,p]}return u}function f1(l,c){const h=c.directiveEnd,p=l.data,_=c.attrs,w=[];let T=null,S=null;for(let O=c.directiveStart;O<h;O++){const F=p[O],Q=F.inputs,Te=null===_||I0(c)?null:nb(Q,_);w.push(Te),T=h1(Q,O,T),S=h1(F.outputs,O,S)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=16),T.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=w,c.inputs=T,c.outputs=S}function Ro(l,c,u,h,p,_,w,T){const S=is(c,u);let F,O=c.inputs;!T&&null!=O&&(F=O[h])?(Jl(l,u,F,h,p),Le(c)&&J0(u,c.index)):3&c.type&&(h=function UN(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=w?w(p,c.value||"",h):p,_.setProperty(S,h,p))}function J0(l,c){const u=Ji(c,l);16&u[2]||(u[2]|=32)}function Rg(l,c,u,h){let p=!1;if(gh()){const _=function y1(l,c,u){const h=l.directiveRegistry;let p=null;if(h)for(let _=0;_<h.length;_++){const w=h[_];tE(u,w.selectors,!1)&&(p||(p=[]),Vl(qa(u,c),l,w.type),K(w)?(tb(l,u),p.unshift(w)):p.push(w))}return p}(l,c,u),w=null===h?null:{"":-1};if(null!==_){p=!0,Xy(u,l.data.length,_.length);for(let F=0;F<_.length;F++){const Q=_[F];Q.providersResolver&&Q.providersResolver(Q)}let T=!1,S=!1,O=Td(l,c,_.length,null);for(let F=0;F<_.length;F++){const Q=_[F];u.mergedAttrs=Wa(u.mergedAttrs,Q.hostAttrs),DE(l,u,c,O,Q),SE(O,Q,w),null!==Q.contentQueries&&(u.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(u.flags|=128);const Te=Q.type.prototype;!T&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(u.index),T=!0),!S&&(Te.ngOnChanges||Te.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(u.index),S=!0),O++}f1(l,u)}w&&function _1(l,c,u){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const _=u[c[p+1]];if(null==_)throw new ye(-301,!1);h.push(c[p],_)}}}(u,h,w)}return u.mergedAttrs=Wa(u.mergedAttrs,u.attrs),p}function EE(l,c,u,h,p,_){const w=_.hostBindings;if(w){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const S=~c.index;(function TE(l){let c=l.length;for(;c>0;){const u=l[--c];if("number"==typeof u&&u<0)return u}return 0})(T)!=S&&T.push(S),T.push(h,p,w)}}function eb(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function tb(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function SE(l,c,u){if(u){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)u[c.exportAs[h]]=l;K(c)&&(u[""]=l)}}function Xy(l,c,u){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+u,l.providerIndexes=c}function DE(l,c,u,h,p){l.data[h]=p;const _=p.factory||(p.factory=vo(p.type)),w=new Nl(_,K(p),Hr);l.blueprint[h]=w,u[h]=w,EE(l,c,0,h,Td(l,u,p.hostVars,Vn),p)}function xE(l,c,u){const h=is(c,l),p=Q0(u),_=l[10],w=pf(l,K0(l,p,null,u.onPush?32:16,h,c,_,_.createRenderer(h,u),null,null,null));l[c.index]=w}function cl(l,c,u,h,p,_){const w=is(l,c);!function ff(l,c,u,h,p,_,w){if(null==_)l.removeAttribute(c,p,u);else{const T=null==w?oe(_):w(_,h||"",p);l.setAttribute(c,p,T,u)}}(c[11],w,_,l.value,u,h,p)}function v1(l,c,u,h,p,_){const w=_[c];if(null!==w){const T=h.setInput;for(let S=0;S<w.length;){const O=w[S++],F=w[S++],Q=w[S++];null!==T?h.setInput(u,Q,O,F):u[F]=Q}}}function nb(l,c){let u=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return u}function Jy(l,c,u,h){return new Array(l,!0,!1,c,null,0,h,u,null,null)}function ib(l,c){const u=Ji(c,l);if(ua(u)){const h=u[1];48&u[2]?Zy(h,u,h.template,u[8]):u[5]>0&&rb(u)}}function rb(l){for(let h=Xp(l);null!==h;h=wy(h))for(let p=10;p<h.length;p++){const _=h[p];if(ua(_))if(512&_[2]){const w=_[1];Zy(w,_,w.template,_[8])}else _[5]>0&&rb(_)}const u=l[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ji(u[h],l);ua(p)&&p[5]>0&&rb(p)}}function ME(l,c){const u=Ji(c,l),h=u[1];(function w1(l,c){for(let u=c.length;u<l.blueprint.length;u++)c.push(l.blueprint[u])})(h,u),kg(h,u,u[8])}function pf(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function sb(l){for(;l;){l[2]|=32;const c=gd(l);if(ge(l)&&!c)return l;l=c}return null}function e_(l,c,u,h=!0){const p=c[10];p.begin&&p.begin();try{Zy(l,c,l.template,u)}catch(w){throw h&&lb(c,w),w}finally{p.end&&p.end()}}function ob(l,c,u){Zr(0),c(l,u)}function t_(l){return l[7]||(l[7]=[])}function OE(l){return l.cleanup||(l.cleanup=[])}function lb(l,c){const u=l[9],h=u?u.get(wd,null):null;h&&h.handleError(c)}function Jl(l,c,u,h,p){for(let _=0;_<u.length;){const w=u[_++],T=u[_++],S=c[w],O=l.data[w];null!==O.setInput?O.setInput(S,p,h,T):S[T]=p}}function gf(l,c,u){let h=u?l.styles:null,p=u?l.classes:null,_=0;if(null!==c)for(let w=0;w<c.length;w++){const T=c[w];"number"==typeof T?_=T:1==_?p=xe(p,T):2==_&&(h=xe(h,T+": "+c[++w]+";"))}u?l.styles=h:l.stylesWithoutHost=h,u?l.classes=p:l.classesWithoutHost=p}function n_(l,c,u,h,p=!1){for(;null!==u;){const _=c[u.index];if(null!==_&&h.push(Xi(_)),L(_))for(let T=10;T<_.length;T++){const S=_[T],O=S[1].firstChild;null!==O&&n_(S[1],S,O,h)}const w=u.type;if(8&w)n_(l,c,u.child,h);else if(32&w){const T=Uh(u,c);let S;for(;S=T();)h.push(S)}else if(16&w){const T=Dy(c,u);if(Array.isArray(T))h.push(...T);else{const S=gd(c[16]);n_(S[1],S,T,h,!0)}}u=p?u.projectionNext:u.next}return h}class Dd{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return n_(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(L(c)){const u=c[8],h=u?u.indexOf(this):-1;h>-1&&(ig(c,h),id(u,h))}this._attachedToViewContainer=!1}n0(this._lView[1],this._lView)}onDestroy(c){X0(this._lView[1],this._lView,null,c)}markForCheck(){sb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){e_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jv(l,c){tu(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=c}}class C1 extends Dd{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;e_(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class cb extends Tg{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=et(c);return new mf(u,this.ngModule)}}function i_(l){const c=[];for(let u in l)l.hasOwnProperty(u)&&c.push({propName:l[u],templateName:u});return c}class E1{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,h){const p=this.injector.get(c,$y,h);return p!==$y||u===$y?p:this.parentInjector.get(c,u,h)}}class mf extends By{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function $A(l){return l.map(Sg).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return i_(this.componentDef.inputs)}get outputs(){return i_(this.componentDef.outputs)}create(c,u,h,p){let _=(p=p||this.ngModule)instanceof bd?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new E1(c,_):c,T=w.get(Po,null);if(null===T)throw new ye(407,!1);const S=w.get(xA,null),O=T.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",Q=h?function d1(l,c,u){return l.selectRootElement(c,u===an.ShadowDom)}(O,h,this.componentDef.encapsulation):eg(O,F,function kE(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(F)),Te=this.componentDef.onPush?288:272,We=Qy(0,null,null,1,0,null,null,null,null,null),mt=K0(null,We,null,Te,null,null,T,O,S,w,null);let Nt,Wt;Ol(mt);try{const hn=function A1(l,c,u,h,p,_){const w=u[1];u[22]=l;const S=au(w,22,2,"#host",null),O=S.mergedAttrs=c.hostAttrs;null!==O&&(gf(S,O,!0),null!==l&&(Sc(p,l,O),null!==S.classes&&hg(p,l,S.classes),null!==S.styles&&Yh(p,l,S.styles)));const F=h.createRenderer(l,c),Q=K0(u,Q0(c),null,c.onPush?32:16,u[22],S,h,F,_||null,null,null);return w.firstCreatePass&&(Vl(qa(S,u),w,c.type),tb(w,S),Xy(S,u.length,1)),pf(u,Q),u[22]=Q}(Q,this.componentDef,mt,T,O);if(Q)if(h)Sc(O,Q,["ng-version",KC.full]);else{const{attrs:Dn,classes:St}=function UA(l){const c=[],u=[];let h=1,p=2;for(;h<l.length;){let _=l[h];if("string"==typeof _)2===p?""!==_&&c.push(_,l[++h]):8===p&&u.push(_);else{if(!ol(p))break;p=_}h++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Dn&&Sc(O,Q,Dn),St&&St.length>0&&hg(O,Q,St.join(" "))}if(Wt=Dl(We,22),void 0!==u){const Dn=Wt.projection=[];for(let St=0;St<this.ngContentSelectors.length;St++){const Mn=u[St];Dn.push(null!=Mn?Array.from(Mn):null)}}Nt=function PE(l,c,u,h){const p=u[1],_=function lu(l,c,u){const h=Wi();l.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),DE(l,h,c,Td(l,c,1,null),u),f1(l,h));const p=$l(c,l,h.directiveStart,h);Ki(p,c);const _=is(h,c);return _&&Ki(_,c),p}(p,u,c);if(l[8]=u[8]=_,null!==h)for(const T of h)T(_,c);if(c.contentQueries){const T=Wi();c.contentQueries(1,_,T.directiveStart)}const w=Wi();return!p.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Io(w.index),EE(u[1],w,0,w.directiveStart,w.directiveEnd,c),eb(c,_)),_}(hn,this.componentDef,mt,[jN]),kg(We,mt,null)}finally{ja()}return new D1(this.componentType,Nt,nf(Wt,mt),mt,Wt)}}class D1 extends class Eg{}{constructor(c,u,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new C1(p),this.componentType=c}setInput(c,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const _=this._rootLView;Jl(_[1],_,p,c,u),J0(_,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function jN(){const l=Wi();pa(bt()[1],l)}function RE(l){let c=function M1(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),u=!0;const h=[l];for(;c;){let p;if(K(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new ye(903,!1);p=c.\u0275dir}if(p){if(u){h.push(p);const w=l;w.inputs=ub(l.inputs),w.declaredInputs=ub(l.declaredInputs),w.outputs=ub(l.outputs);const T=p.hostBindings;T&&GN(l,T);const S=p.viewQuery,O=p.contentQueries;if(S&&LE(l,S),O&&FE(l,O),X(l.inputs,p.inputs),X(l.declaredInputs,p.declaredInputs),X(l.outputs,p.outputs),K(p)&&p.data.animation){const F=l.data;F.animation=(F.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const T=_[w];T&&T.ngInherit&&T(l),T===RE&&(u=!1)}}c=Object.getPrototypeOf(c)}!function NE(l){let c=0,u=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=Wa(p.hostAttrs,u=Wa(u,p.hostAttrs))}}(h)}function ub(l){return l===Kn?{}:l===rn?[]:l}function LE(l,c){const u=l.viewQuery;l.viewQuery=u?(h,p)=>{c(h,p),u(h,p)}:c}function FE(l,c){const u=l.contentQueries;l.contentQueries=u?(h,p,_)=>{c(h,p,_),u(h,p,_)}:c}function GN(l,c){const u=l.hostBindings;l.hostBindings=u?(h,p)=>{c(h,p),u(h,p)}:c}let db=null;function yf(){if(!db){const l=yn.Symbol;if(l&&l.iterator)db=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const h=c[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(db=h)}}}return db}function Ng(l){return!!_f(l)&&(Array.isArray(l)||!(l instanceof Map)&&yf()in l)}function _f(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ul(l,c,u){return l[c]=u}function Lg(l,c){return l[c]}function Rs(l,c,u){return!Object.is(l[c],u)&&(l[c]=u,!0)}function ir(l,c,u,h){const p=Rs(l,c,u);return Rs(l,c+1,h)||p}function Xo(l,c,u,h,p,_){const w=ir(l,c,u,h);return ir(l,c+2,p,_)||w}function xd(l,c,u,h){const p=bt();return Rs(p,wo(),c)&&(qn(),cl(Pi(),p,l,c,u,h)),xd}function vf(l,c,u,h){return Rs(l,wo(),u)?c+oe(u)+h:Vn}function UE(l,c,u,h,p,_,w,T){const S=bt(),O=qn(),F=l+22,Q=O.firstCreatePass?function $E(l,c,u,h,p,_,w,T,S){const O=c.consts,F=au(c,l,4,w||null,gs(O,T));Rg(c,u,F,gs(O,S)),pa(c,F);const Q=F.tViews=Qy(2,F,h,p,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,O);return null!==c.queries&&(c.queries.template(c,F),Q.queries=c.queries.embeddedTView(F)),F}(F,O,S,c,u,h,p,_,w):O.data[F];ms(Q,!1);const Te=S[11].createComment("");qo(O,S,Te,Q),Ki(Te,S),pf(S,S[F]=Jy(Te,S,Te,Q)),Ne(Q)&&Sd(O,S,Q),null!=w&&hf(S,Q,T)}function ws(l){return Ua(function qi(){return Sn.lFrame.contextLView}(),22+l)}function pl(l,c,u){const h=bt();return Rs(h,wo(),c)&&Ro(qn(),Pi(),h,l,c,h[11],u,!1),pl}function pb(l,c,u,h,p){const w=p?"class":"style";Jl(l,u,c.inputs[w],w,h)}function Ef(l,c,u,h){const p=bt(),_=qn(),w=22+l,T=p[11],S=p[w]=eg(T,c,function Cc(){return Sn.lFrame.currentNamespace}()),O=_.firstCreatePass?function Bg(l,c,u,h,p,_,w){const T=c.consts,O=au(c,l,2,p,gs(T,_));return Rg(c,u,O,gs(T,w)),null!==O.attrs&&gf(O,O.attrs,!1),null!==O.mergedAttrs&&gf(O,O.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,O),O}(w,_,p,0,c,u,h):_.data[w];ms(O,!0);const F=O.mergedAttrs;null!==F&&Sc(T,S,F);const Q=O.classes;null!==Q&&hg(T,S,Q);const Te=O.styles;return null!==Te&&Yh(T,S,Te),64!=(64&O.flags)&&qo(_,p,S,O),0===function xl(){return Sn.lFrame.elementDepthCount}()&&Ki(S,p),function fh(){Sn.lFrame.elementDepthCount++}(),Ne(O)&&(Sd(_,p,O),CE(_,O,p)),null!==h&&hf(p,O),Ef}function Vg(){let l=Wi();Ha()?Hu():(l=l.parent,ms(l,!1));const c=l;!function ph(){Sn.lFrame.elementDepthCount--}();const u=qn();return u.firstCreatePass&&(pa(u,l),q(l)&&u.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Ih(l){return 0!=(16&l.flags)}(c)&&pb(u,c,bt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function kp(l){return 0!=(32&l.flags)}(c)&&pb(u,c,bt(),c.stylesWithoutHost,!1),Vg}function gb(l,c,u,h){return Ef(l,c,u,h),Vg(),gb}function Tf(l,c,u){const h=bt(),p=qn(),_=l+22,w=p.firstCreatePass?function P1(l,c,u,h,p){const _=c.consts,w=gs(_,h),T=au(c,l,8,"ng-container",w);return null!==w&&gf(T,w,!0),Rg(c,u,T,gs(_,p)),null!==c.queries&&c.queries.elementStart(c,T),T}(_,p,h,c,u):p.data[_];ms(w,!0);const T=h[_]=h[11].createComment("");return qo(p,h,T,w),Ki(T,h),Ne(w)&&(Sd(p,h,w),CE(p,w,h)),null!=u&&hf(h,w),Tf}function jn(){let l=Wi();const c=qn();return Ha()?Hu():(l=l.parent,ms(l,!1)),c.firstCreatePass&&(pa(c,l),q(l)&&c.queries.elementEnd(l)),jn}function Od(l,c,u){return Tf(l,c,u),jn(),Od}function HE(){return bt()}function hu(l){return!!l&&"function"==typeof l.then}function zE(l){return!!l&&"function"==typeof l.subscribe}const jE=zE;function Jo(l,c,u,h){const p=bt(),_=qn(),w=Wi();return function yb(l,c,u,h,p,_,w,T){const S=Ne(h),F=l.firstCreatePass&&OE(l),Q=c[8],Te=t_(c);let We=!0;if(3&h.type||T){const Wt=is(h,c),hn=T?T(Wt):Wt,Dn=Te.length,St=T?wi=>T(Xi(wi[h.index])):h.index;let Mn=null;if(!T&&S&&(Mn=function GE(l,c,u,h){const p=l.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===h){const T=c[7],S=p[_+2];return T.length>S?T[S]:null}"string"==typeof w&&(_+=2)}return null}(l,c,p,h.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=_,Mn.__ngLastListenerFn__=_,We=!1;else{_=ls(h,c,Q,_,!1);const wi=u.listen(hn,p,_);Te.push(_,wi),F&&F.push(p,St,Dn,Dn+1)}}else _=ls(h,c,Q,_,!1);const mt=h.outputs;let Nt;if(We&&null!==mt&&(Nt=mt[p])){const Wt=Nt.length;if(Wt)for(let hn=0;hn<Wt;hn+=2){const rr=c[Nt[hn]][Nt[hn+1]].subscribe(_),Cu=Te.length;Te.push(_,rr),F&&F.push(p,h.index,Cu,-(Cu+1))}}}(_,p,p[11],w,l,c,0,h),Jo}function R1(l,c,u,h){try{return!1!==u(h)}catch(p){return lb(l,p),!1}}function ls(l,c,u,h,p){return function _(w){if(w===Function)return h;sb(2&l.flags?Ji(l.index,c):c);let S=R1(c,0,h,w),O=_.__ngNextListenerFn__;for(;O;)S=R1(c,0,O,w)&&S,O=O.__ngNextListenerFn__;return p&&!1===S&&(w.preventDefault(),w.returnValue=!1),S}}function tc(l=1){return function Ic(l){return(Sn.lFrame.contextLView=function cy(l,c){for(;l>0;)c=c[15],l--;return c}(l,Sn.lFrame.contextLView))[8]}(l)}function _b(l,c){let u=null;const h=function FA(l){const c=l.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(l);for(let p=0;p<c.length;p++){const _=c[p];if("*"!==_){if(null===h?tE(l,_,!0):nE(h,_))return p}else u=p}return u}function WE(l){const c=bt()[16][6];if(!c.projection){const h=c.projection=Qa(l?l.length:1,null),p=h.slice();let _=c.child;for(;null!==_;){const w=l?_b(_,l):0;null!==w&&(p[w]?p[w].projectionNext=_:h[w]=_,p[w]=_),_=_.next}}}function qE(l,c=0,u){const h=bt(),p=qn(),_=au(p,22+l,16,null,u||null);null===_.projection&&(_.projection=c),Hu(),64!=(64&_.flags)&&function NC(l,c,u){qh(c[11],0,c,u,Hh(l,u,c),lg(u.parent||c[6],u,c))}(p,h,_)}function a_(l,c,u){return l_(l,"",c,"",u),a_}function l_(l,c,u,h,p){const _=bt(),w=vf(_,c,u,h);return w!==Vn&&Ro(qn(),Pi(),_,l,w,_[11],p,!1),l_}function ZE(l,c,u,h,p){const _=l[u+1],w=null===c;let T=h?ll(_):Zo(_),S=!1;for(;0!==T&&(!1===S||w);){const F=l[T+1];Ib(l[T],c)&&(S=!0,l[T+1]=h?F0(F):Ag(F)),T=h?ll(F):Zo(F)}S&&(l[u+1]=h?Ag(_):F0(_))}function Ib(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&jl(l,c)>=0}const Rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QE(l){return l.substring(Rr.key,Rr.keyEnd)}function u_(l){return l.substring(Rr.value,Rr.valueEnd)}function Cb(l,c){const u=Rr.textEnd;return u===c?-1:(c=Rr.keyEnd=function JE(l,c,u){for(;c<u&&l.charCodeAt(c)>32;)c++;return c}(l,Rr.key=c,u),nc(l,c,u))}function XE(l,c){const u=Rr.textEnd;let h=Rr.key=nc(l,c,u);return u===h?-1:(h=Rr.keyEnd=function eT(l,c,u){let h;for(;c<u&&(45===(h=l.charCodeAt(c))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)c++;return c}(l,h,u),h=tT(l,h,u),h=Rr.value=nc(l,h,u),h=Rr.valueEnd=function L1(l,c,u){let h=-1,p=-1,_=-1,w=c,T=w;for(;w<u;){const S=l.charCodeAt(w++);if(59===S)return T;34===S||39===S?T=w=nT(l,S,w,u):c===w-4&&85===_&&82===p&&76===h&&40===S?T=w=nT(l,41,w,u):S>32&&(T=w),_=p,p=h,h=-33&S}return T}(l,h,u),tT(l,h,u))}function h_(l){Rr.key=0,Rr.keyEnd=0,Rr.value=0,Rr.valueEnd=0,Rr.textEnd=l.length}function nc(l,c,u){for(;c<u&&l.charCodeAt(c)<=32;)c++;return c}function tT(l,c,u,h){return(c=nc(l,c,u))<u&&c++,c}function nT(l,c,u,h){let p=-1,_=u;for(;_<h;){const w=l.charCodeAt(_++);if(w==c&&92!==p)return _;p=92==w&&92===p?0:w}throw new Error}function Tb(l,c,u){return ro(l,c,u,!1),Tb}function Sb(l,c){return ro(l,c,null,!0),Sb}function Oa(l){ka(Db,F1,l,!1)}function F1(l,c){for(let u=function d_(l){return h_(l),XE(l,nc(l,0,Rr.textEnd))}(c);u>=0;u=XE(c,u))Db(l,QE(c),u_(c))}function iT(l){ka(vs,ea,l,!0)}function ea(l,c){for(let u=function Ug(l){return h_(l),Cb(l,nc(l,0,Rr.textEnd))}(c);u>=0;u=Cb(c,u))vs(l,QE(c),!0)}function ro(l,c,u,h){const p=bt(),_=qn(),w=_s(2);_.firstUpdatePass&&f_(_,l,w,h),c!==Vn&&Rs(p,w,c)&&xb(_,_.data[hi()],p,p[11],l,p[w+1]=function U1(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Ee(Ur(l)))),l}(c,u),h,w)}function ka(l,c,u,h){const p=qn(),_=_s(2);p.firstUpdatePass&&f_(p,null,_,h);const w=bt();if(u!==Vn&&Rs(w,_,u)){const T=p.data[hi()];if(Ab(T,h)&&!pu(p,_)){let S=h?T.classesWithoutHost:T.stylesWithoutHost;null!==S&&(u=xe(S,u||"")),pb(p,T,w,u,h)}else!function rT(l,c,u,h,p,_,w,T){p===Vn&&(p=rn);let S=0,O=0,F=0<p.length?p[0]:null,Q=0<_.length?_[0]:null;for(;null!==F||null!==Q;){const Te=S<p.length?p[S+1]:void 0,We=O<_.length?_[O+1]:void 0;let Nt,mt=null;F===Q?(S+=2,O+=2,Te!==We&&(mt=Q,Nt=We)):null===Q||null!==F&&F<Q?(S+=2,mt=F):(O+=2,mt=Q,Nt=We),null!==mt&&xb(l,c,u,h,mt,Nt,w,T),F=S<p.length?p[S]:null,Q=O<_.length?_[O]:null}}(p,T,w,w[11],w[_+1],w[_+1]=function Sf(l,c,u){if(null==u||""===u)return rn;const h=[],p=Ur(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)l(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&l(h,_,p[_]);else"string"==typeof p&&c(h,p);return h}(l,c,u),h,_)}}function pu(l,c){return c>=l.expandoStartIndex}function f_(l,c,u,h){const p=l.data;if(null===p[u+1]){const _=p[hi()],w=pu(l,u);Ab(_,h)&&null===c&&!w&&(c=!1),c=function YN(l,c,u,h){const p=function Al(l){const c=Sn.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}(l);let _=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(u=ic(u=Pd(null,l,c,u,h),c.attrs,h),_=null);else{const w=c.directiveStylingLast;if(-1===w||l[w]!==p)if(u=Pd(p,l,c,u,h),null===_){let S=function B1(l,c,u){const h=u?c.classBindings:c.styleBindings;if(0!==Zo(h))return l[ll(h)]}(l,c,h);void 0!==S&&Array.isArray(S)&&(S=Pd(null,l,c,S[1],h),S=ic(S,c.attrs,h),function V1(l,c,u,h){l[ll(u?c.classBindings:c.styleBindings)]=h}(l,c,h,S))}else _=function $1(l,c,u){let h;const p=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<p;_++)h=ic(h,l[_].hostAttrs,u);return ic(h,c.attrs,u)}(l,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),u}(p,_,c,h),function N1(l,c,u,h,p,_){let w=_?c.classBindings:c.styleBindings,T=ll(w),S=Zo(w);l[h]=u;let F,O=!1;if(Array.isArray(u)){const Q=u;F=Q[1],(null===F||jl(Q,F)>0)&&(O=!0)}else F=u;if(p)if(0!==S){const Te=ll(l[T+1]);l[h+1]=R0(Te,T),0!==Te&&(l[Te+1]=L0(l[Te+1],h)),l[T+1]=function N0(l,c){return 131071&l|c<<17}(l[T+1],h)}else l[h+1]=R0(T,0),0!==T&&(l[T+1]=L0(l[T+1],h)),T=h;else l[h+1]=R0(S,0),0===T?T=h:l[S+1]=L0(l[S+1],h),S=h;O&&(l[h+1]=Ag(l[h+1])),ZE(l,F,h,!0),ZE(l,F,h,!1),function kd(l,c,u,h,p){const _=p?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof c&&jl(_,c)>=0&&(u[h+1]=F0(u[h+1]))}(c,F,l,h,_),w=R0(T,S),_?c.classBindings=w:c.styleBindings=w}(p,_,c,u,w,h)}}function Pd(l,c,u,h,p){let _=null;const w=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<w&&(_=c[T],h=ic(h,_.hostAttrs,p),_!==l);)T++;return null!==l&&(u.directiveStylingLast=T),h}function ic(l,c,u){const h=u?1:2;let p=-1;if(null!==c)for(let _=0;_<c.length;_++){const w=c[_];"number"==typeof w?p=w:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),vs(l,w,!!u||c[++_]))}return void 0===l?null:l}function Db(l,c,u){vs(l,c,Ur(u))}function xb(l,c,u,h,p,_,w,T){if(!(3&c.type))return;const S=l.data,O=S[T+1];p_(function jy(l){return 1==(1&l)}(O)?Rd(S,c,u,p,Zo(O),w):void 0)||(p_(_)||function Ed(l){return 2==(2&l)}(O)&&(_=Rd(S,null,u,p,T,w)),function dg(l,c,u,h,p){if(c)p?l.addClass(u,h):l.removeClass(u,h);else{let _=-1===h.indexOf("-")?void 0:Sr.DashCase;null==p?l.removeStyle(u,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Sr.Important),l.setStyle(u,h,p,_))}}(h,w,Ms(hi(),u),p,_))}function Rd(l,c,u,h,p,_){const w=null===c;let T;for(;p>0;){const S=l[p],O=Array.isArray(S),F=O?S[1]:S,Q=null===F;let Te=u[p+1];Te===Vn&&(Te=Q?rn:void 0);let We=Q?Fc(Te,h):F===h?Te:void 0;if(O&&!p_(We)&&(We=Fc(S,h)),p_(We)&&(T=We,w))return T;const mt=l[p+1];p=w?ll(mt):Zo(mt)}if(null!==c){let S=_?c.residualClasses:c.residualStyles;null!=S&&(T=Fc(S,h))}return T}function p_(l){return void 0!==l}function Ab(l,c){return 0!=(l.flags&(c?16:32))}function sT(l,c=""){const u=bt(),h=qn(),p=l+22,_=h.firstCreatePass?au(h,p,1,c,null):h.data[p],w=u[p]=function md(l,c){return l.createText(c)}(u[11],c);qo(h,u,w,_),ms(_,!1)}function Hg(l){return gu("",l,""),Hg}function gu(l,c,u){const h=bt(),p=vf(h,l,c,u);return p!==Vn&&function ec(l,c,u){const h=Ms(c,l);!function Iy(l,c,u){l.setValue(c,u)}(l[11],h,u)}(h,hi(),p),gu}const yu=void 0;var Vb=["en",[["a","p"],["AM","PM"],yu],[["AM","PM"],yu,yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yu,"{1} 'at' {0}",yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bb(l){const u=Math.floor(Math.abs(l)),h=l.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Df={};function $b(l){const c=function fT(l){return l.toLowerCase().replace(/_/g,"-")}(l);let u=Ub(c);if(u)return u;const h=c.split("-")[0];if(u=Ub(h),u)return u;if("en"===h)return Vb;throw new ye(701,!1)}function v_(l){return $b(l)[kn.PluralCase]}function Ub(l){return l in Df||(Df[l]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[l]),Df[l]}var kn=(()=>((kn=kn||{})[kn.LocaleId=0]="LocaleId",kn[kn.DayPeriodsFormat=1]="DayPeriodsFormat",kn[kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",kn[kn.DaysFormat=3]="DaysFormat",kn[kn.DaysStandalone=4]="DaysStandalone",kn[kn.MonthsFormat=5]="MonthsFormat",kn[kn.MonthsStandalone=6]="MonthsStandalone",kn[kn.Eras=7]="Eras",kn[kn.FirstDayOfWeek=8]="FirstDayOfWeek",kn[kn.WeekendRange=9]="WeekendRange",kn[kn.DateFormat=10]="DateFormat",kn[kn.TimeFormat=11]="TimeFormat",kn[kn.DateTimeFormat=12]="DateTimeFormat",kn[kn.NumberSymbols=13]="NumberSymbols",kn[kn.NumberFormats=14]="NumberFormats",kn[kn.CurrencyCode=15]="CurrencyCode",kn[kn.CurrencySymbol=16]="CurrencySymbol",kn[kn.CurrencyName=17]="CurrencyName",kn[kn.Currencies=18]="Currencies",kn[kn.Directionality=19]="Directionality",kn[kn.PluralCase=20]="PluralCase",kn[kn.ExtraData=21]="ExtraData",kn))();const rc="en-US";let iM=rc;function Qb(l,c,u,h,p){if(l=re(l),Array.isArray(l))for(let _=0;_<l.length;_++)Qb(l[_],c,u,h,p);else{const _=qn(),w=bt();let T=vd(l)?l:re(l.provide),S=jC(l);const O=Wi(),F=1048575&O.providerIndexes,Q=O.directiveStart,Te=O.providerIndexes>>20;if(vd(l)||!l.multi){const We=new Nl(S,p,Hr),mt=Jb(T,c,p?F:F+Te,Q);-1===mt?(Vl(qa(O,w),_,T),Xb(_,l,c.length),c.push(T),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),u.push(We),w.push(We)):(u[mt]=We,w[mt]=We)}else{const We=Jb(T,c,F+Te,Q),mt=Jb(T,c,F,F+Te),Nt=We>=0&&u[We],Wt=mt>=0&&u[mt];if(p&&!Wt||!p&&!Nt){Vl(qa(O,w),_,T);const hn=function VT(l,c,u,h,p){const _=new Nl(l,u,Hr);return _.multi=[],_.index=c,_.componentProviders=0,FT(_,p,h&&!u),_}(p?BT:OM,u.length,p,h,S);!p&&Wt&&(u[mt].providerFactory=hn),Xb(_,l,c.length,0),c.push(T),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),u.push(hn),w.push(hn)}else Xb(_,l,We>-1?We:mt,FT(u[p?mt:We],S,!p&&h));!p&&h&&Wt&&u[mt].componentProviders++}}}function Xb(l,c,u,h){const p=vd(c),_=function vA(l){return!!l.useClass}(c);if(p||_){const S=(_?re(c.useClass):c).prototype.ngOnDestroy;if(S){const O=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const F=O.indexOf(u);-1===F?O.push(u,[h,S]):O[F+1].push(h,S)}else O.push(u,S)}}}function FT(l,c,u){return u&&l.componentProviders++,l.multi.push(c)-1}function Jb(l,c,u,h){for(let p=u;p<h;p++)if(c[p]===l)return p;return-1}function OM(l,c,u,h){return Jg(this.multi,[])}function BT(l,c,u,h){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,T=$l(u,u[1],this.providerFactory.index,h);_=T.slice(0,w),Jg(p,_);for(let S=w;S<T.length;S++)_.push(T[S])}else _=[],Jg(p,_);return _}function Jg(l,c){for(let u=0;u<l.length;u++)c.push((0,l[u])());return c}function ew(l,c=[]){return u=>{u.providersResolver=(h,p)=>function MM(l,c,u){const h=qn();if(h.firstCreatePass){const p=K(l);Qb(u,h.data,h.blueprint,p,!0),Qb(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class em{}class $T{}function kM(l,c){return new UT(l,c??null)}class UT extends em{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cb(this);const h=xn(c);this._bootstrapComponents=sl(h.bootstrap),this._r3Injector=Ql(c,u,[{provide:em,useValue:this},{provide:Tg,useValue:this.componentFactoryResolver}],Ee(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class kf extends $T{constructor(c){super(),this.moduleType=c}create(c){return new UT(this.moduleType,c)}}class HT extends em{constructor(c,u,h){super(),this.componentFactoryResolver=new cb(this),this.instance=null;const p=new g0([...c,{provide:em,useValue:this},{provide:Tg,useValue:this.componentFactoryResolver}],u||Fy(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function tm(l,c,u=null){return new HT(l,c,u).injector}let tw=(()=>{class l{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=mA(0,u.type),p=h.length>0?tm([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=Pe({token:l,providedIn:"environment",factory:()=>new l(yi(bd))}),l})();function zT(l){l.getStandaloneInjector=c=>c.get(tw).getOrCreateStandaloneInjector(l)}function KT(l,c,u){const h=Kr()+l,p=bt();return p[h]===Vn?ul(p,h,u?c.call(u):c()):Lg(p,h)}function x_(l,c,u,h){return function A_(l,c,u,h,p,_){const w=c+u;return Rs(l,w,p)?ul(l,w+1,_?h.call(_,p):h(p)):Nf(l,w+1)}(bt(),Kr(),l,c,u,h)}function iw(l,c,u,h,p){return QT(bt(),Kr(),l,c,u,h,p)}function rm(l,c,u,h,p,_){return function XT(l,c,u,h,p,_,w,T){const S=c+u;return function Ns(l,c,u,h,p){const _=ir(l,c,u,h);return Rs(l,c+2,p)||_}(l,S,p,_,w)?ul(l,S+3,T?h.call(T,p,_,w):h(p,_,w)):Nf(l,S+3)}(bt(),Kr(),l,c,u,h,p,_)}function BM(l,c,u,h,p,_,w){return function JT(l,c,u,h,p,_,w,T,S){const O=c+u;return Xo(l,O,p,_,w,T)?ul(l,O+4,S?h.call(S,p,_,w,T):h(p,_,w,T)):Nf(l,O+4)}(bt(),Kr(),l,c,u,h,p,_,w)}function rw(l,c,u,h,p,_,w,T){const S=Kr()+l,O=bt(),F=Xo(O,S,u,h,p,_);return Rs(O,S+4,w)||F?ul(O,S+5,T?c.call(T,u,h,p,_,w):c(u,h,p,_,w)):Lg(O,S+5)}function Nf(l,c){const u=l[c];return u===Vn?void 0:u}function QT(l,c,u,h,p,_,w){const T=c+u;return ir(l,T,p,_)?ul(l,T+2,w?h.call(w,p,_):h(p,_)):Nf(l,T+2)}function eS(l,c){const u=qn();let h;const p=l+22;u.firstCreatePass?(h=function rL(l,c){if(c)for(let u=c.length-1;u>=0;u--){const h=c[u];if(l===h.name)return h}}(c,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const _=h.factory||(h.factory=vo(h.type)),w=En(Hr);try{const T=Eo(!1),S=_();return Eo(T),function fl(l,c,u,h){u>=l.data.length&&(l.data[u]=null,l.blueprint[u]=null),c[u]=h}(u,bt(),p,S),S}finally{En(w)}}function lw(l,c,u,h){const p=l+22,_=bt(),w=Ua(_,p);return function sm(l,c){return l[1].data[c].pure}(_,p)?QT(_,Kr(),c,w.transform,u,h,w):w.transform(u,h)}function cw(l){return c=>{setTimeout(l,void 0,c)}}const yl=class UM extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,h){let p=c,_=u||(()=>null),w=h;if(c&&"object"==typeof c){const S=c;p=S.next?.bind(S),_=S.error?.bind(S),w=S.complete?.bind(S)}this.__isAsync&&(_=cw(_),p&&(p=cw(p)),w&&(w=cw(w)));const T=super.subscribe({next:p,error:_,complete:w});return c instanceof de.w0&&c.add(T),T}};function HM(){return this._results[yf()]()}class M_{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=yf(),h=M_.prototype;h[u]||(h[u]=HM)}get changes(){return this._changes||(this._changes=new yl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const h=this;h.dirty=!1;const p=sr(c);(this._changesDetected=!function Hp(l,c,u){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],_=c[h];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let om=(()=>{class l{}return l.__NG_ELEMENT_ID__=jM,l})();const oL=om,zM=class extends oL{constructor(c,u,h){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(c,u){const h=this._declarationTContainer.tViews,p=K0(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(p[19]=w.createEmbeddedView(h)),kg(h,p,c),new Dd(p)}};function jM(){return O_(Wi(),bt())}function O_(l,c){return 4&l.type?new zM(c,l,nf(l,c)):null}let Fd=(()=>{class l{}return l.__NG_ELEMENT_ID__=GM,l})();function GM(){return P_(Wi(),bt())}const WM=Fd,nS=class extends WM{constructor(c,u,h){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=h}get element(){return nf(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const c=ya(this._hostTNode,this._hostLView);if(Qu(c)){const u=Xs(c,this._hostLView),h=Ll(c);return new to(u[1].data[h+8],u)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=uw(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const w=c.createEmbeddedView(u||{},_);return this.insert(w,p),w}createComponent(c,u,h,p,_){const w=c&&!function ks(l){return"function"==typeof l}(c);let T;if(w)T=u;else{const Q=u||{};T=Q.index,h=Q.injector,p=Q.projectableNodes,_=Q.environmentInjector||Q.ngModuleRef}const S=w?c:new mf(et(c)),O=h||this.parentInjector;if(!_&&null==S.ngModule){const Te=(w?O:this.parentInjector).get(bd,null);Te&&(_=Te)}const F=S.create(O,p,void 0,_);return this.insert(F.hostView,T),F}insert(c,u){const h=c._lView,p=h[1];if(function $u(l){return L(l[3])}(h)){const F=this.indexOf(c);if(-1!==F)this.detach(F);else{const Q=h[3],Te=new nS(Q,Q[6],Q[3]);Te.detach(Te.indexOf(c))}}const _=this._adjustIndex(u),w=this._lContainer;!function ng(l,c,u,h){const p=10+h,_=u.length;h>0&&(u[p-1][4]=c),h<_-10?(c[4]=u[p],nd(u,10+h,c)):(u.push(c),c[4]=null),c[3]=u;const w=c[17];null!==w&&u!==w&&function t0(l,c){const u=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===u?l[9]=[c]:u.push(c)}(w,c);const T=c[19];null!==T&&T.insertView(l),c[2]|=64}(p,h,w,_);const T=cg(_,w),S=h[11],O=yd(S,w[7]);return null!==O&&function tg(l,c,u,h,p,_){h[0]=p,h[6]=c,tu(l,h,u,1,p,_)}(p,w[6],S,h,O,T),c.attachToViewContainerRef(),nd(k_(w),_,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=uw(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),h=ig(this._lContainer,u);h&&(id(k_(this._lContainer),u),n0(h[1],h))}detach(c){const u=this._adjustIndex(c,-1),h=ig(this._lContainer,u);return h&&null!=id(k_(this._lContainer),u)?new Dd(h):null}_adjustIndex(c,u=0){return c??this.length+u}};function uw(l){return l[8]}function k_(l){return l[8]||(l[8]=[])}function P_(l,c){let u;const h=c[l.index];if(L(h))u=h;else{let p;if(8&l.type)p=Xi(h);else{const _=c[11];p=_.createComment("");const w=is(l,c);Wo(_,yd(_,w),p,function ag(l,c){return l.nextSibling(c)}(_,w),!1)}c[l.index]=u=Jy(h,c,p,l),pf(c,u)}return new nS(u,l,c)}class Lf{constructor(c){this.queryList=c,this.matches=null}clone(){return new Lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class dw{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const h=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let _=0;_<h;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new dw(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==lm(c,u).matches&&this.queries[u].setDirty()}}class YM{constructor(c,u,h=null){this.predicate=c,this.flags=u,this.read=h}}class hw{constructor(c=[]){this.queries=c}elementStart(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(c,p);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new hw(u):null}template(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class am{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new am(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(c,u,aL(u,_)),this.matchTNodeWithReadOption(c,u,eo(u,c,_,!1,!1))}else h===om?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,eo(u,c,h,!1,!1))}matchTNodeWithReadOption(c,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===rf||p===Fd||p===om&&4&u.type)this.addMatch(u.index,-2);else{const _=eo(u,c,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function aL(l,c){const u=l.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===c)return u[h+1];return null}function KM(l,c,u,h){return-1===u?function lL(l,c){return 11&l.type?nf(l,c):4&l.type?O_(l,c):null}(c,l):-2===u?function ZM(l,c,u){return u===rf?nf(c,l):u===om?O_(c,l):u===Fd?P_(c,l):void 0}(l,c,h):$l(l,l[1],u,c)}function QM(l,c,u,h){const p=c[19].queries[h];if(null===p.matches){const _=l.data,w=u.matches,T=[];for(let S=0;S<w.length;S+=2){const O=w[S];T.push(O<0?null:KM(c,_[O],w[S+1],u.metadata.read))}p.matches=T}return p.matches}function iS(l,c,u,h){const p=l.queries.getByIndex(u),_=p.matches;if(null!==_){const w=QM(l,c,p,u);for(let T=0;T<_.length;T+=2){const S=_[T];if(S>0)h.push(w[T/2]);else{const O=_[T+1],F=c[-S];for(let Q=10;Q<F.length;Q++){const Te=F[Q];Te[17]===Te[3]&&iS(Te[1],Te,O,h)}if(null!==F[9]){const Q=F[9];for(let Te=0;Te<Q.length;Te++){const We=Q[Te];iS(We[1],We,O,h)}}}}}return h}function XM(l){const c=bt(),u=qn(),h=wc();Zr(h+1);const p=lm(u,h);if(l.dirty&&function ay(l){return 4==(4&l[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const _=p.crossesNgTemplate?iS(u,c,h,[]):QM(u,c,p,h);l.reset(_,YC),l.notifyOnChanges()}return!0}return!1}function JM(l,c,u){const h=qn();h.firstCreatePass&&(ht(h,new YM(l,c,u),-1),2==(2&c)&&(h.staticViewQueries=!0)),nO(h,bt(),c)}function eO(l,c,u,h){const p=qn();if(p.firstCreatePass){const _=Wi();ht(p,new YM(c,u,h),_.index),function Bd(l,c){const u=l.contentQueries||(l.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(l.queries.length-1,c)}(p,l),2==(2&u)&&(p.staticContentQueries=!0)}nO(p,bt(),u)}function tO(){return function cL(l,c){return l[19].queries[c].queryList}(bt(),wc())}function nO(l,c,u){const h=new M_(4==(4&u));X0(l,c,h,h.destroy),null===c[19]&&(c[19]=new dw),c[19].queries.push(new Lf(h))}function ht(l,c,u){null===l.queries&&(l.queries=new hw),l.queries.track(new am(c,u))}function lm(l,c){return l.queries.getByIndex(c)}function _i(l,c){return O_(l,c)}function H_(...l){}const Ud=new bi("Application Initializer");let fm=(()=>{class l{constructor(u){this.appInits=u,this.resolve=H_,this.reject=H_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(hu(_))u.push(_);else if(jE(_)){const w=new Promise((T,S)=>{_.subscribe({complete:T,error:S})});u.push(w)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return l.\u0275fac=function(u){return new(u||l)(yi(Ud,8))},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _S=new bi("AppId",{providedIn:"root",factory:function vS(){return`${Iw()}${Iw()}${Iw()}`}});function Iw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bS=new bi("Platform Initializer"),_O=new bi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wS=new bi("appBootstrapListener"),vO=new bi("AnimationModuleType");let z_=(()=>{class l{log(u){console.log(u)}warn(u){console.warn(u)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const pm=new bi("LocaleId",{providedIn:"root",factory:()=>zc(pm,Tt.Optional|Tt.SkipSelf)||function IS(){return typeof $localize<"u"&&$localize.locale||rc}()}),Cw=new bi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CS{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let ES=(()=>{class l{compileModuleSync(u){return new kf(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=sl(xn(u).declarations).reduce((w,T)=>{const S=et(T);return S&&w.push(new mf(S)),w},[]);return new CS(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Ew=(()=>Promise.resolve(0))();function xS(l){typeof Zone>"u"?Ew.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class na{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function _L(){let l=yn.requestAnimationFrame,c=yn.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Sw(l){const c=()=>{!function MS(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(yn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,gm(l),l.isCheckStableRunning=!0,Tw(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),gm(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,_,w,T)=>{try{return IO(l),u.invokeTask(p,_,w,T)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&c(),j_(l)}},onInvoke:(u,h,p,_,w,T,S)=>{try{return IO(l),u.invoke(p,_,w,T,S)}finally{l.shouldCoalesceRunChangeDetection&&c(),j_(l)}},onHasTask:(u,h,p,_)=>{u.hasTask(p,_),h===p&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,gm(l),Tw(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,p,_)=>(u.handleError(p,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!na.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(na.isInAngularZone())throw new ye(909,!1)}run(c,u,h){return this._inner.run(c,u,h)}runTask(c,u,h,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,c,AS,H_,H_);try{return _.runTask(w,u,h)}finally{_.cancelTask(w)}}runGuarded(c,u,h){return this._inner.runGuarded(c,u,h)}runOutsideAngular(c){return this._outer.run(c)}}const AS={};function Tw(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function gm(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function IO(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function j_(l){l._nesting--,Tw(l)}class vL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(c,u,h){return c.apply(u,h)}runGuarded(c,u,h){return c.apply(u,h)}runOutsideAngular(c){return c()}runTask(c,u,h,p){return c.apply(u,h)}}const OS=new bi(""),CO=new bi("");let PS,EO=(()=>{class l{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,PS||(function bL(l){PS=l}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{na.assertNotInAngularZone(),xS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xS(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return l.\u0275fac=function(u){return new(u||l)(yi(na),yi(kS),yi(CO))},l.\u0275prov=Pe({token:l,factory:l.\u0275fac}),l})(),kS=(()=>{class l{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return PS?.findTestabilityInTree(this,u,h)??null}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),bu=null;const TO=new bi("AllowMultipleToken"),RS=new bi("PlatformDestroyListeners");class DO{constructor(c,u){this.name=c,this.token=u}}function xw(l,c,u=[]){const h=`Platform: ${c}`,p=new bi(h);return(_=[])=>{let w=Mw();if(!w||w.injector.get(TO,!1)){const T=[...u,..._,{provide:p,useValue:!0}];l?l(T):function NS(l){if(bu&&!bu.get(TO,!1))throw new ye(400,!1);bu=l;const c=l.get(BS);(function Dw(l){const c=l.get(bS,null);c&&c.forEach(u=>u())})(l)}(function Aw(l=[],c){return ou.create({name:c,providers:[{provide:p0,useValue:"platform"},{provide:RS,useValue:new Set([()=>bu=null])},...l]})}(T,h))}return function FS(l){const c=Mw();if(!c)throw new ye(401,!1);return c}()}}function Mw(){return bu?.get(BS)??null}let BS=(()=>{class l{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function Ow(l,c){let u;return u="noop"===l?new vL:("zone.js"===l?void 0:l)||new na(c),u}(h?.ngZone,function G_(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:na,useValue:p}];return p.run(()=>{const w=ou.create({providers:_,parent:this.injector,name:u.moduleType.name}),T=u.create(w),S=T.injector.get(wd,null);if(!S)throw new ye(402,!1);return p.runOutsideAngular(()=>{const O=p.onError.subscribe({next:F=>{S.handleError(F)}});T.onDestroy(()=>{q_(this._modules,T),O.unsubscribe()})}),function VS(l,c,u){try{const h=u();return hu(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(S,p,()=>{const O=T.injector.get(fm);return O.runInitializers(),O.donePromise.then(()=>(function rM(l){z(l,"Expected localeId to be defined"),"string"==typeof l&&(iM=l.toLowerCase().replace(/_/g,"-"))}(T.injector.get(pm,rc)||rc),this._moduleDoBootstrap(T),T))})})}bootstrapModule(u,h=[]){const p=AO({},h);return function wL(l,c,u){const h=new kf(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const h=u.injector.get(W_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new ye(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(RS,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(u){return new(u||l)(yi(ou))},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function AO(l,c){return Array.isArray(c)?c.reduce(AO,l):{...l,...c}}let W_=(()=>{class l{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new B.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new B.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{na.assertNotInAngularZone(),xS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,Oe.T)(_,w.pipe((0,Me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof By;if(!this._injector.get(fm).done)throw!p&&cn(u),new ye(405,false);let w;w=p?u:this._injector.get(Tg).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const T=function SO(l){return l.isBoundToModule}(w)?void 0:this._injector.get(em),O=w.create(ou.NULL,[],h||w.selector,T),F=O.location.nativeElement,Q=O.injector.get(OS,null);return Q?.registerApplication(F),O.onDestroy(()=>{this.detachView(O.hostView),q_(this.components,O),Q?.unregisterApplication(F)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;q_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(wS,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>q_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ye(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(u){return new(u||l)(yi(na),yi(bd),yi(wd))},l.\u0275prov=Pe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function q_(l,c){const u=l.indexOf(c);u>-1&&l.splice(u,1)}let Y_=!0,$n=!1;function K_(){return $n=!0,Y_}function mm(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Y_=!1}let MO=(()=>{class l{}return l.__NG_ELEMENT_ID__=OO,l})();function OO(l){return function Ls(l,c,u){if(Le(l)&&!u){const h=Ji(l.index,c);return new Dd(h,h)}return 47&l.type?new Dd(c[16],c):null}(Wi(),bt(),16==(16&l))}class Q_{constructor(){}supports(c){return Ng(c)}create(c){return new Lw(c)}}const Nw=(l,c)=>c;class Lw{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Nw}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,h=this._removalsHead,p=0,_=null;for(;u||h;){const w=!h||u&&u.currentIndex<Hf(h,p,_)?u:h,T=Hf(w,p,_),S=w.currentIndex;if(w===h)p--,h=h._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const O=T-p,F=S-p;if(O!=F){for(let Te=0;Te<O;Te++){const We=Te<_.length?_[Te]:_[Te]=0,mt=We+Te;F<=mt&&mt<O&&(_[Te]=We+1)}_[w.previousIndex]=F-O}}T!==S&&c(w,T,S)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Ng(c))throw new ye(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,_,w,u=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let T=0;T<this.length;T++)_=c[T],w=this._trackByFn(T,_),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,_,w,T)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,T),h=!0),u=u._next}else p=0,function k1(l,c){if(Array.isArray(l))for(let u=0;u<l.length;u++)c(l[u]);else{const u=l[yf()]();let h;for(;!(h=u.next()).done;)c(h.value)}}(c,T=>{w=this._trackByFn(p,T),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,T,w,p)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,w,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,h,p){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,_,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,_,p)):c=this._addAfter(new Fw(u,h),_,p),c}_verifyReinsertion(c,u,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,_=c._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(c,u,h),this._addToMoves(c,h),c}_moveAfter(c,u,h){return this._unlink(c),this._insertAfter(c,u,h),this._addToMoves(c,h),c}_addAfter(c,u,h){return this._insertAfter(c,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,h){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new jS),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,h=c._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jS),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Fw{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zS{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const u=c._prevDup,h=c._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class jS{constructor(){this.map=new Map}put(c){const u=c.trackById;let h=this.map.get(u);h||(h=new zS,this.map.set(u,h)),h.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hf(l,c,u){const h=l.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+c+p}class GS{constructor(){}supports(c){return c instanceof Map||_f(c)}create(){return new vm}}class vm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||_f(c)))throw new ye(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const h=c._prev;return u._next=c,u._prev=h,c._prev=u,h&&(h._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const h=new FO(c);return this._records.set(c,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(h=>u(c[h],h))}}class FO{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WS(){return new zf([new Q_])}let zf=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||WS()),deps:[[l,new Ja,new Xa]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new ye(901,!1)}}return l.\u0275prov=Pe({token:l,providedIn:"root",factory:WS}),l})();function YS(){return new X_([new GS])}let X_=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||YS()),deps:[[l,new Ja,new Xa]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new ye(901,!1)}}return l.\u0275prov=Pe({token:l,providedIn:"root",factory:YS}),l})();const Vw=xw(null,"core",[]);let $w=(()=>{class l{constructor(u){}}return l.\u0275fac=function(u){return new(u||l)(yi(W_))},l.\u0275mod=Qi({type:l}),l.\u0275inj=kt({}),l})();function Uw(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function zw(l,c){const u=et(l),h=c.elementInjector||Fy();return new mf(u).create(h,c.projectableNodes,c.hostElement,c.environmentInjector)}function cs(l){const c=et(l);if(!c)return null;const u=new mf(c);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return c.standalone}}}},3942:(Lt,qe,R)=>{"use strict";R.d(qe,{Z:()=>ye});var o=R(2090),de=R(4859),B=R(6881),Oe=R(1877);class Me{constructor(oe,ie){this._delegate=oe,this.firebase=ie,(0,B._addComponent)(oe,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(oe,ie=B._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(oe);return!tt.isInitialized()&&"EXPLICIT"===(null===(Ae=tt.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ie})}_removeServiceInstance(oe,ie=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(ie)}_addComponent(oe){(0,B._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,B._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function xe(){const Qe=function Ee(Qe){const oe={},ie={__esModule:!0,initializeApp:function Fe(Y,te={}){const U=B.initializeApp(Y,te);if((0,o.r3)(oe,U.name))return oe[U.name];const ue=new Qe(U,ie);return oe[U.name]=ue,ue},app:tt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function be(Y){const te=Y.name,U=te.replace("-compat","");if(B._registerComponent(Y)&&"PUBLIC"===Y.type){const ue=(ne=tt())=>{if("function"!=typeof ne[U])throw X.create("invalid-app-argument",{appName:te});return ne[U]()};void 0!==Y.serviceProps&&(0,o.ZB)(ue,Y.serviceProps),ie[U]=ue,Qe.prototype[U]=function(...ne){return this._getService.bind(this,te).apply(this,Y.multipleInstances?ne:[])}}return"PUBLIC"===Y.type?ie[U]:null},removeApp:function Ae(Y){delete oe[Y]},useAsService:function Ke(Y,te){return"serverAuth"===te?null:te},modularAPIs:B}};function tt(Y){if(!(0,o.r3)(oe,Y=Y||B._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:Y});return oe[Y]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function ke(){return Object.keys(oe).map(Y=>oe[Y])}}),tt.App=Qe,ie}(Me);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function oe(ie){(0,o.ZB)(Qe,ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Qe}(),G=new Oe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=se;!function Se(Qe){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Qe)}()},6881:(Lt,qe,R)=>{"use strict";R.r(qe),R.d(qe,{FirebaseError:()=>Oe.ZR,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>ci,_addComponent:()=>qt,_addOrOverwriteComponent:()=>an,_apps:()=>Yn,_clearComponents:()=>Kn,_components:()=>Ln,_getProvider:()=>si,_registerComponent:()=>yn,_removeServiceInstance:()=>Hn,deleteApp:()=>Bi,getApp:()=>Oi,getApps:()=>Di,initializeApp:()=>zn,onLog:()=>kr,registerVersion:()=>zi,setLogLevel:()=>ai});var o=R(5861),de=R(4859),B=R(1877),Oe=R(2090);let _e,X;const se=new WeakMap,G=new WeakMap,re=new WeakMap,le=new WeakMap,Se=new WeakMap;let oe={get(fe,me,Je){if(fe instanceof IDBTransaction){if("done"===me)return G.get(fe);if("objectStoreNames"===me)return fe.objectStoreNames||re.get(fe);if("store"===me)return Je.objectStoreNames[1]?void 0:Je.objectStore(Je.objectStoreNames[0])}return Fe(fe[me])},set:(fe,me,Je)=>(fe[me]=Je,!0),has:(fe,me)=>fe instanceof IDBTransaction&&("done"===me||"store"===me)||me in fe};function tt(fe){return"function"==typeof fe?function Ae(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...me){return fe.apply(ke(this),me),Fe(se.get(this))}:function(...me){return Fe(fe.apply(ke(this),me))}:function(me,...Je){const st=fe.call(ke(this),me,...Je);return re.set(st,me.sort?me.sort():[me]),Fe(st)}}(fe):(fe instanceof IDBTransaction&&function Qe(fe){if(G.has(fe))return;const me=new Promise((Je,st)=>{const Rt=()=>{fe.removeEventListener("complete",Gt),fe.removeEventListener("error",Tn),fe.removeEventListener("abort",Tn)},Gt=()=>{Je(),Rt()},Tn=()=>{st(fe.error||new DOMException("AbortError","AbortError")),Rt()};fe.addEventListener("complete",Gt),fe.addEventListener("error",Tn),fe.addEventListener("abort",Tn)});G.set(fe,me)}(fe),((fe,me)=>me.some(Je=>fe instanceof Je))(fe,function Ee(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,oe):fe)}function Fe(fe){if(fe instanceof IDBRequest)return function ye(fe){const me=new Promise((Je,st)=>{const Rt=()=>{fe.removeEventListener("success",Gt),fe.removeEventListener("error",Tn)},Gt=()=>{Je(Fe(fe.result)),Rt()},Tn=()=>{st(fe.error),Rt()};fe.addEventListener("success",Gt),fe.addEventListener("error",Tn)});return me.then(Je=>{Je instanceof IDBCursor&&se.set(Je,fe)}).catch(()=>{}),Se.set(me,fe),me}(fe);if(le.has(fe))return le.get(fe);const me=tt(fe);return me!==fe&&(le.set(fe,me),Se.set(me,fe)),me}const ke=fe=>Se.get(fe),Y=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],U=new Map;function ue(fe,me){if(!(fe instanceof IDBDatabase)||me in fe||"string"!=typeof me)return;if(U.get(me))return U.get(me);const Je=me.replace(/FromIndex$/,""),st=me!==Je,Rt=te.includes(Je);if(!(Je in(st?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Y.includes(Je))return;const Gt=function(){var Tn=(0,o.Z)(function*(Zn,...Pn){const di=this.transaction(Zn,Rt?"readwrite":"readonly");let ji=di.store;return st&&(ji=ji.index(Pn.shift())),(yield Promise.all([ji[Je](...Pn),Rt&&di.done]))[0]});return function(Pn){return Tn.apply(this,arguments)}}();return U.set(me,Gt),Gt}!function ie(fe){oe=fe(oe)}(fe=>({...fe,get:(me,Je,st)=>ue(me,Je)||fe.get(me,Je,st),has:(me,Je)=>!!ue(me,Je)||fe.has(me,Je)}));class ne{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function W(fe){return"VERSION"===fe.getComponent()?.type}(Je)){const st=Je.getImmediate();return`${st.library}/${st.version}`}return null}).filter(Je=>Je).join(" ")}}const ee="@firebase/app",It=new B.Yd("@firebase/app"),ci="[DEFAULT]",ui={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,Ln=new Map;function qt(fe,me){try{fe.container.addComponent(me)}catch(Je){It.debug(`Component ${me.name} failed to register with FirebaseApp ${fe.name}`,Je)}}function an(fe,me){fe.container.addOrOverwriteComponent(me)}function yn(fe){const me=fe.name;if(Ln.has(me))return It.debug(`There were multiple attempts to register component ${me}.`),!1;Ln.set(me,fe);for(const Je of Yn.values())qt(Je,fe);return!0}function si(fe,me){const Je=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),fe.container.getProvider(me)}function Hn(fe,me,Je=ci){si(fe,me).clearInstance(Je)}function Kn(){Ln.clear()}const Qn=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(me,Je,st){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const Cr="9.23.0";function zn(fe,me={}){let Je=fe;"object"!=typeof me&&(me={name:me});const st=Object.assign({name:ci,automaticDataCollectionEnabled:!1},me),Rt=st.name;if("string"!=typeof Rt||!Rt)throw Qn.create("bad-app-name",{appName:String(Rt)});if(Je||(Je=(0,Oe.aH)()),!Je)throw Qn.create("no-options");const Gt=Yn.get(Rt);if(Gt){if((0,Oe.vZ)(Je,Gt.options)&&(0,Oe.vZ)(st,Gt.config))return Gt;throw Qn.create("duplicate-app",{appName:Rt})}const Tn=new de.H0(Rt);for(const Pn of Ln.values())Tn.addComponent(Pn);const Zn=new Fn(Je,st,Tn);return Yn.set(Rt,Zn),Zn}function Oi(fe=ci){const me=Yn.get(fe);if(!me&&fe===ci&&(0,Oe.aH)())return zn();if(!me)throw Qn.create("no-app",{appName:fe});return me}function Di(){return Array.from(Yn.values())}function Bi(fe){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(fe){const me=fe.name;Yn.has(me)&&(Yn.delete(me),yield Promise.all(fe.container.getProviders().map(Je=>Je.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function zi(fe,me,Je){var st;let Rt=null!==(st=ui[fe])&&void 0!==st?st:fe;Je&&(Rt+=`-${Je}`);const Gt=Rt.match(/\s|\//),Tn=me.match(/\s|\//);if(Gt||Tn){const Zn=[`Unable to register library "${Rt}" with version "${me}":`];return Gt&&Zn.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),Gt&&Tn&&Zn.push("and"),Tn&&Zn.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void It.warn(Zn.join(" "))}yn(new de.wA(`${Rt}-version`,()=>({library:Rt,version:me}),"VERSION"))}function kr(fe,me){if(null!==fe&&"function"!=typeof fe)throw Qn.create("invalid-log-argument");(0,B.Am)(fe,me)}function ai(fe){(0,B.Ub)(fe)}const pe="firebase-heartbeat-store";let ce=null;function Re(){return ce||(ce=function be(fe,me,{blocked:Je,upgrade:st,blocking:Rt,terminated:Gt}={}){const Tn=indexedDB.open(fe,me),Zn=Fe(Tn);return st&&Tn.addEventListener("upgradeneeded",Pn=>{st(Fe(Tn.result),Pn.oldVersion,Pn.newVersion,Fe(Tn.transaction),Pn)}),Je&&Tn.addEventListener("blocked",Pn=>Je(Pn.oldVersion,Pn.newVersion,Pn)),Zn.then(Pn=>{Gt&&Pn.addEventListener("close",()=>Gt()),Rt&&Pn.addEventListener("versionchange",di=>Rt(di.oldVersion,di.newVersion,di))}).catch(()=>{}),Zn}("firebase-heartbeat-database",1,{upgrade:(fe,me)=>{0===me&&fe.createObjectStore(pe)}}).catch(fe=>{throw Qn.create("idb-open",{originalErrorMessage:fe.message})})),ce}function Ve(){return(Ve=(0,o.Z)(function*(fe){try{return yield(yield Re()).transaction(pe).objectStore(pe).get(xn(fe))}catch(me){if(me instanceof Oe.ZR)It.warn(me.message);else{const Je=Qn.create("idb-get",{originalErrorMessage:me?.message});It.warn(Je.message)}}})).apply(this,arguments)}function Mt(fe,me){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.Z)(function*(fe,me){try{const st=(yield Re()).transaction(pe,"readwrite");yield st.objectStore(pe).put(me,xn(fe)),yield st.done}catch(Je){if(Je instanceof Oe.ZR)It.warn(Je.message);else{const st=Qn.create("idb-set",{originalErrorMessage:Je?.message});It.warn(st.message)}}})).apply(this,arguments)}function xn(fe){return`${fe.name}!${fe.options.appId}`}class we{constructor(me){this.container=me,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new gt(Je),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var me=this;return(0,o.Z)(function*(){const st=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Ce();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!me._heartbeatsCache.heartbeats.some(Gt=>Gt.date===Rt))return me._heartbeatsCache.heartbeats.push({date:Rt,agent:st}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(Gt=>{const Tn=new Date(Gt.date).valueOf();return Date.now()-Tn<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,o.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const Je=Ce(),{heartbeatsToSend:st,unsentEntries:Rt}=function Xe(fe,me=1024){const Je=[];let st=fe.slice();for(const Rt of fe){const Gt=Je.find(Tn=>Tn.agent===Rt.agent);if(Gt){if(Gt.dates.push(Rt.date),dt(Je)>me){Gt.dates.pop();break}}else if(Je.push({agent:Rt.agent,dates:[Rt.date]}),dt(Je)>me){Je.pop();break}st=st.slice(1)}return{heartbeatsToSend:Je,unsentEntries:st}}(me._heartbeatsCache.heartbeats),Gt=(0,Oe.L)(JSON.stringify({version:2,heartbeats:st}));return me._heartbeatsCache.lastSentHeartbeatDate=Je,Rt.length>0?(me._heartbeatsCache.heartbeats=Rt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Gt})()}}function Ce(){return(new Date).toISOString().substring(0,10)}class gt{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,o.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function et(fe){return Ve.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var Je=this;return(0,o.Z)(function*(){var st;if(yield Je._canUseIndexedDBPromise){const Gt=yield Je.read();return Mt(Je.app,{lastSentHeartbeatDate:null!==(st=me.lastSentHeartbeatDate)&&void 0!==st?st:Gt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Je=this;return(0,o.Z)(function*(){var st;if(yield Je._canUseIndexedDBPromise){const Gt=yield Je.read();return Mt(Je.app,{lastSentHeartbeatDate:null!==(st=me.lastSentHeartbeatDate)&&void 0!==st?st:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...me.heartbeats]})}})()}}function dt(fe){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:fe})).length}!function xt(fe){yn(new de.wA("platform-logger",me=>new ne(me),"PRIVATE")),yn(new de.wA("heartbeat",me=>new we(me),"PRIVATE")),zi(ee,"0.9.13",fe),zi(ee,"0.9.13","esm2017"),zi("fire-js","")}("")},4859:(Lt,qe,R)=>{"use strict";R.d(qe,{H0:()=>Ee,wA:()=>B});var o=R(5861),de=R(2090);class B{constructor(se,G,re){this.name=se,this.instanceFactory=G,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Oe="[DEFAULT]";class Me{constructor(se,G){this.name=se,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const G=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(G)){const re=new de.BH;if(this.instancesDeferred.set(G,re),this.isInitialized(G)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:G});le&&re.resolve(le)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(se){var G;const re=this.normalizeInstanceIdentifier(se?.identifier),le=null!==(G=se?.optional)&&void 0!==G&&G;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Se){if(le)return null;throw Se}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function X(xe){return"EAGER"===xe.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[G,re]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:le});re.resolve(Se)}catch{}}}}clearInstance(se=Oe){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,o.Z)(function*(){const G=Array.from(se.instances.values());yield Promise.all([...G.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...G.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Oe){return this.instances.has(se)}getOptions(se=Oe){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:G={}}=se,re=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:re,options:G});for(const[Se,ye]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Se)&&ye.resolve(le);return le}onInit(se,G){var re;const le=this.normalizeInstanceIdentifier(G),Se=null!==(re=this.onInitCallbacks.get(le))&&void 0!==re?re:new Set;Se.add(se),this.onInitCallbacks.set(le,Se);const ye=this.instances.get(le);return ye&&se(ye,le),()=>{Se.delete(se)}}invokeOnInitCallbacks(se,G){const re=this.onInitCallbacks.get(G);if(re)for(const le of re)try{le(se,G)}catch{}}getOrInitializeService({instanceIdentifier:se,options:G={}}){let re=this.instances.get(se);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=se,xe===Oe?void 0:xe),options:G}),this.instances.set(se,re),this.instancesOptions.set(se,G),this.invokeOnInitCallbacks(re,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,re)}catch{}var xe;return re||null}normalizeInstanceIdentifier(se=Oe){return this.component?this.component.multipleInstances?se:Oe:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const G=this.getProvider(se.name);if(G.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);G.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const G=new Me(se,this);return this.providers.set(se,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(Lt,qe,R)=>{"use strict";R.d(qe,{Am:()=>xe,Ub:()=>Ee,Yd:()=>X,in:()=>de});const o=[];var de=(()=>{return(se=de||(de={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",de;var se})();const B={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},Oe=de.INFO,Me={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},_e=(se,G,...re)=>{if(G<se.logLevel)return;const le=(new Date).toISOString(),Se=Me[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${le}]  ${se.name}:`,...re)};class X{constructor(G){this.name=G,this._logLevel=Oe,this._logHandler=_e,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in de))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?B[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...G),this._logHandler(this,de.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...G),this._logHandler(this,de.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,de.INFO,...G),this._logHandler(this,de.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,de.WARN,...G),this._logHandler(this,de.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...G),this._logHandler(this,de.ERROR,...G)}}function Ee(se){o.forEach(G=>{G.setLogLevel(se)})}function xe(se,G){for(const re of o){let le=null;G&&G.level&&(le=B[G.level]),re.userLogHandler=null===se?null:(Se,ye,...Qe)=>{const oe=Qe.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch{return null}}).filter(ie=>ie).join(" ");ye>=(le??Se.logLevel)&&se({level:de[ye].toLowerCase(),message:oe,args:Qe,type:Se.name})}}}},259:(Lt,qe,R)=>{"use strict";R.d(qe,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=R(6881);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(Lt,qe,R)=>{"use strict";R.d(qe,{Z:()=>o.Z});var o=R(3942);o.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Lt,qe,R)=>{"use strict";R.r(qe);var o=R(5861),de=R(3942),B=R(2090),Oe=R(6881),Me=R(7582),_e=R(1877),X=R(4859);const ye=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new _e.Yd("@firebase/auth");function Fe(b,...m){Ae.logLevel<=_e.in.ERROR&&Ae.error(`Auth (${Oe.SDK_VERSION}): ${b}`,...m)}function ke(b,...m){throw te(b,...m)}function be(b,...m){return te(b,...m)}function Ke(b,m,y){const C=Object.assign(Object.assign({},Qe()),{[m]:y});return new B.LL("auth","Firebase",C).create(m,{appName:b.name})}function Y(b,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&ke(b,"argument-error"),Ke(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function te(b,...m){if("string"!=typeof b){const y=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(y,...C)}return oe.create(b,...m)}function U(b,m,...y){if(!b)throw te(m,...y)}function ue(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Fe(m),new Error(m)}function ne(b,m){b||ue(m)}function W(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ee(){return"http:"===ut()||"https:"===ut()}function ut(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ye{constructor(m,y){this.shortDelay=m,this.longDelay=y,ne(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ee()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z(b,m){ne(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class H{static initialize(m,y,C){this.fetchImpl=m,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new Ye(3e4,6e4);function Ge(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Pe(b,m,y,C){return _t.apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(b,m,y,C,M={}){return kt(b,M,(0,o.Z)(function*(){let N={},ve={};C&&("GET"===m?ve=C:N={body:JSON.stringify(C)});const ze=(0,B.xO)(Object.assign({key:b.config.apiKey},ve)).slice(1),wt=yield b._getAdditionalHeaders();return wt["Content-Type"]="application/json",b.languageCode&&(wt["X-Firebase-Locale"]=b.languageCode),H.fetch()(yt(b,b.config.apiHost,y,ze),Object.assign({method:m,headers:wt,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function kt(b,m,y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(b,m,y){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},he),m);try{const M=new rt(b),N=yield Promise.race([y(),M.promise]);M.clearNetworkTimeout();const ve=yield N.json();if("needConfirmation"in ve)throw ot(b,"account-exists-with-different-credential",ve);if(N.ok&&!("errorMessage"in ve))return ve;{const ze=N.ok?ve.errorMessage:ve.error.message,[wt,Bt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw ot(b,"credential-already-in-use",ve);if("EMAIL_EXISTS"===wt)throw ot(b,"email-already-in-use",ve);if("USER_DISABLED"===wt)throw ot(b,"user-disabled",ve);const on=C[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Bt)throw Ke(b,on,Bt);ke(b,on)}}catch(M){if(M instanceof B.ZR)throw M;ke(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Ut(b,m,y,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(b,m,y,C,M={}){const N=yield Pe(b,m,y,C,M);return"mfaPendingCredential"in N&&ke(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function yt(b,m,y,C){const M=`${m}${y}?${C}`;return b.config.emulator?z(b.config,M):`${b.config.apiScheme}://${M}`}class rt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(be(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ot(b,m,y){const C={appName:b.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const M=be(b,m,C);return M.customData._tokenResponse=y,M}function Vt(){return(Vt=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function nn(b,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Tt(b,m){return dn.apply(this,arguments)}function dn(){return(dn=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Un(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ci(){return(ci=(0,o.Z)(function*(b,m=!1){const y=(0,B.m9)(b),C=yield y.getIdToken(m),M=Yn(C);U(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ve=N?.sign_in_provider;return{claims:M,token:C,authTime:Un(ui(M.auth_time)),issuedAtTime:Un(ui(M.iat)),expirationTime:Un(ui(M.exp)),signInProvider:ve||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(b){return 1e3*Number(b)}function Yn(b){const[m,y,C]=b.split(".");if(void 0===m||void 0===y||void 0===C)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(y);return M?JSON.parse(M):(Fe("Failed to decode base64 JWT payload"),null)}catch(M){return Fe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function qt(b,m){return an.apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(b,m,y=!1){if(y)return m;try{return yield m}catch(C){throw C instanceof B.ZR&&yn(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function yn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class si{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),C)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Hn{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(b){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(b){var m;const y=b.auth,C=yield b.getIdToken(),M=yield qt(b,Tt(y,{idToken:C}));U(M?.users.length,y,"internal-error");const N=M.users[0];b._notifyReloadListener(N);const ve=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?zn(N.providerUserInfo):[],ze=Cr(b.providerData,ve),on=!!b.isAnonymous&&!(b.email&&N.passwordHash||ze?.length),ln={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ze,metadata:new Hn(N.createdAt,N.lastLoginAt),isAnonymous:on};Object.assign(b,ln)})).apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(b){const m=(0,B.m9)(b);yield Kn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Cr(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function zn(b){return b.map(m=>{var{providerId:y}=m,C=(0,Me._T)(m,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Di(){return(Di=(0,o.Z)(function*(b,m){const y=yield kt(b,{},(0,o.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=b.config,ve=yt(b,M,"/v1/token",`key=${N}`),ze=yield b._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(ve,{method:"POST",headers:ze,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){U(m.idToken,"internal-error"),U(typeof m.idToken<"u","internal-error"),U(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ln(b){const m=Yn(b);return U(m,"internal-error"),U(typeof m.exp<"u","internal-error"),U(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var C=this;return(0,o.Z)(function*(){return U(!C.accessToken||C.refreshToken,m,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var C=this;return(0,o.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ve}=yield function Oi(b,m){return Di.apply(this,arguments)}(m,y);C.updateTokensAndExpiration(M,N,Number(ve))})()}updateTokensAndExpiration(m,y,C){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,y){const{refreshToken:C,accessToken:M,expirationTime:N}=y,ve=new Bi;return C&&(U("string"==typeof C,"internal-error",{appName:m}),ve.refreshToken=C),M&&(U("string"==typeof M,"internal-error",{appName:m}),ve.accessToken=M),N&&(U("number"==typeof N,"internal-error",{appName:m}),ve.expirationTime=N),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return ue("not implemented")}}function vi(b,m){U("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class zi{constructor(m){var{uid:y,auth:C,stsTokenManager:M}=m,N=(0,Me._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Hn(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const C=yield qt(y,y.stsTokenManager.getToken(y.auth,m));return U(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(m){return function Zi(b){return ci.apply(this,arguments)}(this,m)}reload(){return function Qn(b){return Fn.apply(this,arguments)}(this)}_assign(m){this!==m&&(U(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new zi(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var C=this;return(0,o.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),y&&(yield Kn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield qt(m,function vt(b,m){return Vt.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var C,M,N,ve,ze,wt,Bt,on;const ln=null!==(C=y.displayName)&&void 0!==C?C:void 0,Si=null!==(M=y.email)&&void 0!==M?M:void 0,ss=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,Xh=null!==(ve=y.photoURL)&&void 0!==ve?ve:void 0,My=null!==(ze=y.tenantId)&&void 0!==ze?ze:void 0,Jh=null!==(wt=y._redirectEventId)&&void 0!==wt?wt:void 0,ef=null!==(Bt=y.createdAt)&&void 0!==Bt?Bt:void 0,vg=null!==(on=y.lastLoginAt)&&void 0!==on?on:void 0,{uid:bg,emailVerified:Oy,isAnonymous:wg,providerData:ru,stsTokenManager:ky}=y;U(bg&&ky,m,"internal-error");const Ig=Bi.fromJSON(this.name,ky);U("string"==typeof bg,m,"internal-error"),vi(ln,m.name),vi(Si,m.name),U("boolean"==typeof Oy,m,"internal-error"),U("boolean"==typeof wg,m,"internal-error"),vi(ss,m.name),vi(Xh,m.name),vi(My,m.name),vi(Jh,m.name),vi(ef,m.name),vi(vg,m.name);const Aa=new zi({uid:bg,auth:m,email:Si,emailVerified:Oy,displayName:ln,isAnonymous:wg,photoURL:Xh,phoneNumber:ss,tenantId:My,stsTokenManager:Ig,createdAt:ef,lastLoginAt:vg});return ru&&Array.isArray(ru)&&(Aa.providerData=ru.map(ar=>Object.assign({},ar))),Jh&&(Aa._redirectEventId=Jh),Aa}static _fromIdTokenResponse(m,y,C=!1){return(0,o.Z)(function*(){const M=new Bi;M.updateFromServerResponse(y);const N=new zi({uid:y.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Kn(N),N})()}}const kr=new Map;function ai(b){ne(b instanceof Function,"Expected a class definition");let m=kr.get(b);return m?(ne(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,kr.set(b,m),m)}const Ei=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,C){var M=this;return(0,o.Z)(function*(){M.storage[y]=C})()}_get(y){var C=this;return(0,o.Z)(function*(){const M=C.storage[y];return void 0===M?null:M})()}_remove(y){var C=this;return(0,o.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return b.type="NONE",b})();function pe(b,m,y){return`firebase:${b}:${m}:${y}`}class ce{constructor(m,y,C){this.persistence=m,this.auth=y,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=pe(this.userKey,M.apiKey,N),this.fullPersistenceKey=pe("persistence",M.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?zi._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,C="authUser"){return(0,o.Z)(function*(){if(!y.length)return new ce(ai(Ei),m,C);const M=(yield Promise.all(y.map(function(){var Bt=(0,o.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return Bt.apply(this,arguments)}}()))).filter(Bt=>Bt);let N=M[0]||ai(Ei);const ve=pe(C,m.config.apiKey,m.name);let ze=null;for(const Bt of y)try{const on=yield Bt._get(ve);if(on){const ln=zi._fromJSON(m,on);Bt!==N&&(ze=ln),N=Bt;break}}catch{}const wt=M.filter(Bt=>Bt._shouldAllowMigration);return N._shouldAllowMigration&&wt.length?(N=wt[0],ze&&(yield N._set(ve,ze.toJSON())),yield Promise.all(y.map(function(){var Bt=(0,o.Z)(function*(on){if(on!==N)try{yield on._remove(ve)}catch{}});return function(on){return Bt.apply(this,arguments)}}())),new ce(N,m,C)):new ce(N,m,C)})()}}function Re(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(cn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(et(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(J(m))return"Blackberry";if(j(m))return"Webos";if(Ve(m))return"Safari";if((m.includes("chrome/")||Mt(m))&&!m.includes("edge/"))return"Chrome";if(xn(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function et(b=(0,B.z$)()){return/firefox\//i.test(b)}function Ve(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Mt(b=(0,B.z$)()){return/crios\//i.test(b)}function cn(b=(0,B.z$)()){return/iemobile/i.test(b)}function xn(b=(0,B.z$)()){return/android/i.test(b)}function J(b=(0,B.z$)()){return/blackberry/i.test(b)}function j(b=(0,B.z$)()){return/webos/i.test(b)}function we(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function dt(b=(0,B.z$)()){return we(b)||xn(b)||j(b)||J(b)||/windows phone/i.test(b)||cn(b)}function fe(b,m=[]){let y;switch(b){case"Browser":y=Re((0,B.z$)());break;case"Worker":y=`${Re((0,B.z$)())}-${b}`;break;default:y=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${Oe.SDK_VERSION}/${C}`}function Je(){return(Je=(0,o.Z)(function*(b){return(yield Pe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function st(b,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(b,m){return Pe(b,"GET","/v2/recaptchaConfig",Ge(b,m))})).apply(this,arguments)}function Gt(b){return void 0!==b&&void 0!==b.getResponse}function Tn(b){return void 0!==b&&void 0!==b.enterprise}class Zn{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function di(b){return new Promise((m,y)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const N=be("internal-error");N.customData=M,y(N)},C.type="text/javascript",C.charset="UTF-8",function Pn(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function ji(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Wn{constructor(m){this.type="recaptcha-enterprise",this.auth=Xn(m)}verify(m="verify",y=!1){var C=this;return(0,o.Z)(function*(){function N(){return N=(0,o.Z)(function*(ze){if(!y){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var wt=(0,o.Z)(function*(Bt,on){st(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ln=>{if(void 0!==ln.recaptchaKey){const Si=new Zn(ln);return null==ze.tenantId?ze._agentRecaptchaConfig=Si:ze._tenantRecaptchaConfigs[ze.tenantId]=Si,Bt(Si.siteKey)}on(new Error("recaptcha Enterprise site key undefined"))}).catch(ln=>{on(ln)})});return function(Bt,on){return wt.apply(this,arguments)}}())}),N.apply(this,arguments)}function ve(ze,wt,Bt){const on=window.grecaptcha;Tn(on)?on.enterprise.ready(()=>{on.enterprise.execute(ze,{action:m}).then(ln=>{wt(ln)}).catch(()=>{wt("NO_RECAPTCHA")})}):Bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,wt)=>{(function M(ze){return N.apply(this,arguments)})(C.auth).then(Bt=>{if(!y&&Tn(window.grecaptcha))ve(Bt,ze,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));di("https://www.google.com/recaptcha/enterprise.js?render="+Bt).then(()=>{ve(Bt,ze,wt)}).catch(on=>{wt(on)})}}).catch(Bt=>{wt(Bt)})})})()}}function ns(b,m,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.Z)(function*(b,m,y,C=!1){const M=new Wn(b);let N;try{N=yield M.verify(y)}catch{N=yield M.verify(y,!0)}const ve=Object.assign({},m);return Object.assign(ve,C?{captchaResp:N}:{captchaResponse:N}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}class hs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const C=N=>new Promise((ve,ze)=>{try{ve(m(N))}catch(wt){ze(wt)}});C.onAbort=y,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){if(y.auth.currentUser===m)return;const C=[];try{for(const M of y.queue)yield M(m),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const N of C)try{N()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class $o{constructor(m,y,C,M){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fs(this),this.idTokenSubscription=new fs(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(m,y){var C=this;return y&&(this._popupRedirectResolver=ai(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield ce.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var C;const M=yield y.assertedPersistence.getCurrentUser();let N=M,ve=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ze=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,wt=N?._redirectEventId,Bt=yield y.tryRedirectSignIn(m);(!ze||ze===wt)&&Bt?.user&&(N=Bt.user,ve=!0)}if(!N)return y.directlySetCurrentUser(null);if(!N._redirectEventId){if(ve)try{yield y.beforeStateQueue.runMiddleware(N)}catch(ze){N=M,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ze))}return N?y.reloadAndSetCurrentUserOrClear(N):y.directlySetCurrentUser(null)}return U(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===N._redirectEventId?y.directlySetCurrentUser(N):y.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){try{yield Kn(m)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const C=m?(0,B.m9)(m):null;return C&&U(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(m,y=!1){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return m&&U(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(ai(m))}))}initializeRecaptchaConfig(){var m=this;return(0,o.Z)(function*(){const y=yield st(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Zn(y);null==m.tenantId?m._agentRecaptchaConfig=C:m._tenantRecaptchaConfigs[m.tenantId]=C,C.emailPasswordEnabled&&new Wn(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,y,C){return this.registerStateListener(this.authStateSubscription,m,y,C)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,C){return this.registerStateListener(this.idTokenSubscription,m,y,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var C=this;return(0,o.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(y);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const C=m&&ai(m)||y._popupRedirectResolver;U(C,y,"argument-error"),y.redirectPersistenceManager=yield ce.create(y,[ai(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var C,M;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===m?y._currentUser:(null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,C,M){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return U(ve,this,"internal-error"),ve.then(()=>N(this.currentUser)),"function"==typeof y?m.addObserver(y,C,M):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();M&&(C["X-Firebase-Client"]=M);const N=yield m._getAppCheckToken();return N&&(C["X-Firebase-AppCheck"]=N),C})()}_getAppCheckToken(){var m=this;return(0,o.Z)(function*(){var y;const C=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function tt(b,...m){Ae.logLevel<=_e.in.WARN&&Ae.warn(`Auth (${Oe.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Xn(b){return(0,B.m9)(b)}class fs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(y=>this.observer=y)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ki(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function q(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Ne{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ue("not implemented")}_getIdTokenResponse(m){return ue("not implemented")}_linkToIdToken(m,y){return ue("not implemented")}_getReauthenticationResolver(m){return ue("not implemented")}}function K(b,m){return ge.apply(this,arguments)}function ge(){return(ge=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:resetPassword",Ge(b,m))})).apply(this,arguments)}function $e(b,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function it(b,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:update",Ge(b,m))})).apply(this,arguments)}function At(b,m){return In.apply(this,arguments)}function In(){return(In=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithPassword",Ge(b,m))})).apply(this,arguments)}function An(b,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:sendOobCode",Ge(b,m))})).apply(this,arguments)}function Lr(b,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(b,m){return An(b,m)})).apply(this,arguments)}function xs(b,m){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(b,m){return An(b,m)})).apply(this,arguments)}function ps(b,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(b,m){return An(b,m)})).apply(this,arguments)}function lh(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(b,m){return An(b,m)})).apply(this,arguments)}function Lu(){return(Lu=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithEmailLink",Ge(b,m))})).apply(this,arguments)}function Ep(){return(Ep=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithEmailLink",Ge(b,m))})).apply(this,arguments)}class Fu extends Ne{constructor(m,y,C,M=null){super("password",C),this._email=m,this._password=y,this._tenantId=M}static _fromEmailAndPassword(m,y){return new Fu(m,y,"password")}static _fromEmailAndCode(m,y,C=null){return new Fu(m,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){var C;switch(y.signInMethod){case"password":const M={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=m._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const N=yield ns(m,M,"signInWithPassword");return At(m,N)}return At(m,M).catch(function(){var N=(0,o.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield ns(m,M,"signInWithPassword");return At(m,ze)}return Promise.reject(ve)});return function(ve){return N.apply(this,arguments)}}());case"emailLink":return function ch(b,m){return Lu.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:ke(m,"internal-error")}})()}_linkToIdToken(m,y){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return $e(m,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function uh(b,m){return Ep.apply(this,arguments)}(m,{idToken:y,email:C._email,oobCode:C._password});default:ke(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Hs(b,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithIdp",Ge(b,m))})).apply(this,arguments)}class As extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new As(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):ke("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=y,N=(0,Me._T)(y,["providerId","signInMethod"]);if(!C||!M)return null;const ve=new As(C,M);return ve.idToken=N.idToken||void 0,ve.accessToken=N.accessToken||void 0,ve.secret=N.secret,ve.nonce=N.nonce,ve.pendingToken=N.pendingToken||null,ve}_getIdTokenResponse(m){return Hs(m,this.buildRequest())}_linkToIdToken(m,y){const C=this.buildRequest();return C.idToken=y,Hs(m,C)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Hs(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,B.xO)(y)}return m}}function hc(b,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:sendVerificationCode",Ge(b,m))})).apply(this,arguments)}function fc(){return(fc=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",Ge(b,m))})).apply(this,arguments)}function Gi(){return(Gi=(0,o.Z)(function*(b,m){const y=yield Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",Ge(b,m));if(y.temporaryProof)throw ot(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const pc={USER_NOT_FOUND:"user-not-found"};function Pr(){return(Pr=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",Ge(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),pc)})).apply(this,arguments)}class Yr extends Ne{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new Yr({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new Yr({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Bu(b,m){return fc.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Sp(b,m){return Gi.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Dp(b,m){return Pr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:C,verificationCode:M}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:C,phoneNumber:M,temporaryProof:N}=m;return C||y||M||N?new Yr({verificationId:y,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class mc{constructor(m){var y,C,M,N,ve,ze;const wt=(0,B.zd)((0,B.pd)(m)),Bt=null!==(y=wt.apiKey)&&void 0!==y?y:null,on=null!==(C=wt.oobCode)&&void 0!==C?C:null,ln=function oy(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=wt.mode)&&void 0!==M?M:null);U(Bt&&on&&ln,"argument-error"),this.apiKey=Bt,this.operation=ln,this.code=on,this.continueUrl=null!==(N=wt.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ve=wt.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(ze=wt.tenantId)&&void 0!==ze?ze:null}static parseLink(m){const y=function gc(b){const m=(0,B.zd)((0,B.pd)(b)).link,y=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||y||m||b}(m);try{return new mc(y)}catch{return null}}}let Xi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,C){return Fu._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const M=mc.parseLink(C);return U(M,"argument-error"),Fu._fromEmailAndCode(y,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class bo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class yc extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ms extends yc{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return U("providerId"in y&&"signInMethod"in y,"argument-error"),As._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return U(m.idToken||m.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ms.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ms.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:ve,providerId:ze}=m;if(!C&&!M&&!y&&!N||!ze)return null;try{return new Ms(ze)._credential({idToken:y,accessToken:C,nonce:ve,pendingToken:N})}catch{return null}}}let is=(()=>{class b extends yc{constructor(){super("facebook.com")}static credential(y){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Vu=(()=>{class b extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:M}=y;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Dl=(()=>{class b extends yc{constructor(){super("github.com")}static credential(y){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ji extends Ne{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Hs(m,this.buildRequest())}_linkToIdToken(m,y){const C=this.buildRequest();return C.idToken=y,Hs(m,C)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Hs(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:N}=y;return C&&M&&N&&C===M?new Ji(C,N):null}static _create(m,y){return new Ji(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ua extends bo{constructor(m){U(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ua.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ua.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Ji.fromJSON(m);return U(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:C}=m;if(!y||!C)return null;try{return Ji._create(C,y)}catch{return null}}}let $u=(()=>{class b extends yc{constructor(){super("twitter.com")}static credential(y,C){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=y;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function gs(b,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signUp",Ge(b,m))})).apply(this,arguments)}class Fr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,C,M=!1){return(0,o.Z)(function*(){const N=yield zi._fromIdTokenResponse(m,C,M),ve=Sn(C);return new Fr({user:N,providerId:ve,_tokenResponse:C,operationType:y})})()}static _forOperation(m,y,C){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Sn(C);return new Fr({user:m,providerId:M,_tokenResponse:C,operationType:y})})()}}function Sn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function hh(){return(hh=(0,o.Z)(function*(b){var m;const y=Xn(b);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Fr({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield gs(y,{returnSecureToken:!0}),M=yield Fr._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class xl extends B.ZR{constructor(m,y,C,M){var N;super(y.code,y.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,xl.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,y,C,M){return new xl(m,y,C,M)}}function fh(b,m,y,C){return("reauthenticate"===m?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?xl._fromErrorAndOperation(b,N,m,C):N})}function ph(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function zs(){return(zs=(0,o.Z)(function*(b,m){const y=(0,B.m9)(b);yield qn(!0,y,m);const{providerUserInfo:C}=yield nn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),M=ph(C||[]);return y.providerData=y.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function _c(b,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.Z)(function*(b,m,y=!1){const C=yield qt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),y);return Fr._forOperation(b,"link",C)})).apply(this,arguments)}function qn(b,m,y){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.Z)(function*(b,m,y){yield Kn(m);const M=!1===b?"provider-already-linked":"no-such-provider";U(ph(m.providerData).has(y)===b,m.auth,M)})).apply(this,arguments)}function Uu(b,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,o.Z)(function*(b,m,y=!1){const{auth:C}=b,M="reauthenticate";try{const N=yield qt(b,fh(C,M,m,b),y);U(N.idToken,C,"internal-error");const ve=Yn(N.idToken);U(ve,C,"internal-error");const{sub:ze}=ve;return U(b.uid===ze,C,"user-mismatch"),Fr._forOperation(b,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&ke(C,"user-mismatch"),N}})).apply(this,arguments)}function bc(b,m){return da.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(b,m,y=!1){const C="signIn",M=yield fh(b,C,m),N=yield Fr._fromIdTokenResponse(b,C,M);return y||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ms(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(b,m){return bc(Xn(b),m)})).apply(this,arguments)}function Hu(b,m){return zu.apply(this,arguments)}function zu(){return(zu=(0,o.Z)(function*(b,m){const y=(0,B.m9)(b);return yield qn(!1,y,m.providerId),_c(y,m)})).apply(this,arguments)}function qi(b,m){return xp.apply(this,arguments)}function xp(){return(xp=(0,o.Z)(function*(b,m){return Uu((0,B.m9)(b),m)})).apply(this,arguments)}function Ap(b,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(b,m){return Ut(b,"POST","/v1/accounts:signInWithCustomToken",Ge(b,m))})).apply(this,arguments)}function js(){return(js=(0,o.Z)(function*(b,m){const y=Xn(b),C=yield Ap(y,{token:m,returnSecureToken:!0}),M=yield Fr._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class wo{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?_s._fromServerResponse(m,y):"totpInfo"in y?mh._fromServerResponse(m,y):ke(m,"internal-error")}}class _s extends wo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new _s(y)}}class mh extends wo{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new mh(y)}}function ha(b,m,y){var C;U((null===(C=y.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),U(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(U(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(U(y.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function za(){return za=(0,o.Z)(function*(b,m,y){var C;const M=Xn(b),N={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ve=yield ns(M,N,"getOobCode",!0);y&&ha(M,ve,y),yield xs(M,ve)}else y&&ha(M,N,y),yield xs(M,N).catch(function(){var ve=(0,o.Z)(function*(ze){if("auth/missing-recaptcha-token"!==ze.code)return Promise.reject(ze);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const wt=yield ns(M,N,"getOobCode",!0);y&&ha(M,wt,y),yield xs(M,wt)}});return function(ze){return ve.apply(this,arguments)}}())}),za.apply(this,arguments)}function Al(){return(Al=(0,o.Z)(function*(b,m,y){yield K((0,B.m9)(b),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Zr(){return(Zr=(0,o.Z)(function*(b,m){yield it((0,B.m9)(b),{oobCode:m})})).apply(this,arguments)}function Gu(b,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,o.Z)(function*(b,m){const y=(0,B.m9)(b),C=yield K(y,{oobCode:m}),M=C.requestType;switch(U(M,y,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(C.mfaInfo,y,"internal-error");default:U(C.email,y,"internal-error")}let N=null;return C.mfaInfo&&(N=wo._fromServerResponse(Xn(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(b,m){const{data:y}=yield Gu((0,B.m9)(b),m);return y.email})).apply(this,arguments)}function kl(){return kl=(0,o.Z)(function*(b,m,y){var C;const M=Xn(b),N={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let ve;if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Bt=yield ns(M,N,"signUpPassword");ve=gs(M,Bt)}else ve=gs(M,N).catch(function(){var Bt=(0,o.Z)(function*(on){if("auth/missing-recaptcha-token"===on.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ln=yield ns(M,N,"signUpPassword");return gs(M,ln)}return Promise.reject(on)});return function(on){return Bt.apply(this,arguments)}}());const ze=yield ve.catch(Bt=>Promise.reject(Bt)),wt=yield Fr._fromIdTokenResponse(M,"signIn",ze);return yield M._updateCurrentUser(wt.user),wt}),kl.apply(this,arguments)}function Ic(){return Ic=(0,o.Z)(function*(b,m,y){var C;const M=Xn(b),N={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function ve(ze,wt){U(wt.handleCodeInApp,M,"argument-error"),wt&&ha(M,ze,wt)}if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ze=yield ns(M,N,"getOobCode",!0);ve(ze,y),yield ps(M,ze)}else ve(N,y),yield ps(M,N).catch(function(){var ze=(0,o.Z)(function*(wt){if("auth/missing-recaptcha-token"!==wt.code)return Promise.reject(wt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Bt=yield ns(M,N,"getOobCode",!0);ve(Bt,y),yield ps(M,Bt)}});return function(wt){return ze.apply(this,arguments)}}())}),Ic.apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b),M=Xi.credentialWithLink(m,y||W());return U(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ms(C,M)})).apply(this,arguments)}function Pi(b,m){return _h.apply(this,arguments)}function _h(){return(_h=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:createAuthUri",Ge(b,m))})).apply(this,arguments)}function qu(){return(qu=(0,o.Z)(function*(b,m){const C={identifier:m,continueUri:ee()?W():"http://localhost"},{signinMethods:M}=yield Pi((0,B.m9)(b),C);return M||[]})).apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(b,m){const y=(0,B.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&ha(y.auth,M,m);const{email:N}=yield Lr(y.auth,M);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function pa(){return(pa=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};y&&ha(C.auth,N,y);const{email:ve}=yield lh(C.auth,N);ve!==b.email&&(yield b.reload())})).apply(this,arguments)}function Pl(b,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(b,m){return Pe(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Rl(){return(Rl=(0,o.Z)(function*(b,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const C=(0,B.m9)(b),N={idToken:yield C.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},ve=yield qt(C,Pl(C.auth,N));C.displayName=ve.displayName||null,C.photoURL=ve.photoUrl||null;const ze=C.providerData.find(({providerId:wt})=>"password"===wt);ze&&(ze.displayName=C.displayName,ze.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ve)})).apply(this,arguments)}function Nl(b,m,y){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(b,m,y){const{auth:C}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(N.email=m),y&&(N.password=y);const ve=yield qt(b,$e(C,N));yield b._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class Gs{constructor(m,y,C={}){this.isNewUser=m,this.providerId=y,this.profile=C}}class Ku extends Gs{constructor(m,y,C,M){super(m,y,C),this.username=M}}class Ih extends Gs{constructor(m,y){super(m,"facebook.com",y)}}class kp extends Ku{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Zu extends Gs{constructor(m,y){super(m,"google.com",y)}}class Tc extends Ku{constructor(m,y,C){super(m,"twitter.com",y,C)}}function Sc(b){const{user:m,_tokenResponse:y}=b;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Op(b){var m,y;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const ve=null===(y=null===(m=Yn(b.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(ve)return new Gs(N,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!C)return null;switch(C){case"facebook.com":return new Ih(N,M);case"github.com":return new kp(N,M);case"google.com":return new Zu(N,M);case"twitter.com":return new Tc(N,M,b.screenName||null);case"custom":case"anonymous":return new Gs(N,null);default:return new Gs(N,C,M)}}(y)}class ga{constructor(m,y,C){this.type=m,this.credential=y,this.auth=C}static _fromIdtoken(m,y){return new ga("enroll",m,y)}static _fromMfaPendingCredential(m){return new ga("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,C;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ga._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return ga._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Js{constructor(m,y,C){this.session=m,this.hints=y,this.signInResolver=C}static _fromError(m,y){const C=Xn(m),M=y.customData._serverResponse,N=(M.mfaInfo||[]).map(ze=>wo._fromServerResponse(C,ze));U(M.mfaPendingCredential,C,"internal-error");const ve=ga._fromMfaPendingCredential(M.mfaPendingCredential);return new Js(ve,N,function(){var ze=(0,o.Z)(function*(wt){const Bt=yield wt._process(C,ve);delete M.mfaInfo,delete M.mfaPendingCredential;const on=Object.assign(Object.assign({},M),{idToken:Bt.idToken,refreshToken:Bt.refreshToken});switch(y.operationType){case"signIn":const ln=yield Fr._fromIdTokenResponse(C,y.operationType,on);return yield C._updateCurrentUser(ln.user),ln;case"reauthenticate":return U(y.user,C,"internal-error"),Fr._forOperation(y.user,y.operationType,on);default:ke(C,"internal-error")}});return function(wt){return ze.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function Bl(b,m){return Pe(b,"POST","/v2/accounts/mfaEnrollment:start",Ge(b,m))}class ma{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>wo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new ma(m)}getSession(){var m=this;return(0,o.Z)(function*(){return ga._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var C=this;return(0,o.Z)(function*(){const M=m,N=yield C.getSession(),ve=yield qt(C.user,M._process(C.user.auth,N,y));return yield C.user._updateTokensIfNecessary(ve),C.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){const C="string"==typeof m?m:m.uid,M=yield y.user.getIdToken();try{const N=yield qt(y.user,function Ju(b,m){return Pe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(b,m))}(y.user.auth,{idToken:M,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ve})=>ve!==C),yield y.user._updateTokensIfNecessary(N),yield y.user.reload()}catch(N){throw N}})()}}const ya=new WeakMap,_a="__sak";class Ac{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const eo=(()=>{class b extends Ac{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Np(){const b=(0,B.z$)();return Ve(b)||we(b)}()&&function xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&y(C,N,M)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((ze,wt,Bt)=>{this.notifyListeners(ze,Bt)});const M=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(M);if(y.newValue!==ze)null!==y.newValue?this.storage.setItem(M,y.newValue):this.storage.removeItem(M);else if(this.localCache[M]===y.newValue&&!C)return}const N=()=>{const ze=this.storage.getItem(M);!C&&this.localCache[M]===ze||this.notifyListeners(M,ze)},ve=this.storage.getItem(M);!function gt(){return(0,B.w1)()&&10===document.documentMode}()||ve===y.newValue||y.newValue===y.oldValue?N():setTimeout(N,10)}notifyListeners(y,C){this.localCache[y]=C;const M=this.listeners[y];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var M=()=>super._set,N=this;return(0,o.Z)(function*(){yield M().call(N,y,C),N.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,M=this;return(0,o.Z)(function*(){const N=yield C().call(M,y);return M.localCache[y]=JSON.stringify(N),N})()}_remove(y){var C=()=>super._remove,M=this;return(0,o.Z)(function*(){yield C().call(M,y),delete M.localCache[y]})()}}return b.type="LOCAL",b})(),va=(()=>{class b extends Ac{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return b.type="SESSION",b})();let Mc=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(N=>N.isListeningto(y));if(C)return C;const M=new b(y);return this.receivers.push(M),M}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,o.Z)(function*(){const M=y,{eventId:N,eventType:ve,data:ze}=M.data,wt=C.handlersMap[ve];if(!wt?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ve});const Bt=Array.from(wt).map(function(){var ln=(0,o.Z)(function*(Si){return Si(M.origin,ze)});return function(Si){return ln.apply(this,arguments)}}()),on=yield function Lp(b){return Promise.all(b.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return m.apply(this,arguments)}}()))}(Bt);M.ports[0].postMessage({status:"done",eventId:N,eventType:ve,response:on})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function to(b="",m=10){let y="";for(let C=0;C<m;C++)y+=Math.floor(10*Math.random());return b+y}class dy{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,C=50){var M=this;return(0,o.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ve,ze;return new Promise((wt,Bt)=>{const on=to("",20);N.port1.start();const ln=setTimeout(()=>{Bt(new Error("unsupported_event"))},C);ze={messageChannel:N,onMessage(Si){const ss=Si;if(ss.data.eventId===on)switch(ss.data.status){case"ack":clearTimeout(ln),ve=setTimeout(()=>{Bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),wt(ss.data.response);break;default:clearTimeout(ln),clearTimeout(ve),Bt(new Error("invalid_response"))}}},M.handlers.add(ze),N.port1.addEventListener("message",ze.onMessage),M.target.postMessage({eventType:m,eventId:on,data:y},[N.port2])}).finally(()=>{ze&&M.removeMessageHandler(ze)})})()}}function Ri(){return window}function Ul(){return typeof Ri().WorkerGlobalScope<"u"&&"function"==typeof Ri().importScripts}function Oc(){return(Oc=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ba="firebaseLocalStorageDb",Za="firebaseLocalStorage",So="fbase_key";class kc{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Hl(b,m){return b.transaction([Za],m?"readwrite":"readonly").objectStore(Za)}function td(){const b=indexedDB.open(ba,1);return new Promise((m,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Za,{keyPath:So})}catch(M){y(M)}}),b.addEventListener("success",(0,o.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Za)?m(C):(C.close(),yield function bi(){const b=indexedDB.deleteDatabase(ba);return new kc(b).toPromise()}(),m(yield td()))}))})}function Pc(b,m,y){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,o.Z)(function*(b,m,y){const C=Hl(b,!0).put({[So]:m,value:y});return new kc(C).toPromise()})).apply(this,arguments)}function Vp(){return(Vp=(0,o.Z)(function*(b,m){const y=Hl(b,!1).get(m),C=yield new kc(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function $p(b,m){const y=Hl(b,!0).delete(m);return new kc(y).toPromise()}const Rc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield td()),y.db})()}_withRetries(y){var C=this;return(0,o.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield y(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return Ul()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Mc._getInstance(function Yi(){return Ul()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,o.Z)(function*(M,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,o.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var C,M;if(y.activeServiceWorker=yield function Fp(){return Oc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new dy(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,o.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function To(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield td();return yield Pc(y,_a,"1"),yield $p(y,_a),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,o.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var M=this;return(0,o.Z)(function*(){return M._withPendingWrite((0,o.Z)(function*(){return yield M._withRetries(N=>Pc(N,y,C)),M.localCache[y]=C,M.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,o.Z)(function*(){const M=yield C._withRetries(N=>function Eh(b,m){return Vp.apply(this,arguments)}(N,y));return C.localCache[y]=M,M})()}_remove(y){var C=this;return(0,o.Z)(function*(){return C._withPendingWrite((0,o.Z)(function*(){return yield C._withRetries(M=>$p(M,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const C=yield y._withRetries(ve=>{const ze=Hl(ve,!1).getAll();return new kc(ze).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ve,value:ze}of C)N.add(ve),JSON.stringify(y.localCache[ve])!==JSON.stringify(ze)&&(y.notifyListeners(ve,ze),M.push(ve));for(const ve of Object.keys(y.localCache))y.localCache[ve]&&!N.has(ve)&&(y.notifyListeners(ve,null),M.push(ve));return M})()}notifyListeners(y,C){this.localCache[y]=C;const M=this.listeners[y];if(M)for(const N of Array.from(M))N(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function dr(b,m){return Pe(b,"POST","/v2/accounts/mfaSignIn:start",Ge(b,m))}const sr=1e12;class Ws{constructor(m){this.auth=m,this.counter=sr,this._widgets=new Map}render(m,y){const C=this.counter;return this._widgets.set(C,new nd(m,this.auth.name,y||{})),this.counter++,C}reset(m){var y;const C=m||sr;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(m){var y;return(null===(y=this._widgets.get(m||sr))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var C;return null===(C=y._widgets.get(m||sr))||void 0===C||C.execute(),""})()}}class nd{constructor(m,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;U(M,"argument-error",{appName:y}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function id(b){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=ji("rcb"),Sh=new Ye(3e4,6e4);class hy{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ri().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return U(function zp(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&Gt(Ri().grecaptcha)?Promise.resolve(Ri().grecaptcha):new Promise((C,M)=>{const N=Ri().setTimeout(()=>{M(be(m,"network-request-failed"))},Sh.get());Ri()[Qa]=()=>{Ri().clearTimeout(N),delete Ri()[Qa];const ze=Ri().grecaptcha;if(!ze||!Gt(ze))return void M(be(m,"internal-error"));const wt=ze.render;ze.render=(Bt,on)=>{const ln=wt(Bt,on);return this.counter++,ln},this.hostLanguage=y,C(ze)},di(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Qa,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),M(be(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Ri().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kv{load(m){return(0,o.Z)(function*(){return new Ws(m)})()}clearedOneInstance(){}}const Lc="recaptcha",vs={theme:"light",type:"image"};class Fc{constructor(m,y=Object.assign({},vs),C){this.parameters=y,this.type=Lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(C),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;U(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kv:new hy,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(y)||new Promise(N=>{const ve=ze=>{!ze||(m.tokenChangeListeners.delete(ve),N(ze))};m.tokenChangeListeners.add(ve),m.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof m)m(y);else if("string"==typeof m){const C=Ri()[m];"function"==typeof C&&C(y)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){U(ee()&&!Ul(),m.auth,"internal-error"),yield function jl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function me(b){return Je.apply(this,arguments)}(m.auth);U(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rd{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=Yr._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Bc(){return(Bc=(0,o.Z)(function*(b,m,y){const C=Xn(b),M=yield Uc(C,m,(0,B.m9)(y));return new rd(M,N=>ms(C,N))})).apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b);yield qn(!1,C,"phone");const M=yield Uc(C.auth,m,(0,B.m9)(y));return new rd(M,N=>Hu(C,N))})).apply(this,arguments)}function $c(){return($c=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b),M=yield Uc(C.auth,m,(0,B.m9)(y));return new rd(M,N=>qi(C,N))})).apply(this,arguments)}function Uc(b,m,y){return no.apply(this,arguments)}function no(){return(no=(0,o.Z)(function*(b,m,y){var C;const M=yield y.verify();try{let N;if(U("string"==typeof M,b,"argument-error"),U(y.type===Lc,b,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const ve=N.session;if("phoneNumber"in N)return U("enroll"===ve.type,b,"internal-error"),(yield Bl(b,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{U("signin"===ve.type,b,"internal-error");const ze=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return U(ze,b,"missing-multi-factor-info"),(yield dr(b,{mfaPendingCredential:ve.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield hc(b,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ve}}finally{y._reset()}})).apply(this,arguments)}function fn(){return(fn=(0,o.Z)(function*(b,m){yield _c((0,B.m9)(b),m)})).apply(this,arguments)}let er=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=Xn(y)}verifyPhoneNumber(y,C){return Uc(this.auth,y,(0,B.m9)(C))}static credential(y,C){return Yr._fromVerification(y,C)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:M}=y;return C&&M?Yr._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ni(b,m){return m?ai(m):(U(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Li extends Ne{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Hs(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Hs(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Hs(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Do(b){return bc(b.auth,new Li(b),b.bypassAuthState)}function Vr(b){const{auth:m,user:y}=b;return U(y,m,"internal-error"),Uu(y,new Li(b),b.bypassAuthState)}function hr(b){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,o.Z)(function*(b){const{auth:m,user:y}=b;return U(y,m,"internal-error"),_c(y,new Li(b),b.bypassAuthState)})).apply(this,arguments)}class vn{constructor(m,y,C,M,N=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(C,M){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:ve,error:ze,type:wt}=m;if(ze)return void y.reject(ze);const Bt={auth:y.auth,requestUri:C,sessionId:M,tenantId:ve||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(wt)(Bt))}catch(on){y.reject(on)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Do;case"linkViaPopup":case"linkViaRedirect":return hr;case"reauthViaPopup":case"reauthViaRedirect":return Vr;default:ke(this.auth,"internal-error")}}resolve(m){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $r=new Ye(2e3,1e4);function yi(){return(yi=(0,o.Z)(function*(b,m,y){const C=Xn(b);Y(b,m,bo);const M=Ni(C,y);return new sd(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function zc(){return(zc=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b);Y(C.auth,m,bo);const M=Ni(C.auth,y);return new sd(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function wa(){return(wa=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b);Y(C.auth,m,bo);const M=Ni(C.auth,y);return new sd(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let sd=(()=>{class b extends vn{constructor(y,C,M,N,ve){super(y,C,N,ve),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const C=yield y.execute();return U(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,o.Z)(function*(){ne(1===y.filter.length,"Popup operations only handle one event");const C=to();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(M=>{y.reject(M)}),y.resolver._isIframeWebStorageSupported(y.auth,M=>{M||y.reject(be(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,$r.get())};y()}}return b.currentPopupAction=null,b})();const Ia=new Map;class xo extends vn{constructor(m,y,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let C=Ia.get(y.auth._key());if(!C){try{const N=(yield function Xa(b,m){return od.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}Ia.set(y.auth._key(),C)}return y.bypassAuthState||Ia.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,C=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,y().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function od(){return(od=(0,o.Z)(function*(b,m){const y=zo(m),C=Gc(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(y));return yield C._remove(y),M})).apply(this,arguments)}function Ja(b,m){return ad.apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(b,m){return Gc(b)._set(zo(m),"true")})).apply(this,arguments)}function Ho(b,m){Ia.set(b._key(),m)}function Gc(b){return ai(b._redirectPersistence)}function zo(b){return pe("pendingRedirect",b.config.apiKey,b.name)}function io(){return(io=(0,o.Z)(function*(b,m,y){const C=Xn(b);Y(b,m,bo),yield C._initializationPromise;const M=Ni(C,y);return yield Ja(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Wc(){return(Wc=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b);Y(C.auth,m,bo),yield C.auth._initializationPromise;const M=Ni(C.auth,y);yield Ja(M,C.auth);const N=yield qc(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function cd(){return(cd=(0,o.Z)(function*(b,m,y){const C=(0,B.m9)(b);Y(C.auth,m,bo),yield C.auth._initializationPromise;const M=Ni(C.auth,y);yield qn(!1,C,m.providerId),yield Ja(M,C.auth);const N=yield qc(C);return M._openRedirect(C.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function kh(){return(kh=(0,o.Z)(function*(b,m){return yield Xn(b)._initializationPromise,ud(b,m,!1)})).apply(this,arguments)}function ud(b,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,o.Z)(function*(b,m,y=!1){const C=Xn(b),M=Ni(C,m),ve=yield new xo(C,M,y).execute();return ve&&!y&&(delete ve.user._redirectEventId,yield C._persistUserIfCurrent(ve.user),yield C._setRedirectUser(null,m)),ve})).apply(this,arguments)}function qc(b){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,o.Z)(function*(b){const m=to(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ph{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(y=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function hd(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rh(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var C;if(m.error&&!Rh(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(be(this.auth,M))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const C=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kc(m))}saveEventToCache(m){this.cachedEventUids.add(Kc(m)),this.lastProcessedEventTime=Date.now()}}function Kc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Rh({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Yp(b){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.Z)(function*(b,m={}){return Pe(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nh=/^https?/;function Ca(){return(Ca=(0,o.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Yp(b);for(const y of m)try{if(fd(y))return}catch{}ke(b,"unauthorized-domain")})).apply(this,arguments)}function fd(b){const m=W(),{protocol:y,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const ve=new URL(b);return""===ve.hostname&&""===C?"chrome-extension:"===y&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&ve.hostname===C}if(!Nh.test(y))return!1;if(Kp.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const py=new Ye(3e4,6e4);function gy(){const b=Ri().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let Qc=null;function Go(b){return Qc=Qc||function ql(b){return new Promise((m,y)=>{var C,M,N;function ve(){gy(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{gy(),y(be(b,"network-request-failed"))},timeout:py.get()})}if(null!==(M=null===(C=Ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Ri().gapi)||void 0===N||!N.load){const ze=ji("iframefcb");return Ri()[ze]=()=>{gapi.load?ve():y(be(b,"network-request-failed"))},di(`https://apis.google.com/js/api.js?onload=${ze}`).catch(wt=>y(wt))}ve()}}).catch(m=>{throw Qc=null,m})}(b),Qc}const Zp=new Ye(5e3,15e3),Lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fh(b){const m=b.config;U(m.authDomain,b,"auth-domain-config-required");const y=m.emulator?z(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:Oe.SDK_VERSION},M=Sr.get(b.config.apiHost);M&&(C.eid=M);const N=b._getFrameworks();return N.length&&(C.fw=N.join(",")),`${y}?${(0,B.xO)(C).slice(1)}`}function x(){return x=(0,o.Z)(function*(b){const m=yield Go(b),y=Ri().gapi;return U(y,b,"internal-error"),m.open({where:document.body,url:Fh(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lh,dontclear:!0},C=>new Promise(function(){var M=(0,o.Z)(function*(N,ve){yield C.restyle({setHideOnLeave:!1});const ze=be(b,"network-request-failed"),wt=Ri().setTimeout(()=>{ve(ze)},Zp.get());function Bt(){Ri().clearTimeout(wt),N(C)}C.ping(Bt).then(Bt,()=>{ve(ze)})});return function(N,ve){return M.apply(this,arguments)}}()))}),x.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jt{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rs=encodeURIComponent("fac");function xi(b,m,y,C,M,N){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,o.Z)(function*(b,m,y,C,M,N){U(b.config.authDomain,b,"auth-domain-config-required"),U(b.config.apiKey,b,"invalid-api-key");const ve={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:C,v:Oe.SDK_VERSION,eventId:M};if(m instanceof bo){m.setDefaultLanguage(b.languageCode),ve.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(ve.customParameters=JSON.stringify(m.getCustomParameters()));for(const[on,ln]of Object.entries(N||{}))ve[on]=ln}if(m instanceof yc){const on=m.getScopes().filter(ln=>""!==ln);on.length>0&&(ve.scopes=on.join(","))}b.tenantId&&(ve.tid=b.tenantId);const ze=ve;for(const on of Object.keys(ze))void 0===ze[on]&&delete ze[on];const wt=yield b._getAppCheckToken(),Bt=wt?`#${rs}=${encodeURIComponent(wt)}`:"";return`${Ao(b)}?${(0,B.xO)(ze).slice(1)}${Bt}`})).apply(this,arguments)}function Ao({config:b}){return b.emulator?z(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}const Ea="webStorageSupport";class Qp extends class pd{constructor(m){this.factorId=m}_process(m,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,C);case"signin":return this._finalizeSignIn(m,y.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Qp(m)}_finalizeEnroll(m,y,C){return function Os(b,m){return Pe(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(b,m))}(m,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Nc(b,m){return Pe(b,"POST","/v2/accounts/mfaSignIn:finalize",Ge(b,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yy=(()=>{class b{constructor(){}static assertion(y){return Qp._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var $h="@firebase/auth";class PC{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(C=>{m(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tl(){return window}function md(){return(md=(0,o.Z)(function*(b,m,y){var C;const{BuildInfo:M}=tl();ne(m.sessionId,"AuthEvent did not contain a session ID");const N=yield e0(m.sessionId),ve={};return we()?ve.ibi=M.packageName:xn()?ve.apn=M.packageName:ke(b,"operation-not-supported-in-this-environment"),M.displayName&&(ve.appDisplayName=M.displayName),ve.sessionId=N,xi(b,y,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,ve)})).apply(this,arguments)}function Jp(){return(Jp=(0,o.Z)(function*(b){const{BuildInfo:m}=tl(),y={};we()?y.iosBundleId=m.packageName:xn()?y.androidPackageName=m.packageName:ke(b,"operation-not-supported-in-this-environment"),yield Yp(b,y)})).apply(this,arguments)}function tg(){return(tg=(0,o.Z)(function*(b,m,y){const{cordova:C}=tl();let M=()=>{};try{yield new Promise((N,ve)=>{let ze=null;function wt(){var ln;N();const Si=null===(ln=C.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof Si&&Si(),"function"==typeof y?.close&&y.close()}function Bt(){ze||(ze=window.setTimeout(()=>{ve(be(b,"redirect-cancelled-by-user"))},2e3))}function on(){"visible"===document?.visibilityState&&Bt()}m.addPassiveListener(wt),document.addEventListener("resume",Bt,!1),xn()&&document.addEventListener("visibilitychange",on,!1),M=()=>{m.removePassiveListener(wt),document.removeEventListener("resume",Bt,!1),document.removeEventListener("visibilitychange",on,!1),ze&&window.clearTimeout(ze)}})}finally{M()}})).apply(this,arguments)}function e0(b){return ng.apply(this,arguments)}function ng(){return(ng=(0,o.Z)(function*(b){const m=t0(b),y=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(y)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function t0(b){if(ne(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),y=new Uint8Array(m);for(let C=0;C<b.length;C++)y[C]=b.charCodeAt(C);return y}(0,B.Pz)("authIdTokenMaxAge"),function Zv(b){(0,Oe._registerComponent)(new X.wA("auth",(m,{options:y})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),N=m.getProvider("app-check-internal"),{apiKey:ve,authDomain:ze}=C.options;U(ve&&!ve.includes(":"),"invalid-api-key",{appName:C.name});const wt={apiKey:ve,authDomain:ze,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fe(b)},Bt=new $o(C,M,N,wt);return function li(b,m){const y=m?.persistence||[],C=(Array.isArray(y)?y:[y]).map(ai);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Bt,y),Bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,C)=>{m.getProvider("auth-internal").initialize()})),(0,Oe._registerComponent)(new X.wA("auth-internal",m=>{const y=Xn(m.getProvider("auth").getImmediate());return new PC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)($h,"0.23.2",function vy(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Oe.registerVersion)($h,"0.23.2","esm2017")}("Browser");class ig extends Ph{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(m)),super.onEvent(m)}initialized(){var m=this;return(0,o.Z)(function*(){yield m.initPromise})()}}function Ey(b){return sg.apply(this,arguments)}function sg(){return(sg=(0,o.Z)(function*(b){const m=yield Wo()._get(eu(b));return m&&(yield Wo()._remove(eu(b))),m})).apply(this,arguments)}function Ta(){const b=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const C=Math.floor(Math.random()*m.length);b.push(m.charAt(C))}return b.join("")}function Wo(){return ai(eo)}function eu(b){return pe("authEvent",b.config.apiKey,b.name)}function bs(b){if(!b?.includes("?"))return{};const[m,...y]=b.split("?");return(0,B.zd)(y.join("?"))}function jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Sa(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function cg(b=(0,B.z$)()){return!("file:"!==Sa()&&"ionic:"!==Sa()&&"capacitor:"!==Sa()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function qh(){try{const b=self.localStorage,m=to();if(b)return b.setItem(m,"1"),b.removeItem(m),!function NC(b=(0,B.z$)()){return function Wh(){return(0,B.w1)()&&11===document?.documentMode}()||function tu(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch{return _d()&&(0,B.hl)()}return!1}function _d(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dg(){return(function Dy(){return"http:"===Sa()||"https:"===Sa()}()||(0,B.ru)()||cg())&&!function ug(){return(0,B.b$)()||(0,B.UG)()}()&&qh()&&!_d()}function Yh(){return cg()&&typeof document<"u"}function nl(){return(nl=(0,o.Z)(function*(){return!!Yh()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},il=U,fg="persistence";function Oo(b){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,o.Z)(function*(b){yield b._initializationPromise;const m=pg(),y=pe(fg,b.config.apiKey,b.name);m&&m.setItem(y,b._getPersistence())})).apply(this,arguments)}function pg(){var b;try{return(null===(b=function nu(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const rl=U;class ko{constructor(){this.browserResolver=ai(class Ps{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=ud,this._overrideRedirectResult=Ho}_openPopup(m,y,C,M){var N=this;return(0,o.Z)(function*(){var ve;ne(null===(ve=N.eventManagers[m._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const ze=yield xi(m,y,C,W(),M);return function $t(b,m,y,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ve=Math.max((window.screen.availWidth-C)/2,0).toString();let ze="";const wt=Object.assign(Object.assign({},k),{width:C.toString(),height:M.toString(),top:N,left:ve}),Bt=(0,B.z$)().toLowerCase();y&&(ze=Mt(Bt)?"_blank":y),et(Bt)&&(m=m||"http://localhost",wt.scrollbars="yes");const on=Object.entries(wt).reduce((Si,[ss,Xh])=>`${Si}${ss}=${Xh},`,"");if(function Xe(b=(0,B.z$)()){var m;return we(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Bt)&&"_self"!==ze)return function pn(b,m){const y=document.createElement("a");y.href=b,y.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(m||"",ze),new jt(null);const ln=window.open(m||"",ze,on);U(ln,b,"popup-blocked");try{ln.focus()}catch{}return new jt(ln)}(m,ze,to())})()}_openRedirect(m,y,C,M){var N=this;return(0,o.Z)(function*(){return yield N._originValidation(m),function ed(b){Ri().location.href=b}(yield xi(m,y,C,W(),M)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:M,promise:N}=this.eventManagers[y];return M?Promise.resolve(M):(ne(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(m);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const C=yield function E(b){return x.apply(this,arguments)}(m),M=new Ph(m);return C.register("authEvent",N=>(U(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:M},y.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Ea,{type:Ea},M=>{var N;const ve=null===(N=M?.[0])||void 0===N?void 0:N[Ea];void 0!==ve&&y(!!ve),ke(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Zc(b){return Ca.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return dt()||Ve()||we()}}),this.cordovaResolver=ai(class ag{constructor(){this._redirectPersistence=va,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ud,this._overrideRedirectResult=Ho}_initialize(m){var y=this;return(0,o.Z)(function*(){const C=m._key();let M=y.eventManagers.get(C);return M||(M=new ig(m),y.eventManagers.set(C,M),y.attachCallbackListeners(m,M)),M})()}_openPopup(m){ke(m,"operation-not-supported-in-this-environment")}_openRedirect(m,y,C,M){var N=this;return(0,o.Z)(function*(){!function Jv(b){var m,y,C,M,N,ve,ze,wt,Bt,on;const ln=tl();U("function"==typeof(null===(m=ln?.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(y=ln?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(N=null===(M=null===(C=ln?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(wt=null===(ze=null===(ve=ln?.cordova)||void 0===ve?void 0:ve.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===wt?void 0:wt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(on=null===(Bt=ln?.cordova)||void 0===Bt?void 0:Bt.InAppBrowser)||void 0===on?void 0:on.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const ve=yield N._initialize(m);yield ve.initialized(),ve.resetRedirect(),function Mh(){Ia.clear()}(),yield N._originValidation(m);const ze=function n0(b,m,y=null){return{type:m,eventId:y,urlResponse:null,sessionId:Ta(),postBody:null,tenantId:b.tenantId,error:be(b,"no-auth-event")}}(m,C,M);yield function rg(b,m){return Wo()._set(eu(b),m)}(m,ze);const wt=yield function Jc(b,m,y){return md.apply(this,arguments)}(m,ze,y),Bt=yield function eg(b){const{cordova:m}=tl();return new Promise(y=>{m.plugins.browsertab.isAvailable(C=>{let M=null;C?m.plugins.browsertab.openUrl(b):M=m.InAppBrowser.open(b,function Ce(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),y(M)})})}(wt);return function Xv(b,m,y){return tg.apply(this,arguments)}(m,ve,Bt)})()}_isIframeWebStorageSupported(m,y){throw new Error("Method not implemented.")}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Iy(b){return Jp.apply(this,arguments)}(m)),this.originValidationPromises[y]}attachCallbackListeners(m,y){const{universalLinks:C,handleOpenURL:M,BuildInfo:N}=tl(),ve=setTimeout((0,o.Z)(function*(){yield Ey(m),y.onEvent(jh())}),500),ze=function(){var on=(0,o.Z)(function*(ln){clearTimeout(ve);const Si=yield Ey(m);let ss=null;Si&&ln?.url&&(ss=function Hh(b,m){var y,C;const M=function og(b){const m=bs(b),y=m.link?decodeURIComponent(m.link):void 0,C=bs(y).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return bs(M).link||M||C||y||b}(m);if(M.includes("/__/auth/callback")){const N=bs(M),ve=N.firebaseError?function zh(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,ze=null===(C=null===(y=ve?.code)||void 0===y?void 0:y.split("auth/"))||void 0===C?void 0:C[1],wt=ze?be(ze):null;return wt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:wt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:M,postBody:null}}return null}(Si,ln.url)),y.onEvent(ss||jh())});return function(Si){return on.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ze);const wt=M,Bt=`${N.packageName.toLowerCase()}://`;tl().handleOpenURL=function(){var on=(0,o.Z)(function*(ln){if(ln.toLowerCase().startsWith(Bt)&&ze({url:ln}),"function"==typeof wt)try{wt(ln)}catch(Si){console.error(Si)}});return function(ln){return on.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=va,this._completeRedirectFn=ud,this._overrideRedirectResult=Ho}_initialize(m){var y=this;return(0,o.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,y,C,M){var N=this;return(0,o.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(m,y,C,M)})()}_openRedirect(m,y,C,M){var N=this;return(0,o.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(m,y,C,M)})()}_isIframeWebStorageSupported(m,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,y)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Yh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,o.Z)(function*(){if(m.underlyingResolver)return;const y=yield function hg(){return nl.apply(this,arguments)}();m.underlyingResolver=y?m.cordovaResolver:m.browserResolver})()}}function gg(b){return b.unwrap()}function Da(b){return _g(b)}function _g(b){const{_tokenResponse:m}=b instanceof B.ZR?b.customData:b;if(!m)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return er.credentialFromResult(b);const y=m.providerId;if(!y||"password"===y)return null;let C;switch(y){case"google.com":C=Vu;break;case"facebook.com":C=is;break;case"github.com":C=Dl;break;case"twitter.com":C=$u;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:ve,pendingToken:ze,nonce:wt}=m;return N||ve||M||ze?ze?y.startsWith("saml.")?Ji._create(y,ze):As._fromParams({providerId:y,signInMethod:y,pendingToken:ze,idToken:M,accessToken:N}):new Ms(y).credential({idToken:M,accessToken:N,rawNonce:wt}):null}return b instanceof B.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function nr(b,m){return m.catch(y=>{throw y instanceof B.ZR&&function yg(b,m){var y;const C=null===(y=m.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new r0(b,function xc(b,m){var y;const C=(0,B.m9)(b),M=m;return U(m.customData.operationType,C,"argument-error"),U(null===(y=M.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),Js._fromError(C,M)}(b,m));else if(C){const M=_g(m),N=m;M&&(N.credential=M,N.tenantId=C.tenantId||void 0,N.email=C.email||void 0,N.phoneNumber=C.phoneNumber||void 0)}}(b,y),y}).then(y=>{const M=y.user;return{operationType:y.operationType,credential:Da(y),additionalUserInfo:Sc(y),user:Ur.getOrCreate(M)}})}function xa(b,m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(b,m){const y=yield m;return{verificationId:y.verificationId,confirm:C=>nr(b,y.confirm(C))}})).apply(this,arguments)}class r0{constructor(m,y){this.resolver=y,this.auth=function mg(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return nr(gg(this.auth),this.resolver.resolveSignIn(m))}}class Ur{constructor(m){this._delegate=m,this.multiFactor=function Vl(b){const m=(0,B.m9)(b);return ya.has(m)||ya.set(m,ma._fromUser(m)),ya.get(m)}(m)}static getOrCreate(m){return Ur.USER_MAP.has(m)||Ur.USER_MAP.set(m,new Ur(m)),Ur.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var y=this;return(0,o.Z)(function*(){return nr(y.auth,Hu(y._delegate,m))})()}linkWithPhoneNumber(m,y){var C=this;return(0,o.Z)(function*(){return xa(C.auth,function fy(b,m,y){return Vc.apply(this,arguments)}(C._delegate,m,y))})()}linkWithPopup(m){var y=this;return(0,o.Z)(function*(){return nr(y.auth,function Ah(b,m,y){return wa.apply(this,arguments)}(y._delegate,m,ko))})()}linkWithRedirect(m){var y=this;return(0,o.Z)(function*(){return yield Oo(Xn(y.auth)),function el(b,m,y){return function Wp(b,m,y){return cd.apply(this,arguments)}(b,m,y)}(y._delegate,m,ko)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var y=this;return(0,o.Z)(function*(){return nr(y.auth,qi(y._delegate,m))})()}reauthenticateWithPhoneNumber(m,y){return xa(this.auth,function xh(b,m,y){return $c.apply(this,arguments)}(this._delegate,m,y))}reauthenticateWithPopup(m){return nr(this.auth,function Gp(b,m,y){return zc.apply(this,arguments)}(this._delegate,m,ko))}reauthenticateWithRedirect(m){var y=this;return(0,o.Z)(function*(){return yield Oo(Xn(y.auth)),function jo(b,m,y){return function Oh(b,m,y){return Wc.apply(this,arguments)}(b,m,y)}(y._delegate,m,ko)})()}sendEmailVerification(m){return function bh(b,m){return Cc.apply(this,arguments)}(this._delegate,m)}unlink(m){var y=this;return(0,o.Z)(function*(){return yield function gh(b,m){return zs.apply(this,arguments)}(y._delegate,m),y})()}updateEmail(m){return function Mp(b,m){return Nl((0,B.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function Co(b,m){return Nl((0,B.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function fi(b,m){return fn.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function wh(b,m){return Rl.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,y){return function Yu(b,m,y){return pa.apply(this,arguments)}(this._delegate,m,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ur.USER_MAP=new WeakMap;const Yo=U;let iu=(()=>{class b{constructor(y,C){if(this.app=y,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=y.options;Yo(M,"invalid-api-key",{appName:y.name}),Yo(M,"invalid-api-key",{appName:y.name});const N=typeof window<"u"?ko:void 0;this._delegate=C.initialize({options:{persistence:LC(M,y.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,C){!function $a(b,m,y){const C=Xn(b);U(C._canInitEmulator,C,"emulator-config-failed"),U(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!y?.disableWarnings,N=ki(m),{host:ve,port:ze}=function L(b){const m=ki(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:q(C.substr(N.length+1))}}{const[N,ve]=C.split(":");return{host:N,port:q(ve)}}}(m);C.config.emulator={url:`${N}//${ve}${null===ze?"":`:${ze}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ve,port:ze,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Le(){function b(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,y,C)}applyActionCode(y){return function wc(b,m){return Zr.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Gu(this._delegate,y)}confirmPasswordReset(y,C){return function ju(b,m,y){return Al.apply(this,arguments)}(this._delegate,y,C)}createUserWithEmailAndPassword(y,C){var M=this;return(0,o.Z)(function*(){return nr(M._delegate,function Wu(b,m,y){return kl.apply(this,arguments)}(M._delegate,y,C))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function vh(b,m){return qu.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function cy(b,m){return"EMAIL_SIGNIN"===mc.parseLink(m)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,o.Z)(function*(){Yo(dg(),y._delegate,"operation-not-supported-in-this-environment");const C=yield function qp(b,m){return kh.apply(this,arguments)}(y._delegate,ko);return C?nr(y._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Gh(b,m){Xn(b)._logFramework(m)}(this._delegate,y)}onAuthStateChanged(y,C,M){const{next:N,error:ve,complete:ze}=Zh(y,C,M);return this._delegate.onAuthStateChanged(N,ve,ze)}onIdTokenChanged(y,C,M){const{next:N,error:ve,complete:ze}=Zh(y,C,M);return this._delegate.onIdTokenChanged(N,ve,ze)}sendSignInLinkToEmail(y,C){return function ja(b,m,y){return Ic.apply(this,arguments)}(this._delegate,y,C)}sendPasswordResetEmail(y,C){return function ly(b,m,y){return za.apply(this,arguments)}(this._delegate,y,C||void 0)}setPersistence(y){var C=this;return(0,o.Z)(function*(){let M;switch(function xy(b,m){il(Object.values(or).includes(m),b,"invalid-persistence-type"),(0,B.b$)()?il(m!==or.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?il(m===or.NONE,b,"unsupported-persistence-type"):_d()?il(m===or.NONE||m===or.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):il(m===or.NONE||qh(),b,"unsupported-persistence-type")}(C._delegate,y),y){case or.SESSION:M=va;break;case or.LOCAL:M=(yield ai(Rc)._isAvailable())?Rc:eo;break;case or.NONE:M=Ei;break;default:return ke("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return nr(this._delegate,function dh(b){return hh.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return nr(this._delegate,ms(this._delegate,y))}signInWithCustomToken(y){return nr(this._delegate,function ys(b,m){return js.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,C){return nr(this._delegate,function yh(b,m,y){return ms((0,B.m9)(b),Xi.credential(m,y))}(this._delegate,y,C))}signInWithEmailLink(y,C){return nr(this._delegate,function hi(b,m,y){return Io.apply(this,arguments)}(this._delegate,y,C))}signInWithPhoneNumber(y,C){return xa(this._delegate,function jp(b,m,y){return Bc.apply(this,arguments)}(this._delegate,y,C))}signInWithPopup(y){var C=this;return(0,o.Z)(function*(){return Yo(dg(),C._delegate,"operation-not-supported-in-this-environment"),nr(C._delegate,function Hc(b,m,y){return yi.apply(this,arguments)}(C._delegate,y,ko))})()}signInWithRedirect(y){var C=this;return(0,o.Z)(function*(){return Yo(dg(),C._delegate,"operation-not-supported-in-this-environment"),yield Oo(C._delegate),function tr(b,m,y){return function ld(b,m,y){return io.apply(this,arguments)}(b,m,y)}(C._delegate,y,ko)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function Ol(b,m){return fa.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=or,b})();function Zh(b,m,y){let C=b;"function"!=typeof b&&({next:C,error:m,complete:y}=b);const M=C;return{next:ve=>M(ve&&Ur.getOrCreate(ve)),error:m,complete:y}}function LC(b,m){const y=function Kh(b,m){const y=pg();if(!y)return[];const C=pe(fg,b,m);switch(y.getItem(C)){case or.NONE:return[Ei];case or.LOCAL:return[Rc,va];case or.SESSION:return[va];default:return[]}}(b,m);if(typeof self<"u"&&!y.includes(Rc)&&y.push(Rc),typeof window<"u")for(const C of[eo,va])y.includes(C)||y.push(C);return y.includes(Ei)||y.push(Ei),y}class Qh{constructor(){this.providerId="phone",this._delegate=new er(gg(de.Z.auth()))}static credential(m,y){return er.credential(m,y)}verifyPhoneNumber(m,y){return this._delegate.verifyPhoneNumber(m,y)}unwrap(){return this._delegate}}Qh.PHONE_SIGN_IN_METHOD=er.PHONE_SIGN_IN_METHOD,Qh.PROVIDER_ID=er.PROVIDER_ID;const FC=U;class BC{constructor(m,y,C=de.Z.app()){var M;FC(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Fc(m,y,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qs(b){b.INTERNAL.registerComponent(new X.wA("auth-compat",m=>{const y=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new iu(y,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xi,FacebookAuthProvider:is,GithubAuthProvider:Dl,GoogleAuthProvider:Vu,OAuthProvider:Ms,SAMLAuthProvider:ua,PhoneAuthProvider:Qh,PhoneMultiFactorGenerator:yy,RecaptchaVerifier:BC,TwitterAuthProvider:$u,Auth:iu,AuthCredential:Ne,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(de.Z)},5861:(Lt,qe,R)=>{"use strict";function o(B,Oe,Me,_e,X,Ee,xe){try{var se=B[Ee](xe),G=se.value}catch(re){return void Me(re)}se.done?Oe(G):Promise.resolve(G).then(_e,X)}function de(B){return function(){var Oe=this,Me=arguments;return new Promise(function(_e,X){var Ee=B.apply(Oe,Me);function xe(G){o(Ee,_e,X,xe,se,"next",G)}function se(G){o(Ee,_e,X,xe,se,"throw",G)}xe(void 0)})}}R.d(qe,{Z:()=>de})},7582:(Lt,qe,R)=>{"use strict";function Oe(z,H){var he={};for(var Be in z)Object.prototype.hasOwnProperty.call(z,Be)&&H.indexOf(Be)<0&&(he[Be]=z[Be]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(Be=Object.getOwnPropertySymbols(z);Ge<Be.length;Ge++)H.indexOf(Be[Ge])<0&&Object.prototype.propertyIsEnumerable.call(z,Be[Ge])&&(he[Be[Ge]]=z[Be[Ge]])}return he}function Me(z,H,he,Be){var _t,Ge=arguments.length,Pe=Ge<3?H:null===Be?Be=Object.getOwnPropertyDescriptor(H,he):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(z,H,he,Be);else for(var kt=z.length-1;kt>=0;kt--)(_t=z[kt])&&(Pe=(Ge<3?_t(Pe):Ge>3?_t(H,he,Pe):_t(H,he))||Pe);return Ge>3&&Pe&&Object.defineProperty(H,he,Pe),Pe}function re(z,H,he,Be){return new(he||(he=Promise))(function(Pe,_t){function kt(Yt){try{Ut(Be.next(Yt))}catch(yt){_t(yt)}}function Ct(Yt){try{Ut(Be.throw(Yt))}catch(yt){_t(yt)}}function Ut(Yt){Yt.done?Pe(Yt.value):function Ge(Pe){return Pe instanceof he?Pe:new he(function(_t){_t(Pe)})}(Yt.value).then(kt,Ct)}Ut((Be=Be.apply(z,H||[])).next())})}function Fe(z){return this instanceof Fe?(this.v=z,this):new Fe(z)}function ke(z,H,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Be=he.apply(z,H||[]),Pe=[];return Ge={},_t("next"),_t("throw"),_t("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function _t(rt){Be[rt]&&(Ge[rt]=function(ot){return new Promise(function(vt,Vt){Pe.push([rt,ot,vt,Vt])>1||kt(rt,ot)})})}function kt(rt,ot){try{!function Ct(rt){rt.value instanceof Fe?Promise.resolve(rt.value.v).then(Ut,Yt):yt(Pe[0][2],rt)}(Be[rt](ot))}catch(vt){yt(Pe[0][3],vt)}}function Ut(rt){kt("next",rt)}function Yt(rt){kt("throw",rt)}function yt(rt,ot){rt(ot),Pe.shift(),Pe.length&&kt(Pe[0][0],Pe[0][1])}}function Ke(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,H=z[Symbol.asyncIterator];return H?H.call(z):(z=function Qe(z){var H="function"==typeof Symbol&&Symbol.iterator,he=H&&z[H],Be=0;if(he)return he.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&Be>=z.length&&(z=void 0),{value:z&&z[Be++],done:!z}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),he={},Be("next"),Be("throw"),Be("return"),he[Symbol.asyncIterator]=function(){return this},he);function Be(Pe){he[Pe]=z[Pe]&&function(_t){return new Promise(function(kt,Ct){!function Ge(Pe,_t,kt,Ct){Promise.resolve(Ct).then(function(Ut){Pe({value:Ut,done:kt})},_t)}(kt,Ct,(_t=z[Pe](_t)).done,_t.value)})}}}R.d(qe,{FC:()=>ke,KL:()=>Ke,_T:()=>Oe,gn:()=>Me,mG:()=>re,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError},5463:Lt=>{"use strict";Lt.exports=JSON.parse('[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"\xc5land Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barth\xe9lemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia, Plurinational State of"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands"},{"code":"CD","name":"Congo, Democratic Republic of the"},{"code":"CF","name":"Central African Republic"},{"code":"CG","name":"Congo"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"C\xf4te d\'Ivoire"},{"code":"CK","name":"Cook Islands"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Cura\xe7ao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (Malvinas)"},{"code":"FM","name":"Micronesia, Federated States of"},{"code":"FO","name":"Faroe Islands"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran, Islamic Republic of"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea, Democratic People\'s Republic of"},{"code":"KR","name":"Korea, Republic of"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People\'s Democratic Republic"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova, Republic of"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin, (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"R\xe9union"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten, (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"T\xfcrkiye"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan, Province of China"},{"code":"TZ","name":"Tanzania, United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands"},{"code":"US","name":"United States of America"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela, Bolivarian Republic of"},{"code":"VG","name":"Virgin Islands, British"},{"code":"VI","name":"Virgin Islands, U.S."},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]')}},Lt=>{Lt(Lt.s=6223)}]);